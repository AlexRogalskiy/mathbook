\section[Полнота исчисления предикатов]{Полнота исчисления предикатов}\label{sec:GoedelPr}

\p Теперь, как и~в~случае исчисления высказываний, мы~получим доказательство обратного утверждения~--- выводимости любой общезначимой формулы логики предикатов. Для этого потребуется ряд подготовительных шагов, аналогичных тем, что мы~проделали для исчисления высказываний.

Прежде всего обобщим понятие выводимости из~посылок на~исчисление предикатов. Пусть формулы~$\vect An$ \emph{замкнуты}, т.~е. не~имеют свободных переменных. Будем говорить, что формула~$E$ \emph{выводима из~посылок} $A_1,\ldots A_n$ и~писать $A_1,\ldots A_n \vdash E$, если можно предоставить последовательность формул $B_1,\ldots B_n$, в~которой каждая формула либо является одной из~посылок $A_1,\ldots A_n$, либо аксиомой, либо следует из~двух предшествующих формул по~modus ponens, либо следует из~одной из~предшествующих по~$\forall$-правилу или~$\exists$-правилу и~где~$B_n$ совпадает с~$E$. Условие замкнутости формул~$\vect An$ является существенным: без него невозможно распространить теорему о~дедукции на~исчисление предикатов. Действительно: по~правилу обобщения (с.~\pageref{lemma:gen}) из~произвольной формулы~$A$ выводится формула~$\forall xA$, но~формула $A \imp \forall xA$, если не~требовать замкнутости~$A$, необщезначима и~потому невыводима. Если же~потребовать замкнутость~$A$, то~проблем нет: можно применить правило Бернайса к~$A \imp A$.

\begin{theorem}[о дедукции в~исчислении предикатов]\label{deduct2}Для любого набора замкнутых формул~$\Gamma$, замкнутой формулы~$A$ и~формулы~$B$ имеет место $\Gamma, A \vdash B$ тогда и~только тогда, когда $\Gamma \vdash A\imp B$.\end{theorem}

\beginproof Как и~прежде, в~одну сторону утверждение является, по~сути, переформулировкой правила modus ponens. Пусть существует вывод формулы~$A \imp B$ из~посылок~$\Gamma$. Тогда, если добавить~$A$ к~числу посылок, $B$ будет выводима из~$A\imp B$ и~$A$ по~modus ponens.

Обратное утверждение доказывается по~той же~схеме, что и~в~теореме~\ref{th:deduct1} о~дедукции в~исчислении высказываний. Пусть $B_1,\ldots B_n$~--- вывод формулы~$B$ из~набора посылок~$\Gamma$ и~посылки~$A$. Добавим к~каждой формуле вывода импликацию из~$A$, так что у~нас получится список $A\imp B_1,\ldots A\imp B_n$, после чего дополним этот список до~доказательства.

Для каждой из~формул $B_1, \ldots B_n$ имеет место один из~шести случаев:

\begin{enumerate}
	\item $B_i$ есть~$A$.
 \item	$B_i$ принадлежит~$\Gamma$.
 \item	$B_i$ является аксиомой.
 \item	$B_i$ получается по~modus ponens из~$B_j$ и~$B_j\imp B_i$, $j < i$.

Случаи 1--4 доказываются так же, как и~в~теореме~\ref{th:deduct1}.

 \item $B_i$ выводится по~$\forall$-правилу Бернайса, т.~е. $\Gamma, A \vdash E \imp F$, переменная~$x$ не~входит свободно в~$E$, и~$B_i$ есть формула $E \imp \forall x F$.

 По~предположению индукции $\Gamma \vdash A \imp ( E \imp F)$, а~нам требуется доказать, что $\Gamma \vdash A \imp ( E \imp \forall x F)$. Для этого воспользуемся тем фактом, что (проверьте!) \[A \imp ( E \imp F) \sim A \& E \imp F.\]

 Из~этой эквивалентности вытекает, что $\Gamma \vdash A \& E \imp F$, где~$x$ не~входит свободно в~$E$, а~формула~$A$~--- замкнута. Следовательно, $x$ не~входит свободно в~$A \& E$, и~мы~можем воспользоваться~$\forall$-правилом Бернайса: $\Gamma \vdash A \& E \imp \forall x F$.

 Воспользовавшись той же~эквивалентностью в~обратную сторону, получаем $\Gamma \vdash A \imp ( E \imp \forall x F)$, что и~требовалось.

 \item $B_i$ выводится по~$\exists$-правилу Бернайса, т.~е. $\Gamma, A \vdash E \imp F$, переменная~$x$ не~входит свободно в~$F$, и~$B_i$ есть формула $\exists x E \imp F$.

 Теперь нам, имея предположение индукции $\Gamma \vdash A \imp ( E \imp F)$, требуется доказать, что $\Gamma \vdash A \imp ( \exists x E \imp F)$. Воспользуемся следующей эквивалентностью (проверьте её):
 \[A \imp (E \imp F) \sim E \imp (A \imp F).\]

 Из~этой эквивалентности вытекает, что $\Gamma \vdash E \imp (A \imp F)$, где~$x$ не~входит свободно в~$F$, а~формула~$A$~--- замкнута. Следовательно, $x$ не~входит свободно в~$A \imp F$, и~мы~можем воспользоваться~$\exists$-правилом Бернайса: $\Gamma \vdash \exists x E \imp (A \imp F)$.

 Воспользовавшись той же~эквивалентностью в~обратную сторону, получаем $\Gamma \vdash A \imp ( \exists x E \imp F)$, что и~требовалось.\end{enumerate}

Мы доказали, что $\Gamma \vdash A\imp B_i$ для всех $i = 1, \ldots n$, а~значит, и~$\Gamma \vdash A\imp B$.\endproof

\begin{theorem} Для любой формулы~$C$, замкнутых формул~$A$, $B$ и~множества замкнутых формул~$\Gamma$ справедливы правила введения и~удаления, сформулированные в~теореме~\ref{newmodus} (табл. на~с.~\pageref{newmodus}).
\end{theorem}

\beginproof Почти все доказательства, данные для теоремы~\ref{newmodus}, справедливы и~в~исчислении предикатов, т.~к. основаны на~теореме о~дедукции и~не~допускают появления формул со~свободными переменными слева от~знака~$\vdash$. Единственное исключение составляет~$\neg$-удаление: в~процессе его обоснования формула~$C$ оказывается в~числе посылок. Но~это несущественно: мы~можем сначала вывести вместо формулы~$C$ её замыкание кванторами всеобщности, а~потом воспользоваться аксиомой $\forall x C \imp C$ и~modus ponens.\endproof

\p Назовём \emph{моделью множества~$\Gamma$} замкнутых формул такую модель~$\mathfrak M$, на~которой все формулы из~$\Gamma$ одновременно истинны. Множество~$\Gamma$ может и~не~иметь модели (например, если~$\Gamma$ состоит из~формул~$P(x)$ и~$\neg P(x)$), тогда оно называется несовместным. Если у~$\Gamma$ есть модель, то~$\Gamma$ называется совместным множеством.

\begin{theorem}\label{th:predcorrect2} Если $\Gamma \vdash A$ и~все формулы из~$\Gamma$ одновременно истинны в~некоторой модели~$\mathfrak M$, то~формула~$A$ также истинна в~модели~$\mathfrak M$.
\end{theorem}

\beginproof Пусть~$\Gamma$ состоит из~формул~$\vect An$. Тогда по~теореме о~дедукции \[\vdash A_1 \imp (A_2 \imp \ldots (A_n \imp A)\ldots).\]

В силу того, что $A \imp (B\imp C) \sim A\& B \imp C$, \[\vdash A_1 \& A_2 \& \ldots \& A_n \imp A.\]

В модели $\mathfrak M$ все~$A_i$ истинны, а~в~силу теоремы~\ref{predcorrect} вся формула также должна быть истинной в~$\mathfrak M$. Но~это возможно только тогда, когда~$A$ также истинна в~$\mathfrak M$, что и~требовалось доказать.\endproof

Набор~$\Gamma$ замкнутых формул сигнатуры может рассматриваться как набор \emph{аксиом}~--- изначальных утверждений, из~которых, следуя логическим правилам, выводятся производные утверждения, или \emph{теоремы}. Именно поэтому~$\Gamma$ также называют \emph{теорией}\label{def:theory}. Теория называется \label{def:inconsis}\emph{противоречивой}, если существует такая формула~$C$, что одновременно $\Gamma \vdash C$ и~$\Gamma \vdash \neg C$. Если~$C$~--- замкнута, то, как известно, в~этом случае по~правилу~$\neg$-удаления выводится вообще всё, что угодно, любая формула. Но~и~если~$C$~--- не~замкнута, ситуация не~меняется. По~правилу обобщения, $\Gamma \vdash C'$ и~$\Gamma \vdash (\neg C)'$, где штрих означает замыкание формулы кванторами всеобщности по~всем свободным переменным. Воспользовавшись тем, что $\vdash \forall x C \imp \exists x C$, а~также тем, что $\vdash \forall x\neg C \imp \neg \exists x C$, имеем, что $\Gamma \vdash C''$ и~$\Gamma \vdash \neg C''$, где~$C''$ означает замыкание формулы~$C$ кванторами существования по~всем свободным переменным. Для~$C''$ справедливо~$\neg$-удаление и~из~$\Gamma$ возможно вывести любую формулу.

Таким образом, все противоречивые теории сигнатуры, сколь бы~внешне отличными друг от~друга не~были их~аксиомы, эквивалентны между собой: они имеют одно и~то~же~множество теорем, состоящее из~вообще всех формул сигнатуры. Поэтому вывод новых теорем в~теории имеет смысл лишь тогда, когда мы~точно знаем (или имеем достаточные основания полагать), что теория непротиворечива.

Исходя из~того, что в~противоречивой теории доказуема любая формула, можно получить такой, например, критерий непротиворечивости: \emph{теория~$\Gamma$ непротиворечива, если и~только если существует хотя бы~одна формула, не~выводимая из~$\Gamma$}. На~практике, однако, этот критерий слабо применим, и~сейчас будет сформулировано другое условие, которое затем обратится в~критерий.

\begin{theorem}Любая теория, имеющая модель, непротиворечива.\end{theorem}

\beginproof Пусть~$\Gamma$~--- множество замкнутых формул, имеющее модель $\mathfrak M$. Выберем любую замкнутую формулу~$C$. Если бы~$\Gamma$ было противоречивым, то~имело бы~место $\Gamma \vdash C$ и~$\Gamma \vdash \neg C$. Но~по~теореме~\ref{th:predcorrect2}, все формулы, выводимые из~$\Gamma$, должны быть истинны в~модели $\mathfrak M$~--- следовательно, $C$ должна быть одновременно истинной и~ложной, чего быть не~может.\endproof

Можно ли~превратить последнее условие в~критерий, т.~е. можно ли~утверждать, что любое непротиворечивое множество имеет модель? Да, можно. И~после доказательства этого факта уже всего один маленький шаг будет отделять нас от~доказательства того, что любая общезначимая формула выводима в~исчислении предикатов. Нам понадобится ещё понятие \emph{полного} множества замкнутых формул и~две леммы.

Будем говорить, что множество формул~$\Gamma$ \emph{полное}, если для любой замкнутой формулы~$A$ сигнатуры имеет место либо $\Gamma \vdash A$, либо $\Gamma \vdash \neg A$. Ясно, что всякое противоречивое множество полно, но~интерес представляют только полные непротиворечивые множества замкнутых формул.

\begin{lemma}[Линденбаума\indLindenbaum]Любое непротиворечивое множество формул целиком содержится в~некотором непротиворечивом полном множестве формул.\end{lemma}

\beginproof Пусть~$\Gamma$~--- непротиворечивое множество замкнутых формул. Заметим, что для любой замкнутой формулы~$A$ либо~$\Gamma, A$, либо $\Gamma, \neg A$~--- непротиворечивое множество. Предположим обратное, тогда существуют такие формулы~$C$ и~$D$, что $\Gamma, A \vdash C$ и~$\Gamma, A \vdash \neg C$; $\Gamma, \neg A \vdash D$ и~$\Gamma, \neg A \vdash \neg D$. Тогда из~первой пары утверждений по~$\neg$-введению следует $\Gamma \vdash \neg A$, а~из~второй пары~--- $\Gamma \vdash \neg \neg A$. Но~$\Gamma$ по~условию~--- непротиворечивое множество формул.

Занумеруем всё множество формул сигнатуры так, что~$A_i$ будет обозначать~$i$-ю по~порядку формулу. Сделать это можно, например, так: любая формула~$A$ есть конечная строка в~алфавите из~конечного числа~$p$ символов, и~потому может быть проинтерпретирована как натуральное число~$n$, записанное в~$p$-ичной системе счисления. Тогда номер~$i$ формулы~$A$ есть количество формул сигнатуры среди строк, соответствующих числам в~$p$-ичной системе счисления, меньшим или равным~$n$.

Обозначим также~$\Gamma$ через~$\Gamma_1$ и~будем на~каждом~$i$-м шаге добавлять к~$\Gamma_i$ формулу~$B_i$, равную~$A_i$ или~$\neg A_i$, таким образом, чтобы $\Gamma_{i+1}$, полученное добавлением формулы~$B_i$ ко~множеству~$\Gamma_i$, было непротиворечивым. Докажем, что результат добавления всех формул~$B_i$ к~$\Gamma$ (обозначим его как~$\Gamma'$) будет искомым полным непротиворечивым множеством.

Множество формул~$\Gamma'$ бесконечно, и~из~того факта, что любые первые~$n$ его формул образуют непротиворечивое множество, напрямую ещё не~следует, что \emph{всё} $\Gamma'$ непротиворечиво. Тем не~менее если бы~удалось найти выводы вида $\Gamma' \vdash C$ и~$\Gamma' \vdash \neg C$, то~эти выводы по~определению могли бы~содержать лишь конечное число формул и,~как следствие, лишь конечное число формул из~$\Gamma'$. Пусть максимальный номер формулы, участвующей в~выводах формул~$C$ и~$\neg C$, равен~$n$. Тогда вывод противоречия был бы~возможен из~первых~$n$ формул~$\Gamma'$, но~это противоречит построению~$\Gamma'$. Доказательство леммы завершено.\endproof

Важно заметить, что только что приведённое доказательство леммы Линденбаума имеет принципиальное отличие от~доказательств, рассматривавшихся нами до~сих пор. Прежде, обосновывая существование какого-нибудь объекта, мы~давали <<рецепт>>, буквально следуя которому этот объект можно было бы~построить в~любом конкретном случае. К~примеру, доказательство теоремы о~дедукции содержит в~себе алгоритм построения вывода $\Gamma \vdash A \imp B$ из~предъявленного вывода $\Gamma, A \vdash B$, а~доказательство теоремы~\ref{th:pcompleteness} о~полноте исчисления высказываний даёт способ построения (пусть не~самого изящного) вывода любой общезначимой пропозициональной формулы. Доказательство же~леммы Линденбаума бесполезно для практического построения полного непротиворечивого надмножества над данным непротиворечивым множеством формул. Почему? На~каждом шаге требуется принимать решение, какую из~формул~$A_i$, $\neg A_i$ добавлять к~множеству, и, хотя известно, что одну из~них, действительно, можно добавить, сохранив непротиворечивость (иначе~$\Gamma$ было бы~противоречивым), мы~не~имеем никакого представления о~том, \emph{какую именно} из~формул надо добавлять. Поэтому ниже мы~докажем существование вывода любой общезначимой формулы логики предикатов, не~зная, как этот вывод построить. (Заметим ещё, что бесконечность множества тут роли не~играет: в~конечном итоге нас интересует не~само~$\Gamma'$, а~возможность определения принадлежности той или иной формулы к~$\Gamma'$. Этот вопрос мог бы~быть решён для любой формулы за~конечное количество описанных в~доказательстве шагов.)

Заметим ещё, что множество~$\Gamma'$, получаемое при доказательстве леммы Линденбаума, содержит все те~и~только те~формулы, которые из~него можно вывести.


\begin{lemma}\label{lemma:addexists}
Если множество~$\Gamma$ содержит замкнутую формулу~$\exists xA$ и~непротиворечиво, а~константа~$c$ не~входит ни~в~одну из~формул множества~$\Gamma$, то~добавление формулы $(c \mid x)A$ к~$\Gamma$ оставляет это множество непротиворечивым.
\end{lemma}

\beginproof Прежде всего заметим, что формула $(c \mid x)A$ замкнута: в~силу замкнутости~$\exists xA$ единственным параметром формулы~$A$ может быть переменная~$x$, но~она заменяется на~константу~$c$. Поэтому добавлять $(c \mid x)A$ к~посылкам допустимо.

Теперь проведём доказательство от~противного. Если добавление формулы $(c \mid x)A$ к~$\Gamma$ делает множество противоречивым, то~это означает ($\neg$-вве\-дение), что из~$\Gamma$ выводится $\neg (c \mid x)A$. Возьмём вывод формулы $\neg (c \mid x)A$ из~$\Gamma$ и~текстуально заменим~в~нём все вхождения константы~$c$ на~новую переменную~$y$, такую, что~$y$ не~встречается ни~в~одной формуле из~$\Gamma$ (в~т.~ч. в~$A$). При этом вывод останется выводом: аксиомы и~правила вывода не~различают констант~и~переменных,~а~формулы~$\Gamma$ не~изменятся~и~останутся замкнутыми (тут мы~впервые использовали тот факт, что~$c$ не~входит~в~формулы из~$\Gamma$).

Таким образом, имеет место $\Gamma \vdash \neg (y\mid x) A$, откуда по~правилу обобщения $\Gamma \vdash \forall y \neg (y\mid x) A$ и~по~закону де~Моргана $\Gamma \vdash \neg \exists y {(y\mid x)} A$. Но~$y$ не~входит в~формулу~$A$~--- и~это значит, что выполняется условие корректного переименования связанных переменных (см. с.~\pageref{lemma:linkrename}). Поэтому $\exists y (y\mid x) A \sim \exists x A$ и~окончательно $\Gamma \vdash \neg \exists x A$.

Но~$\Gamma$ содержит формулу~$\exists xA$, следовательно, $\Gamma$ должно быть противоречивым, но~это противоречит условию.\endproof

%\begin{lemma}[о добавлении констант]Если $\Gamma \vdash A$ в~сигнатуре~$\sigma$, то~$\Gamma \vdash A$ и~в~сигнатуре~$\sigma'$, полученной из~исходной добавлением новых констант.
%\end{lemma}

\begin{theorem}[Гёделя\indGoedel]\label{Goedel1}Любая непротиворечивая теория~$\Gamma$ сигнатуры~$\sigma$ имеет модель.\end{theorem}

\beginproof Мы~ограничимся случаем, когда сигнатура имеет конечное количество предикатных символов и~констант, хотя теорема обобщается и~на~бесконечные сигнатуры.

Чтобы задать модель, необходимо выбрать предметную область, после чего проинтерпретировать на~этой предметной области константы и~предикатные символы. В~процессе доказательства сперва будет построена такая интерпретация, а~потом будет доказано, что все формулы из~$\Gamma$ в~ней истинны.

В качестве предметной области возьмём множество натуральных чисел. Если исходная сигнатура~$\sigma$ содержит~$n$ констант, то~пусть их~интерпретацией будет~$n$ первых натуральных чисел. Кроме того, для каждого натурального числа, начиная с~$n$\footnote{\,Или с~$n+1$~--- это зависит от~того, считать ли~нуль натуральным числом. По~традиции в~руководствах по~математической логике и~теории множеств нуль включают в~множество натуральных чисел.}, мы~добавим в~исходную сигнатуру по~новой константе. У~нас, таким образом, получится новая сигнатура~$\sigma'$, которая содержит все символы из~$\sigma$ и~счётно-бесконечное множество констант, каждая из~которых интерпретируется уникальным натуральным числом. Осталось проинтерпретировать предикатные символы.

Теперь мы~будем действовать примерно так же, как и~при доказательстве леммы Линденбаума (на~самом деле, нам нужна была не~она сама, а~способ рассуждений при её доказательстве). Занумеруем всё множество формул сигнатуры так, что~$A_i$ будет обозначать~$i$-ю по~порядку формулу. Обозначим также~$\Gamma$ через~$\Gamma_1$ и~будем на~каждом~$i$-м шаге добавлять к~$\Gamma_i$ формулы

\[
\left\{
\begin{array}{l}
\mbox{$\neg A_i$, если добавление~$A_i$ к~$\Gamma_i$ ведёт к~противоречию,}\\
\mbox{$\exists x B$ и~$(c\mid x)B$, если добавление~$A_i$ к~$\Gamma_i$ }\\
\qquad \mbox{ непротиворечиво, а~формула~$A_i$ имеет вид $\exists x B$,}\\
\mbox{$A_i$ в~остальных случаях.}\\
\end{array}
\right.
\]

Результатом всех этих добавлений будет полное непротиворечивое множество формул~$\Gamma'$: его полнота следует из~построения, непротиворечивость на~каждом~$i$-м шаге следует из~леммы~\ref{lemma:addexists}, а~непротиворечивость всего~$\Gamma'$ доказывается так же, как в~лемме Линденбаума. К~тому же, множество~$\Gamma'$ обладает тем свойством, что если $\Gamma' \vdash \exists x B$, то~найдётся такая константа~$c_j$, что $\Gamma' \vdash (c_j \mid x) B$.

Рассмотрим все замкнутые атомарные формулы~$\sigma'$, т.~е. формулы вида \[P(c_{j_1},\ldots,c_{j_n}),\] где~$P$~--- предикатный символ валентности~$n$, а~$c_j$~--- $j$-я константа сигнатуры~$\sigma'$. В~силу полноты и~непротиворечивости~$\Gamma'$ для каждой такой формулы возможны всего два варианта: либо она сама, либо её отрицание выводятся из~$\Gamma'$. Естественно предложить такую модель, в~которой если $\Gamma' \vdash P(c_{j_1},\ldots,c_{j_n})$, то~$[P(c_{j_1},\ldots,c_{j_n})] = \true$, в~противном случае~--- $[P(c_{j_1},\ldots,c_{j_n})] = \false$. Т.~к. нашей сигнатуре~$\sigma'$ константы имеются для всех элементов предметной области, мы~тем самым полностью задаём интерпретацию всех предикатных символов на~множестве натуральных чисел. Построение модели $\mathfrak M$ завершено.

Теперь нам необходимо доказать, что все формулы из~$\Gamma$, рассматриваемые как формулы сигнатуры~$\sigma$, одновременно истинны в~$\mathfrak M$. Для этого нам достаточно доказать, что все замкнутые формулы, выводимые из~$\Gamma$ в~сигнатуре~$\sigma$, истинны в~$\mathfrak M$. Для начала будем действовать в~терминах расширенного множества формул~$\Gamma'$ расширенной сигнатуры~$\sigma'$ и~докажем, что для любой замкнутой формулы~$A$ сигнатуры~$\sigma'$ имеет место пара утверждений:

\[
\left\{
\begin{array}{l}
\mbox{если $\Gamma' \vdash A$, то~$A$ истинна в~$\mathfrak M$,}\\
\mbox{если $\Gamma' \not \vdash A$, то~$A$ ложна в~$\mathfrak M$.}\\
\end{array}
\right.
\]

В конечном итоге нам нужно только первое из~этих утверждений, но~в~процессе доказательства индукцией по~построению мы~воспользуемся также и~вторым из~них в~качестве предположения индукции, поэтому будем доказывать оба.

Итак, индукция по~построению. Для всякой замкнутой формулы имеет место один из~перечисленных случаев:

\begin{enumerate}
\item Формула является атомарной. В~этом случае оба утверждения верны по~построению интерпретации $\mathfrak M$.
\item Формула имеет вид~$\neg A$. Если $\Gamma' \vdash \neg A$, то в~силу непротиворечивости $\Gamma' \not \vdash A$. В~этом случае, по~предположению индукции, $A$~--- ложна и, следовательно, $\neg A$~--- истинна. Если $\Gamma' \not \vdash \neg A$, то в~силу полноты $\Gamma' \vdash A$. По~предположению индукции, $A$~--- истинна и, следовательно, $\neg A$~--- ложна.
\item Формула имеет вид~$A \gamma B$, где~$\gamma$~--- логическая связка. Возможны только четыре комбинации выводимостей для формул~$A$ и~$B$:

\begin{center}
	\begin{tabular}{r@{$\quad\mbox{откуда}\quad\Gamma'\vdash$}rrrr}
$\Gamma' \vdash \neg A,\neg B,$ & $\phantom{(}A\imp B,\phantom{)}$ & $\neg(A\&B),$ & $\neg (A \vee B).$ \\
$\Gamma' \vdash \neg A,\phantom{\neg} B,$ & $\phantom{(}A\imp B,\phantom{)}$ & $\neg(A\&B),$ & $\phantom{(}A \vee B.\phantom{)}$ \\
 $\Gamma' \vdash \phantom{\neg} A,\neg B,$ & $ \neg ( A\imp B ) ,$ & $\neg(A\&B),$ & $\phantom{(}A \vee B.\phantom{)}$ \\
 $\Gamma' \vdash \phantom{\neg} A,\phantom{\neg} B,$ & $\phantom{(}A\imp B,\phantom{)}$ & $\phantom{(}A\&B,\phantom{)}$ & $\phantom{(}A \vee B.\phantom{)}$ \\
	\end{tabular}
\end{center}

(Тут мы~воспользовались утверждениями леммы~\ref{fullnesslemma2} из~\S\,\ref{sec:Prop}.)

Пусть, например, $\Gamma' \vdash A \imp B$. В~силу непротиворечивости~$\Gamma'$ исключён случай, когда $\Gamma' \vdash A,\neg B$, во~всех же~остальных случаях~$A \imp B$ должна быть истинной по~предположению индукции. Пусть теперь ${\Gamma' \not \vdash A \imp B}$. Это возможно только в~ситуации $\Gamma' \vdash A,\neg B$, в~которой, по~предположению индукции, $A$~--- истинна, $B$~--- ложна и, следовательно, $A \imp B$ ложна.

Аналогично разбираются случаи для всех остальных логических связок.

\item Формула имеет вид $\exists x A$. По~построению~$\Gamma'$ имеется такая константа~$c$, что $\Gamma' \vdash (c\mid x) A$. В~силу замкнутости $\exists x A$ параметром~$A$ может являться только переменная~$x$, поэтому $(c\mid x) A$ замкнута и~имеет меньшее количество логических связок, чем $\exists x A$. Поэтому можно применить предположение индукции, в~силу которого $(c\mid x) A$ истинна в~$\mathfrak M$. Тогда по~лемме~\ref{lemma:subst} из~\S\,\ref{sec:Pred} формула~$A$ истинна на~оценке $(x \mapsto c)$ и~$\exists x A$ истинна.

Пусть $\Gamma' \not \vdash \exists x A$. Утверждение о~ложности $\exists x A$ в~этом случае докажем от~противного. Если предположить, что $\exists x A$ истинна, то~найдётся элемент предметной области, а~с~ним и~константа~$c$, для которой $(c\mid x) A$ истинна. По~предположению индукции, все более простые истинные формулы обязаны быть выводимыми, поэтому $\Gamma' \vdash (c\mid x) A$. Но~по~$\exists$-схеме $(c\mid x) A \imp \exists x A(x)$, и~по~modus ponens $\Gamma' \vdash \exists x A$~--- противоречие.

\item Пусть формула имеет вид $\forall x A$ и~выводима из~$\Gamma'$. Формула $\forall x A \imp {(c\mid x) A}$ является аксиомой для любой константы~$c$, поэтому и~${(c\mid x) A}$ выводима из~$\Gamma'$ для любой константы~$c$. По~предположению индукции каждая формула $(c\mid x) A$ истинна в~$\mathfrak M$, значит, $A$ истинна на~любой оценке $(x \mapsto c)$ и~(т.~к. множество констант в~$\sigma'$ <<покрывает>> всю предметную область) $\forall x A$ истинна.

Покажем, наконец, что если $\Gamma' \not \vdash \forall x A$, то~$\forall x A$ ложна в~$\mathfrak M$. Действительно, если не~выводима $\forall x A$, то~выводимо её отрицание, доказуемо эквивалентное $\exists x \neg A$. По~построению~$\Gamma'$ имеется такая константа~$c$, что выводима формула $\neg (c\mid x)A$, истинная по~предположению индукции. Поэтому~$A$ истинна не~при всех значениях~$x$, и~формула $\forall x A$ ложна.

\end{enumerate}

Итак, мы~показали, что всякая замкнутая формула, выводимая из~$\Gamma'$ (в~частности, принадлежащая множеству исходных посылок~$\Gamma$, являющемуся частью~$\Gamma'$), истинна в~$\mathfrak M$. Т.~е. $\mathfrak M$ действительно является моделью для непротиворечивого множества замкнутых формул~$\Gamma$.\endproof

Заметим, что, доказывая теорему~\ref{Goedel1}, мы~построили модель на~множестве натуральных чисел. Отсюда следует ещё одно утверждение, являющееся вариантом \emph{теоремы Лёвенгейма\indLowenheim--Сколема\indSkolem}.

\begin{theorem}[Лёвенгейма--Сколема]\label{th:LS}Если теория конечной сигнатуры имеет модель, то~она также имеет модель на~множестве натуральных чисел в~качестве предметной области.\end{theorem}

\begin{exercise}Докажите, что если формула истинна в~любой модели на~множестве натуральных чисел, то~она общезначима.\end{exercise}
\begin{exercise}Следует ли~общезначимость формулы из~её истинности на~любой модели с~конечным числом элементов предметной области? (Попробуйте привести контрпример.)\end{exercise}

Теперь для нас уже не~составит труда доказать главный результат этого параграфа.

\begin{theorem}[Гёделя\indGoedel\ о~полноте исчисления предикатов]\label{predfullness}
Всякая общезначимая формула выводима в~исчислении предикатов: если~${\models A}$, то~$\vdash A$.
\end{theorem}

\beginproof Сначала рассмотрим только случай замкнутых формул. Пусть~$\models A$. Это значит, что нет такой модели, в~которой~$\neg A$ была бы~истинной. Следовательно, множество, состоящее из~единственной формулы~$\neg A$, будет противоречивым (если бы~оно не~было противоречивым, то~тогда у~$\neg A$ была бы~модель). Значит, есть такая~$C$, что $\neg A \vdash C$ и~$\neg A \vdash \neg C$, откуда $\vdash \neg \neg A$ и~$\vdash A$.

Теперь рассмотрим общезначимые формулы со~свободными переменными. Если~$\models A$, то по~определению общезначимости и~истинности формулы $\forall x A$, $\models \forall x A$. Пусть~$A'$~--- замыкание формулы~$A$ кванторами всеобщности. Тогда~$\models A'$ и~$\vdash A'$. Осталось воспользоваться аксиомой $\forall x A \imp A$ и~modus ponens для того, чтобы перейти к~выводу исходной формулы~$A$.\endproof

Заметим, что утверждение теоремы~\ref{predfullness} содержит в~себе утверждение теоремы~\ref{th:pcompleteness} об~исчислении высказываний. Рассмотрим сигнатуру, содержащую только нуль-местные предикатные символы~$\vect Pn$, и~тогда теорема~\ref{predfullness} будет выражать, в~частности, выводимость любой пропозициональной тавтологии над пропозициональными переменными~$\vect Pn$. Это неудивительно, если вспомнить, что в~процессе доказательства мы~пользовались леммой~\ref{fullnesslemma2} из~\S\,\ref{sec:Prop}. Поэтому если убрать из~доказательства теоремы~\ref{Goedel1} о~существовании модели все упоминания о~кванторах, то~можно получить совершенно новый способ доказательства теоремы~\ref{th:pcompleteness}. Но~между приведёнными доказательствами теорем~\ref{predfullness} и~\ref{th:pcompleteness} есть разница, о~которой мы~уже упоминали. Доказывая выводимость пропозициональных тавтологий, мы~получили универсальный алгоритм построения вывода за~конечное число действий. Доказательство же~выводимости любой общезначимой формулы исчисления предикатов не~даёт инструкций относительно того, как этот вывод построить.


