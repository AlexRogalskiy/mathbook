\section{Операции над мощностями}\label{sec:cardarithm}

\p Пусть множества~$x$ и~$y$ конечны и~содержат соответственно $n$ и~$m$ элементов. Легко убедиться, что если $x\cap y = \varnothing$, то
\begin{itemize}
	\item множество~$x\cup y$ содержит~$n + m$ элементов,
	\item множество~$x\times y$ содержит~$nm$ элементов,
	\item множество~$\parts (x)$ содержит~$2^n$ элементов.
\end{itemize}

 Говоря о~мощности множеств~$x\cup y$, $x\times y$, $\parts (x)$ для произвольных~$x$, $y$, применяют следующие сокращающие обозначения:
\[\begin{array}{l}|x \cup y|\rightleftharpoons |x|+|y|,\\ |x \times y|\rightleftharpoons |x||y|,\\|\parts (x)| \rightleftharpoons 2^{|x|}.\end{array}\]

 В~частности, теорема Кантора может быть записана как \[\forall x\; (2^{|x|}>|x|).\] Заметим, что все эти обозначения~--- чистый формализм, т.~к. мы~не~определили, что за~объекты представляют собой~$|x|$ и~$|y|$. Однако эти конструкции удобно применять, т.~к. их~свойства хорошо согласуются со~свойствами соответствующих арифметических операций.

\begin{theorem}\label{th:cardar1} Выводимы следующие утверждения:
\[\begin{array}{l}
|x|=|u| \& |y| = |v|\imp |x| + |y| = |u| + |v|,\\
|x|=|u| \& |y| = |v|\imp |x| |y| = |u| |v|,\\
|x|=|u| \imp 2^{|x|} = 2^{|u|},\\
|x|+ |y| = |y| + |x|,\quad |x||y| = |y||x|,\\
(|x|+ |y|) + |z| = |x| + (|y| + |z|),\quad (|x||y|)|z| = |x|(|y||z|),\\
|x|(|y| + |z|) = |x||y| + |x||z|,\\
2^{|x| + |y|} = 2^{|x|}2^{|y|}.
\end{array}\] \end{theorem}

\beginproof 1. Пусть даны биекции $f: x \leftrightarrow u$ и~$g: y \leftrightarrow v$. Тогда \[f\cup g: x\cup y \leftrightarrow u \cup v\] (здесь используется условие, что $x\cap y = \varnothing$), а~бинарное отношение \[\begin{array}{l}\{((a, b), (c, d)) \in (x\times y)\times (u\times v) \mid (a, c)\in f \& (b, d) \in g \}\end{array}\] есть биекция\footnote{\,Разумеется, требуется ещё доказать, что все приводимые здесь термы в~действительности являются биекциями. В~каждом случае такое доказательство представляет собой нетрудное, но~громоздкое упражнение по~формальному выводу, поэтому мы~не~будем на~этом останавливаться.} между~$x\times y$ и~$u \times v$.
	
2. Докажем $|x|=|u| \imp 2^{|x|} = 2^{|u|}$. Пусть ${f: x \leftrightarrow u}$, тогда \[\{t \in \parts(x) \times \parts(u)\mid f[\pr_1(t)] = \pr_2(t)\}\] является биекцией между множествами~$\parts(x)$ и~$\parts(u)$.

3. Утверждение $|x|+ |y| = |y| + |x|$ следует из~$x \cup y = y \cup x$. Бинарное отношение \[\begin{array}{l}\{(a, (b, c)) \in (x\times y)\times (y\times x) \mid a = (c, b)\}\end{array}\] есть биекция между~$x\times y$ и~$y \times x$.
	
4. Утверждение $(|x|+ |y|) + |z| = |x| + (|y| + |z|)$ следует из ${(x \cup y)\cup z} = x \cup (y \cup z)$. Бинарное отношение \[\begin{array}{l}\{(a, (b, (c, d))) \in ((x \times y)\times z)\times (x \times (y \times z)) \mid a = ((b, c), d)\}\end{array}\] есть биекция между $(x \times y)\times z$ и~$x \times (y \times z)$.
	
5. Утверждение $|x|(|y| + |z|) = |x||y| + |x||z|$ следует из~$x \times (y \cup z) = x \times y \cup x \times z$.
	
6. Утверждение $2^{|x| + |y|} = 2^{|x|}2^{|y|}$ несколько сложнее: здесь вновь необходимо использовать тот факт, что~$x$ и~$y$~--- непересекающиеся множества. Каждый элемент $t \in \parts (x \cup y)$ состоит из~элементов, принадлежащих~$x$, и~элементов, принадлежащих~$y$, т.~е. $t = t' \cup t''$, где $t' = t\cap x$ и~$t'' = t\cap y$. Т.~к. $x \cap y = \varnothing$, то~разложение~$t$ на~$t' \cup t''$ возможно единственным образом, и~бинарное отношение \[\begin{array}{l}\{(a, (b, c)) \in \parts (x \cup y)\times (\parts (x) \times \parts (y)) \mid a = b \cup c\}\end{array}\] является биекцией между $\parts (x \cup y)$ и~$\parts (x) \times \parts(y)$.\endproof

\p \label{def:setpower}Введём обозначение \[x^y \rightleftharpoons \{f \in \parts(y \times x)\mid f:\; y \rightarrow x\},\] т.~е. результат теоретико-множественного возведения в~степень представляет собой набор всех возможных функций из~$y$ в~$x$.

\begin{exercise}\cite{VereShen1}. Чему равно а\rp\ $x^\varnothing$, т.~е. $x^0$ для произвольного~$x$? б\rp\ $\varnothing^x$, т.~е. $0^x$ для $x\neq \varnothing$? (Указание: см. упр.~\ref{ex:emptyfunc}. Ответ: а\rp\ $\{\varnothing\}$, т.~е. $1$, б\rp\ $\varnothing$, т.~е.~$0$).\end{exercise}

Пользуясь комбинаторным рассуждением, легко доказать, что если множества~$x$ и~$y$ конечны и~содержат соответственно $n$ и~$m$ элементов, то~множество~$x^y$ содержит~$n^m$ элементов. Говоря о~мощности множества~$x^y$ для произвольных~$x$, $y$, применяют следующее сокращающее обозначение:
\[|x^y| \rightleftharpoons {|x|}^{|y|}.\]
\begin{theorem} Выводимы следующие утверждения:
\[\begin{array}{l}
|x|=|u| \& |y| = |v|\imp {|x|}^{|y|} = {|u|}^{|v|},\\
|x|^{|y| + |z|} = {|x|}^{|y|}{|x|}^{|z|},\\
(|x||y|)^{|z|} = {|x|}^{|z|}{|y|}^{|z|},\\
\left ({|x|}^{|y|}\right)^{|z|} = {|x|}^{|y||z|}.
\end{array}\] \end{theorem}

\beginproof Как и~при доказательстве теоремы~\ref{th:cardar1}, доказательство каждого из~этих утверждений сводится к~указанию соответствующей биекции. Формальные выражения для этих биекций достаточно громоздки, поэтому для экономии места и~наглядности мы~только наметим принципы, по~которым их~можно построить.

1. Пусть даны биекции $f: x \leftrightarrow u$ и~$g: y \leftrightarrow v$. Тогда взаимно однозначное отношение между функциями~$h \in x^y$ и~$h' \in u^v$ будет определяться условием $\forall t (t\in y \imp f(h(t)) = h'(g(t)))$.

2. Элемент $h \in x^{y \cup z}$ является функцией со~значениями в~$x$, определённой на~$y\cup z$. Каждая из~этих функций состоит из~двух частей: той, что определена на~$y$, и~той, что определена на~$z$: \[\begin{array}{l} h' = \{t \in h\mid \pr_1(t) \in y\}, \\ h'' = \{t \in h\mid \pr_1(t) \in z\},\\h = h'\cup h'', \quad h' \cap h'' = \varnothing.\end{array}\] Нетрудно убедиться, что отношение между $h \in x^{y \cup z}$ и~парой элементов ${h' \in x^y}$, ${h'' \in x^z}$~--- взаимно однозначное, что позволяет построить биекцию между $x^{y \cup z}$ и~$x^y \times x^ z$.

3. Посмотрим, как конструируется биекция между $(x \times y)^z$ и~$x^z \times y^z$. Элемент $h \in (x \times y)^{z}$ есть функция, ставящая в~соответствие элементу~$z$ пару элементов из~$x\times y$. Но~ей~взаимно однозначно соответствует пара функций из~$z$ в~$x$ и~из~$z$ в~$y$: так, кривая на~плоскости, заданная функцией $\mathbf r(t)$, ставящей в~соответствие переменной $t \in \mathbb R$ радиус-вектор $\mathbf r \in \mathbb R \times \mathbb R$, однозначно определяется парой функций $(x(t), y(t))$, задающих соответственно абсциссу и~ординату радиуса-вектора.

4. Наконец, элемент $h\in {x}^{y\times z}$ представляет собой функцию из~$y\times z$ в~$x$, т.~е. функцию двух аргументов. Если фиксировать второй аргумент (из~множества~$z$), то~получится функция $f_z = \{t \in y\times x\mid (\pr_1(t), (\pr_2(t), z)) \in h\}$ из~$y$ в~$x$, т.~е. $f_z \in x^y$. Но~тогда $\left(x^y\right)^z$ есть множество всех функций из~$y$ в~$x$, зависящих от~параметра~$z$, что, конечно, является всего лишь другим взглядом на~множество функций двух аргументов.\endproof

В частности, если~$x$ состоит всего из~двух элементов (допустим, является неупорядоченной парой~$\{0, 1\}$), то~терм~$x^y$ представляет собой множество всех возможных способов поставить в~соответствие каждому элементу~$y$ нуль или единицу. Этих способов столько же, сколько существует подмножеств у~$y$ (выберем некоторое подмножество~$y$ и~поставим в~соответствие его элементам единицы, остальным элементам~$y$~--- нули), поэтому для двухэлементного множества~$x$ значение~$|x|^{|y|}$ равно~$2^{|y|}$. Если же~$y = \{0, 1\} =2$, то~терм~$x^y$ представляет собой множество всех возможных способов поставить в~соответствие нулю один из~элементов множества~$x$, а~единице~--- другой или тот же~самый элемент. Таким образом, в~этом случае терм~$x^y$ равномощен множеству всевозможных упорядоченных пар элементов~$x$, т.~е. $|x|^{|y|} = |x||x| = |x|^2$. По~индукции уже нетрудно показать, что для любого $n \in \omega$ \[|x|^n = |\underbrace{x\times x \times \ldots \times x}_{\mbox{$n$ раз}}|.\]


Как видим, введённые нами операции над мощностями согласуются по~своим свойствам с~соответствующими арифметическими операциями и~в~случае конечных множеств соответствуют таковым над количествами элементов в~множествах.

\p Следующая теорема показывает, что основные операции над термами оставляют конечные множества конечными.

\begin{theorem}Если~$x$ и~$y$~--- не~бесконечные множества, то~множества~${x\cup y}$, $\parts(x)$, ${x\times y}$,~$x^y$ также не~являются бесконечными. \end{theorem}

\beginproof 1. Пусть дана инъекция $f: \omega \rightarrow x\cup y$. Рассмотрим множества $u = \{t \in \omega \mid {f(t) \in x}\}$ и~$v = \{t \in \omega \mid {f(t) \in y}\}$. Оба этих множества не~должны быть бесконечными (если бы~существовала, скажем, инъекция $g: \omega \rightarrow u$, то~существование инъекции $f\circ g: \omega \rightarrow x$ противоречило бы~условию). В~силу теоремы~\ref{th:finiteomegasubset} у~множеств~$u$ и~$v$ существуют наибольшие элементы. Можно показать, что в~этом случае наибольший элемент (равный большему из~чисел~$\sup(u)$, $\sup(v)$) имеется и~у~множества~$u \cup v$. Но~${u \cup v = \omega}$~--- без наибольшего элемента, противоречие.

2. Если множество~$x$~--- пустое, то~$\parts(x) = \{\varnothing\} = \{0\}$~--- ограниченное множество, являющееся конечным по~теореме~\ref{th:finiteomegasubset}. Если множество~$x$ непустое, то~$\exists t (t \in x)$. Представим терм~$\parts(x)$ в~виде непересекающихся множеств \[\begin{array}{l}
v_1 = \{u \in \parts(x) \mid t \in u\},\\
v_2 = \{u \in \parts(x) \mid t \notin u\},\\
\parts(x) = v_1\cup v_2,\ v_1\cap v_2 = \varnothing.\end{array}\]

Докажем, что $|v_1| = |v_2| = |\parts(x \setminus \{t\})|$. Отношение \[\{z \in v_1 \times \parts(x \setminus \{t\}) \mid \pr_1(t) = \pr_2(t)\setminus \{t\}\}\] есть биекция между~$|v_1|$ и~$\parts(x \setminus \{t\})$, \[\{z \in v_2 \times \parts(x \setminus \{t\}) \mid \pr_1(t) = \pr_2(t)\}\] есть биекция между~$|v_2|$ и~$\parts(x \setminus \{t\})$.

По доказанному в~п.~1 настоящей теоремы в~предположении небесконечности множеств~$v_1$ и~$v_2$ множество $v_1 \cup v_2$ также должно быть не~бесконечным. Если же~предположить $|\parts (x)| = |v_1 \cup v_2| \ge \aleph_0$, то~$|v_1| \ge \aleph_0 \vee |v_2| \ge \aleph_0$. Отсюда выводится $|\parts(x \setminus \{t\})| \ge \aleph_0$, откуда \[|\parts(x)| \ge \aleph_0 \imp (x \setminus \{t\} \neq \varnothing) \& (|\parts(x \setminus \{t\})| \ge \aleph_0),\] и~мы~можем бесконечно удалять по~одному элементу из~$x$, тем самым организовав инъекцию из~$\omega$ в~$x$.

3. Если~$x$ и~$y$~--- не~бесконечные множества, то~${x\times y}$~--- не~бесконечное, т.~к. является подмножеством не~бесконечного множества $\parts \parts(x \cup y)$.

4. Если~$x$ и~$y$~--- не~бесконечные множества, то~$x^y$~--- не~бесконечное, т.~к. является подмножеством не~бесконечного множества $\parts \parts(x \times y)$.\endproof

Мы намеренно использовали термин <<не бесконечное множество>> вместо <<конечное множество>>, чтобы сделать эту, не~зависящую от~аксиомы выбора, теорему пригодной и~для аксиоматических систем, отвергающих аксиому выбора.

\begin{follow}Если $|x| < \aleph_0$ и~$|y| < \aleph_0$, то~$|x| + |y| < \aleph_0$, $2^{|x|} < \aleph_0$, $|x||y| < \aleph_0$ и~${|x|}^{|y|} < \aleph_0$.
\end{follow}

\begin{followAC}Не существует такого~$x$, что $2^{|x|} = \aleph_0$.\end{followAC}

\p[Счётные множества.] Множества, мощность которых равна~$\aleph_0$ (т.~е. такие, что каждому элементу исходного множества можно поставить в~соответствие уникальное натуральное число и~каждому натуральному числу~--- уникальный элемент исходного множества), называются \emph{счётными}.

Рассмотрим несколько примеров счётных множеств и~их~свойств.

\begin{itemize}
	\item Если~$x$ и~$y$~--- счётные, $x \cap y = \varnothing$, то~$x \cup y$~--- также счётное, т.~е. $\aleph_0 + \aleph_0 = \aleph_0$.
	
	Пусть элементы~$x$ и~$y$ занумерованы. Тогда элементы множества~$x \cup y$ можно занумеровать, расположив их~следующим образом: \[x_0,\ y_0,\ x_1,\ y_1,\ldots\]
	
	При этом каждый \hbox{$n$-й} элемент~$x$ получит номер~$2n$, каждый \hbox{$n$-й} элемент~$y$~--- номер~$2n + 1$. (Коль скоро мы~ввели арифметические операции над натуральными числами, построить соответствующий терм-биекцию не~составит труда.)
		
	\item Если $|x| \le \aleph_0$, $|y| = \aleph_0$, $x \cap y = \varnothing$, то~$|x \cup y| = \aleph_0$. Иначе говоря, $|x| \le \aleph_0 \imp |x| + \aleph_0 = \aleph_0$.
	
	Действительно, биекция между~$y$ и~$\omega$ будет инъекцией из~$\omega$ в~$x \cup y$, откуда $|x| + \aleph_0 \ge \aleph_0$. С~другой стороны, т.~к. существует инъекция из~$x$ в~$\omega$, то~существует и~инъекция из~$x \cup y$ в~$\omega \cup y$ (без ограничения общности считаем, что $y \cap \omega = \varnothing$). Отсюда $|x| + \aleph_0 \le \aleph_0$ и~окончательно $|x| + \aleph_0 = \aleph_0$.
	\item Если $|x| \ge \aleph_0$, то~$|x| + \aleph_0 = |x|$. Вместе с~предыдущим утверждением это даёт \[|x| + \aleph_0 = \max(|x|, \aleph_0)\] для произвольного~$x$, сравнимого по~мощности с~$\aleph_0$. (Далее мы~увидим, что это утверждение~--- лишь частный случай некоторой общей формулы.)
\begin{exercise}\label{ex:sumaleph0}Докажите, что если $|x| \ge \aleph_0$, то~$|x| + \aleph_0 = |x|$.\end{exercise}
	
	\item Если~$x$ и~$y$~--- счётные, то~$x \times y$~--- также счётное, т.~е. ${\aleph_0}^2 = \aleph_0$.
	Действительно, пусть элементы~$x$ и~$y$ занумерованы. Тогда пары элементов счётных множеств можно занумеровать, например, по~диагональной схеме:

\begin{tabbing}
00000\=00000\=00000\=00000\=$\cdots$00\=\kill

\>$1$\>$3$\>$6$\>$10$\>$\cdots$\\*

\>$2$\>$5$\>$9$\>$\cdots$\\*

\>$4$\>$8$\>$\cdots$\\*

\>$7$\>$\cdots$\\*

\>$\cdots$\\
\end{tabbing}

При этом пара элементов с~индексами~$(i, j)$ получит уникальный номер по~нумерующей функции Кантора: \[\frac{(i + j- 1) (i + j- 2)}{2} + j,\] откуда $|x| = |y| = \aleph_0 \imp |x \times y| = \aleph_0$.

\item Счётными также являются множества троек, четвёрок и~любых конечных кортежей элементов счётных множеств, иначе говоря, ${\aleph_0}^n = \aleph_0$ для любого натурального~$n \ge 1$: по~индукции ${\aleph_0}^2 = \aleph_0$, ${\aleph_0}^{n+1} = {\aleph_0}^n\aleph_0 = \aleph_0\aleph_0 = \aleph_0$.


\item Если $x \neq \varnothing$ и~$|x| \le \aleph_0$, то~$|x|\aleph_0 = \aleph_0$ (если одно из~множеств конечно или счётно, а~другое~--- счётно, то~их~декартово произведение является счётным множеством). Действительно, $x \neq \varnothing \imp \exists a (a \in x \& \{a\}\times y \subseteq x \times y)$, откуда $\aleph_0 \le |x|\aleph_0$. Но~т.~к. $|x| \le \aleph_0$, то~существуют инъекции из~$x$ в~$\omega$ и~из~$x \times \omega$ в~$\omega \times \omega$, т.~е. $|x|\aleph_0\le \aleph_0$, откуда по~теореме~\ref{th:CBS} $|x|\aleph_0= \aleph_0$.

%\item Вообще, для произвольного~$x$, $|x|\aleph_0= \max(|x|, \aleph_0)$.

\item Каждый элемент множества~$\mathbb Z$ целых чисел взаимно однозначно соответствует элементу множества $\{0, 1\}\times \omega$, т.~е. множества пар вида <<знак, абсолютное значение>>, где нуль в~качестве первого компонента пары означает знак <<$+$>>, а~единица~--- знак <<$-$>>. По~доказанному $|\mathbb Z| = \aleph_0$.

\item Каждый элемент множества~$\mathbb Q$ рациональных чисел взаимно однозначно соответствует элементу множества \[\{t\in \mathbb Z \times \omega \mid \mbox{<<$\frac{\pr_1(t)}{\pr_2(t)}$~--- несократимая дробь>>}\}.\]

(Выражение в~кавычках следует, конечно, заменить на~соответствующую формулу. Введённых нами конструкций уже достаточно для того, чтобы эту формулу построить.) Это~--- подмножество $\mathbb Z \times \omega$, откуда $|\mathbb Q| \le \aleph_0$. С~другой стороны, множество целых рациональных чисел (дробей с~единицей в~знаменателе) является подмножеством~$\mathbb Q$ и~счётно, откуда $|\mathbb Q| \ge \aleph_0$ и~окончательно $|\mathbb Q| = \aleph_0$.

\item Рассмотрим операцию <<звёздочка Клини>>, определённую на~с.~\pageref{KleeneStar}. Если $|x|= \aleph_0$, то~$|x^*|= \aleph_0$, т.~е. \[\aleph_0 + {\aleph_0}^2 + \ldots + {\aleph_0}^n + \ldots = \aleph_0.\]

Каждое слагаемое этой суммы счётно, и~мы~имеем счётное количество счётных множеств, элементы которых можно занумеровать по~диагональной схеме.
\end{itemize}

Заметим, что конечность каждого упорядоченного набора, входящего в~терм~$x^*$, существенна. Множество всех конечных и~бесконечных наборов натуральных чисел имеет мощность, не~меньшую $\parts(\omega)$, т.~е. несчётно.

\begin{exercise}Пусть $|x| \le \aleph_0$. Докажите, что $|x^*| = \aleph_0$. (Результат упражнения говорит о~том, что, коль скоро мы~используем не~более чем счётные алфавиты, множества всех мыслимых книг, компьютерных программ, логических формул и~т.~п. являются не~более чем счётными множествами.)\end{exercise}

\begin{exercise}Докажите, что множество алгебраических чисел~$\mathbb A$, определяемое как множество корней многочленов с~рациональными коэффициентами, счётно.\end{exercise}

\begin{exercise}\cite{VereShen1}. Докажите, что любое семейство непересекающихся интервалов на~прямой конечно или счётно. Указание: каждый интервал содержит по~крайней мере одну рациональную точку.\end{exercise}

\begin{exercise}\cite{VereShen1}. Докажите, что множество точек строгого локального максимума любой функции действительного аргумента конечно или счётно.\end{exercise}

\begin{exercise}\label{ex:monotonef}\cite{VereShen1}. Докажите, что множество точек разрыва любой монотонной функции конечно или счётно.\end{exercise}

\p[Мощность континуума.] Рассмотрим множество бесконечных двоичных дробей вида \[d_0\left(\frac{1}{2}\right)^1 + d_1\left(\frac{1}{2}\right)^2 + d_2\left(\frac{1}{2}\right)^3 + \ldots \quad (d_i \in \{0, 1\}).\]


Любое действительное число из~полуинтервала~$[0, 1\rp$ можно представить в~виде такой бесконечной двоичной дроби, причём числа вида~$m/2^n$ представимы неоднозначно: например, число~$1/2$ может быть представлено двоичной дробью как~$0,1$, а~может~--- как $0,01111\ldots$ Если число представимо двоичной дробью неоднозначно, то~примем в~качестве канонического такое представление, которое не~содержит единицу в~периоде дроби.

Каждая двоичная дробь рассматриваемого вида однозначно соответствует подмножеству натуральных чисел, для которых~$d_i = 1$, а~всё множество действительных чисел на~полуинтервале~$[0, 1\rp$ однозначно соответствует множеству своих канонических представлений \[c = \{x \in \parts(\omega) \mid \forall u (u \in x \imp \exists v (v\notin x \& v > u))\}.\]

\begin{exercise}Представьте число~$1/3$ в~виде двоичной дроби и~в~виде подмножества натуральных чисел. Ответ: $0,01010101\ldots$, $\{1, 3, 5, 7\ldots\}.$\end{exercise}

Множество~$c$ представляет собой подмножество $\parts (\omega)$, из~которого отброшены <<неправильные>> двоичные представления чисел вида~$m/2^n$, которых счётное множество. С~учётом доказанного выше (см. упр.~\ref{ex:sumaleph0}) имеем \[|c| + \aleph_0 = |\parts(\omega)| = \max(|c|, \aleph_0).\]

Т. к. по~теореме Кантора $|\parts(\omega)| = 2^{\aleph_0}> \aleph_0$, окончательно получаем $|c| = 2^{\aleph_0}$. Про множество, равномощное определённому нами множеству~$c$, говорят, что оно \emph{имеет мощность континуума}, и~пишут $|x| = \mathfrak c$, где $\mathfrak c$ есть традиционное сокращающее обозначение для $2^{\aleph_0}$.

Выведем несколько свойств $\mathfrak c$.

Легко проверить, что делению на~два в~двоичном представлении соответствует сдвиг всех цифр двоичного представления вправо на~один разряд. Иначе говоря, бинарное отношение \[\{t\in \parts(\omega)\times \parts(\omega)\mid \forall n (n \in \pr_1(t) \lequals n + 1 \in \pr_2(t)) \}\] задаёт функцию~$f(x) = x/2$. Если число~$x$ принадлежит полуинтервалу~$[0, 1/2\rp$, то~первая цифра в~его двоичном представлении всегда равна нулю и~существует единственный~$y$ из~полуинтервала~$[0, 1\rp$ такой, что~$y /2 = x$. Таким образом, деление на~2 устанавливает биекцию между полуинтервалами~$[0, 1\rp$ и~$[0, 1/2\rp$, каждый из~которых имеет мощность $\mathfrak c$.

Если~$x < 1/2^n$, то~добавление к~$x$ числа $\left( \frac{1}{2}\right)^n$ есть попросту выставление единицы в~$(n-1)$-м разряде двоичного представления, т.~е. $x + \left( \frac{1}{2}\right)^n \rightleftharpoons x \cup \{n - 1\}$. Операция прибавления~$1/2$ устанавливает биекцию между полуинтервалами~$[0, 1/2\rp$ и~$[1/2, 1\rp$, каждый из~которых имеет мощность континуума, откуда \[\mathfrak c + \mathfrak c = \mathfrak c.\]

С точки зрения двоичных представлений доказательство этого факта выглядит следующим образом: возьмём две копии полуинтервала~$[0, 1\rp$, сдвинем двоичные представления всех чисел обоих полуинтервалов вправо на~один разряд, добавив в~начало представлений всех чисел из~первой копии нуль, всех чисел из~второй копии~--- единицу, тем самым получим биекцию с~полуинтервалом~$[0, 1\rp$.

Рассуждая схожим образом, мы~можем разбить~$c$ на~три континуальных множества \[\left[0, \frac{1}{2}\right\rp,\ \left[\frac{1}{2}, \frac{3}{4}\right\rp,\ \left[\frac{3}{4}, 1\right\rp,\] а~также на~любое конечное и~даже счётное множество континуальных множеств \[\left[0, \frac{1}{2}\right\rp,\ \left[\frac{1}{2}, \frac{3}{4}\right\rp,\ \left[\frac{3}{4}, \frac{7}{8}\right\rp,\ldots,\ \left[\frac{2^n - 1}{2^n}, \frac{2^{n+1} - 1}{2^{n+1}}\right\rp\ldots,\] откуда имеем \[|x| \le \aleph_0 \imp |x| \mathfrak c = \mathfrak c.\]

\begin{exercise}Как выглядят эти разбиения с~точки зрения представления чисел в~виде бесконечных двоичных дробей?\end{exercise}

Теперь определим множество действительных чисел как \[\mathbb R = \{0, 1\}\times \omega \times c,\] т.~е. как множество троек вида <<знак, целое значение, дробная часть>>. По~доказанному \[|\mathbb R| = |\{0, 1\}\times \omega||c| = \aleph_0 \mathfrak c = \mathfrak c.\]

Итак, мощность множества~$\mathbb R$ всех действительных чисел равна мощности множества действительных чисел на~полуинтервале~$[0, 1\rp$ и~равна $2^{\aleph_0}$.

Определив множество~$\mathbb R$, мы~достигли той точки в~изложении, с~которой обычно начинается содержание учебников по~математическому анализу (традиционные учебники, впрочем, определяют действительные числа в~виде бесконечных десятичных, а~не~бесконечных двоичных дробей, но~это не~меняет сути). Дальнейшие задачи заключаются в~определении порядка на~действительных числах (предиката~$<$), арифметических операций, изучении свойств различных подмножеств~$\mathbb R$ и~функций действительного переменного.

\begin{exercise}Не ссылаясь на~теорему~\ref{th:CBS}, докажите, что отрезок $\{x \in \mathbb R \mid 0\le x\le 1\}$ равномощен полуинтервалу $\{x \in \mathbb R \mid 0\le x < 1\}$.

Решение: выделим на~отрезке $r = \{x \in \mathbb R \mid 0\le x\le 1\}$ счётное подмножество \[c = \{x \in r \mid \exists n (n \in \omega \& x = 1/2^n)\}.\]

Искомая биекция может быть представлена в~виде~$h \cup h'$, где \[\begin{array}{l}h=\{t \in r \times r \mid \pr_1(t) \in r \setminus c \& \pr_1(t) = \pr_2(t) \},\\h'=\{t \in r \times r \mid \exists n (n \in \omega \& \pr_1(t) = 1/2^n \& \pr_2(t) = 1/2^{n+1}) \}.\end{array}\]
\end{exercise}

\begin{exercise}Докажите, что любое подмножество~$\mathbb R$, содержащее интервал, имеет мощность $\mathfrak c$.\end{exercise}

Как мы~уже убедились, числовой интервал равномощен всей числовой прямой. Несколько более неожиданным может показаться тот факт, что, на~самом деле, плоскость, а~также трёхмерное и~даже $\aleph_0$-мерное пространство имеют мощность, равную~$\mathfrak c$.

\begin{theorem}
$\forall x (|x| \le \aleph_0 \imp {\mathfrak c}^{|x|} = \mathfrak c)$.
\end{theorem}

\beginproof Начнём с~доказательства утверждения ${\mathfrak c}^{2} = \mathfrak c\mathfrak c = \mathfrak c$.

Действительно: каждой паре двоичных представлений чисел из~полуинтервала~$[0, 1\rp$ \[\begin{array}{l}x_0,x_1,x_2\ldots \quad (x_i \in \{0, 1\})\\y_0,y_1,y_2\ldots \quad (y_i \in \{0, 1\}) \end{array}\] можно поставить в~соответствие уникальную для данной пары последовательность \[x_0,y_0,x_1,y_1,x_2,y_2\ldots,\] чётные цифры которой берутся из~цифр числа~$x$, нечётные~--- из~цифр числа~$y$. Указанное отношение определяет инъекцию $f: [0, 1\rp\times [0, 1\rp \rightarrow \parts (\omega)$, что вместе с~${\mathfrak c}^2 \ge \mathfrak c$ доказывает утверждение ${\mathfrak c}^2 = \mathfrak c$.

Аналогичным образом в~одну двоичную последовательность можно <<упаковать>> тройки и~любые конечные кортежи действительных чисел из~$[0, 1\rp$, в~случае же, когда чисел~--- счётное множество, следует воспользоваться диагональной схемой

\[\begin{array}{l}
z_0, z_2, z_5, z_{9}\ldots\\
z_1, z_4, z_8, z_{13}\ldots\\
z_3, z_7, z_{12}\ldots\\
z_6, z_{11}\ldots\\
\ldots \endproof
\end{array}\]


Мы могли бы~вывести <<арифметические>> свойства $\mathfrak c$, аналогичные тем, что мы~вывели для~$\aleph_0$, но~не~будем этого делать, т.~к. далее получим некоторые общие формулы, касающиеся бесконечных мощностей.

\begin{exercise}\cite{VereShen1}. Докажите, что любая пространственная фигура, содержащая отрезок кривой, имеет мощность континуума.\end{exercise}

\begin{exercise}\cite{VereShen1}. Докажите, что множество всех непрерывных функций $f: \mathbb R \rightarrow \mathbb R$ имеет мощность континуума. Указание: непрерывная функция полностью задаётся своими значениями в~рациональных точках.\end{exercise}

\begin{exercise}\cite{VereShen1}. Докажите, что множество всех монотонных функций имеет мощность континуума. Указание: см. упр.~\ref{ex:monotonef}.\end{exercise}

\p Сформулируем и~докажем ещё одну, зависящую от~аксиомы выбора, теорему, касающуюся свойств операций над мощностями.

\begin{theoremAC}[Кёнига]\indKoenig$|x| + |y| = |u||v| \imp |x| \ge |u| \vee |y| \ge |v|.$\end{theoremAC}

\beginproof Действительно: пусть $x \cap y = \varnothing$, $\neg |x| \ge |u| \& \neg |y| \ge |v|$, и~существует биекция $f: u\times v \leftrightarrow x \cup y$. Разобьём~$f$ на~две части~$f_x$ и~$f_y$, такие, что $\Pr_2(f_x) = x$ и~$\Pr_2(f_y) = y$ ($f_x \cup f_y = f$, $f_x\cap f_y = \varnothing$). Из~условий следует, что существует~${u_0 \in u}$, такой, что $\forall t (u_0, t) \notin \Pr_1(f_x)$. Предположив обратное, замечаем, что бинарное отношение \[r_x=\{(a, b) \in u\times x\mid \exists t (((a, t), b) \in f_x)\}\] является всюдуопределённым на~$u$. Но~в~таком случае, если $f_c: \parts(u) \rightarrow u$~--- функция выбора такая, что $f_c(h) \in h$, то~\[r'_x=\{(a, b) \in u\times x\mid b = f_c(\{t \mid (a, t) \in r_x\})\}\] есть инъекция из~$u$ в~$x$, т.~е. $|u| \le |x|$, что противоречит условию. Аналогичным образом, существует~${v_0 \in v}$, такой, что ${\forall t (t, v_0) \notin \Pr_1(f_y)}$. Но~это значит, что ${(u_0, v_0) \notin \Pr_1(f_x)} \& {(u_0, v_0) \notin \Pr_1(f_y)}$, откуда ${(u_0, v_0) \notin \Pr_1(f)}$. Но~$f$~--- биекция между~$u \times v$ и~$x \cup y$, и~должна быть определена для любых пар элементов множеств~$u \times v$. Противоречие.\endproof

\begin{exercise}Докажите, что если а\rp\ квадрат, б\rp\ отрезок разбит на~две части, то~по~крайней мере одна из~них имеет мощность континуума.\end{exercise}

\p[Континуум-гипотеза.] Ещё в~начале своих исследований (1877) Кантор высказал предположение (получившее в~дальнейшем название \emph{континуум-гипотезы}, сокращённо CH) о~том, что $\mathfrak c$ есть ближайшая к~$\aleph_0$ бесконечная мощность, т.~е. не~существует~$x$ такого, что $\aleph_0 < |x| < \mathfrak c$, но~доказательство этого предположения Кантор предоставить не~смог. Длительное время поиск доказательства или опровержения континуум-гипотезы оставался нерешённой проблемой для математиков. Эта задача стала первой из~двадцати трёх знаменитых математических проблем, о~которых Д.~Гильберт доложил на~II Международном Конгрессе математиков в~Париже в~1900 году, поэтому континуум-гипотеза известна также как <<первая проблема Гильберта>>.

В 1940 году Курт Гёдель доказал в~предположении непротиворечивости системы аксиом ZF, что, исходя из~аксиом теории множеств вместе с~аксиомой выбора, континуум-гипотезу нельзя опровергнуть (т.~е. если система аксиом ZFC имеет модель, то~модель имеет также система утверждений ZFC + CH). Почти четверть века спустя, в~1963 году, Пол Коэн доказал (также в~предположении непротиворечивости ZF), что континуум-гипотезу из~тех же~аксиом нельзя вывести (т.~е. если система аксиом ZFC имеет модель, то~модель имеет также система утверждений ZFC + $\neg$CH). Таким образом, континуум-гипотеза не~зависит от~аксиом~ZF.

\emph{Обобщённая континуум-гипотеза} утверждает, что для любого бесконечного множества~$x$ не~существует такого~$z$, что $|x| < |z| < |\parts(x)|$. Обобщённая континуум-гипотеза также не~противоречит аксиоматике Цермело--Френкеля, и, кроме того, из~неё следует аксиома выбора.

Доказательства этих утверждений изложены, например, в~\citesets{Jech1973} и~\citesets{Cohen1969}.

%\begin{exercise}Докажите, что любое замкнутое множество без изолированных точек несчётно.\end{exercise}

%\begin{exercise}Докажите, что не~существует \emph{замкнутого} множества $x \subset \mathbb R$ такого, что $\aleph_0 < |x| < \mathfrak c$, т.~е. для замкнутых подмножеств~$\mathbb R$ справедлива континуум-гипотеза.\end{exercise}

\p[Парадокс Сколема.] С~теоремой~\ref{th:CantorPower} Кантора связано рассуждение, именуемое <<парадоксом Сколема>>. В~отличие от~уже изученных нами парадоксов Рассела (см.~с.~\pageref{def:RusselParadox}) и~Кантора (см.~с.~\pageref{def:CantorParadox}), где при помощи логически верных выводов мы~обнаруживали противоречие, <<замаскированное>> в~исходных посылках, <<противоречие>> парадокса Сколема возникает от~ошибки в~рассуждениях, и~аккуратное рассмотрение вопроса показывает, что собственно никакого парадокса нет. Тем не~менее рассмотрение парадокса Сколема имеет большую дидактическую ценность.

Если система аксиом любой аксиоматической теории множеств непротиворечива, то~она (см. теоремы~\ref{Goedel1} Гёделя\indGoedel\ и~\ref{th:LS} Лёвенгейма\indLowenheim--Сколема\indSkolem) имеет модель, и, более того, эта модель может быть построена на~натуральных числах. Т.~е. всего лишь счётное множество~$M$ объектов (каждый из~которых будет соответствовать уникальному множеству) требуется для того, чтобы подобрать значение предиката~$x \in y$ для каждой пары объектов~$x$, $y$, полностью удовлетворяющее системам аксиом ZF или ZFC. В~такой ситуации для каждого объекта модели~$y$ лишь конечное или счётное количество объектов (больше просто нет в~предметной области) могут входить в~отношение $\ldots \in y$. Фиксируем такую модель $\mathfrak M$ со~счётным~$M$ в~качестве предметной области.

В силу доказанных теорем вне зависимости от~принятой модели в~ZF выводимо, например, существование терма $\parts (\omega)$, мощность которого несчётна. Но~в~счётной модели любое множество вынуждено быть не~более чем счётным~--- противоречие?

Проведём рассуждение аккуратно. Факт $\mathrm{ZF} \vdash \exists x (x = \parts(\omega))$ означает, что существует такой объект~${c \in M}$, что формула первого порядка, соответствующая выражению $x = \parts(\omega)$, истинна в~модели~$\mathfrak M$ на~оценке, при которой индивидной переменной~$x$ поставлен в~соответствие объект~$c$. Теорема Кантора утверждает, что~$x$~--- несчётно, что по~определению значит \[\mathrm{ZF}\vdash \neg \exists f (f: \parts(\omega) \leftrightarrow \omega)\] (все сокращающие обозначения, напомним, заменяют вполне определённую формулу на~языке первого порядка, которую не~приводим полностью лишь в~силу её громоздкости). Но~это значит лишь то, что \emph{среди элементов~$M$} нет такого~$f$, что в~модели~$\mathfrak M$ оно удовлетворяло бы~четырём свойствам биекции между~$\parts(\omega)$ и~$\omega$. При этом не~важно, что в~отношение принадлежности с~объектом из~$M$, соответствующим терму~$\parts(\omega)$, может входить не~более чем счётное число объектов \emph{из~$M$},~--- важно то, что \emph{среди объектов~$M$} не~существует~$f$, осуществляющего необходимую биекцию.

Рассуждение <<если модель счётна, то~в~отношение~$\in$ с~любым объектом может входить не~более чем счётное число объектов>> есть рассуждение \emph{внешнее} по~отношению к~изучаемой аксиоматической теории и~никакой формуле в~этой теории не~соответствует. С~внешней точки зрения на~теорию ZF <<множество всех \emph{множеств}>> (второй раз слово <<множество>> здесь обозначает лишь некоторый объект предметной области ZF) может существовать и~даже быть счётным, что никак не~связано (и~потому не~может противоречить) с~выводимыми в~ZF формулами.


%\p Мощность $2^\mathfrak c$, превосходящая $\mathfrak c$ и~$\aleph_0$, есть мощность всех подмножеств континуума и, как следует из~только что доказанного, есть мощность всех линейных, плоских и~пространственных точечных множеств. С~другой стороны, множество функций действительного переменного, принимающих только лишь значения 0 и~1, имеет мощность $2^{\mathfrak c}$. Отсюда вытекает, что множество всех вообще функций, принимающих действительные значения, также имеет мощность $2^{\mathfrak c}$.