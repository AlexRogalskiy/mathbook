\section{Булевы функции. Пропозициональные формулы}
\label{sec:PropAlgebra}
\sectionmark{Булевы функции}

\def\AoneAn{A_1,\ldots A_n}
\p \emph{Высказывания}, или \emph{суждения}, в~естественном языке формулируются в~виде повествовательных предложений. Относительно некоторых высказываний мы~можем утверждать, являются они истинными или ложными. <<Вода~--- продукт горения водорода>>~--- пример истинного высказывания. <<Все нечётные числа~--- простые>>~--- пример ложного. При помощи соответствующих грамматических конструкций высказывания (как истинные, так и~ложные) можно строить и~в~формальных языках, например: $2 + 2 = 5$, $\int_{-\infty}^{+\infty}e^{-x^2}dx = \sqrt{\pi}$.

Заметим, что истинность или ложность может быть приписана не~всякому грамматически верно построенному высказыванию: так, например, относительно предложения \[\mbox{то, что написано в~этой строке,~--- ложно}\] принципиально нельзя решить, истинное оно или ложное: оба варианта противоречат смыслу утверждения. (Приведённый пример известен как <<парадокс лжеца>>.) Предположим, что имеем дело с~набором высказываний $\vect Pn\ldots$, истинность или ложность которых можно как-либо определить.

В грамматике различают простые и~сложные предложения: сло\-ж\-ное предложение состоит из~предложений, соединённых союзами. При помощи союзов-связок из~утверждений~$\vect Pn$ можно строить новые утверждения, такие, как <<$P_1$ и~$P_2$>>, <<не~$P_1$>>, <<если~$P_1$ или~$P_2$, то~$P_3$>>.

Некоторые из~союзов обладают важной особенностью: по~истинности предложений, входящих в~сложное высказывание, можно однозначно определить истинность самого сложного высказывания, построенного при помощи союза. К~примеру, высказывание <<$P_1$ и~$P_2$>> истинно в~том и~только том случае, когда~$P_1$ и~$P_2$ одновременно истинны, и~ложно~--- во~всех остальных случаях (причём утверждать это возможно вне зависимости от~того, \emph{в~чём} собственно состоят~$P_1$ и~$P_2$).

На протяжении \S\S\,\ref{sec:PropAlgebra},~\ref{sec:Prop} мы~будем изучать формы таких составных высказываний, абстрагировавшись от~структуры и~содержания каждого простого~$P_i$ и~рассматривая все высказывания \emph{только} в~аспекте их~истинности. Таким образом, в~общем случае форма составного высказывания для нас представляет собой функцию~$n$ переменных, каждый аргумент и~результат которой может принимать одно из~двух значений: \emph{истина} и~\emph{ложь}.

Значения \emph{истина} и~\emph{ложь} мы, как в~книге \citelogic{Kleene05}, обозначим готическими буквами~$\true$ и~$\false$, хотя, вообще говоря, всё равно, какие два знака принять для сокращения: $\top$ и~$\bot$ или же~$1$ и~$0$. Буквы~$P$, $Q$, $R$\ldots, возможно, с~индексами, теперь будут обозначать \emph{пропозициональные переменные}, которые могут принимать только значения~$\true$ и~$\false$. Функции~$n$ пропозициональных переменных, принимающие только значения~$\true$ и~$\false$, называются \emph{булевыми\indBoole\ функциями} $n$ переменных.

\p Булеву функцию можно задать путём явного указания её значений на~каждом наборе аргументов. Число различных наборов аргументов булевой функции~$n$ переменных равно~$2^n$, поэтому таблица, содержащая~$2^n$ строк, полностью задаёт такую функцию. Например, так:
\enlargethispage{\baselineskip}
\begin{center}
	\begin{tabular}{c|c|c}
		$P$ &	$Q$ &	$f(P,Q)$\\
		\hline
		$\false$	& $\false$	& $\true$\\
		$\false$	& $\true$	& $\false$\\
		$\true$	& $\false$	& $\true$\\
		$\true$	& $\true$	& $\false$
	\end{tabular}
\end{center}

Эта таблица называется \emph{таблицей истинности} функции~$f$.

Из возможности задать функцию таблицей истинности видно, что число не~тождественных между собой булевых функций~$n$ аргументов равно числу различных наборов из~$2^n$ истинностных значений, т.~е. $2^{2^n}$. Так, существует всего две функции от~нуля переменных~--- константы~$\true$ и~$\false$, четыре функции одной переменной и~т.~д.

Назовём~$i$-й аргумент булевой функции $f(\vect Pn)$ \emph{существенным}, если имеется такой набор значений аргументов рассматриваемой функции, при котором изменение значения одного только~$i$-го аргумента приводит к~изменению значения функции. В~противном случае, $i$-й аргумент назовём \emph{фиктивным}. Проще говоря, существенные аргументы~--- это те, от~которых булева функция <<действительно зависит>>, и~их~количество может быть меньше, чем <<формальное>> количество аргументов~$n$. Булева функция называется \emph{существенной}, если она не~имеет фиктивных аргументов. В~приведённом выше примере функции существенным является только второй аргумент, первый~--- фиктивный, и~$f(P,Q)$ не~является существенной.

Используя комбинаторику и~свойства биномиальных коэффициентов, мож\-но доказать\footnote{\,Балюк~А.",С., Винокуров~С.",Ф. и~др. Избранные вопросы теории булевых функций.~--- М.: ФИЗМАТЛИТ, 2001.~--- 192 c.}, что количество существенных булевых функций~$n$ аргументов равно $\displaystyle{\sum_{i = 0}^{n}{(-1)^iC_n^i2^{2^{n-i}}}}$. Результаты вычисления по~указанным формулам приведены в~таблице:

\begin{center}
\begin{tabular}{p{1.5cm}|p{1.6cm}|p{2.3cm}}
%\begin{tabular}{p{2.3cm}|p{3.5cm}|p{5.5cm}}
ар\-гу\-мен\-тов & булевых функций ($2^{2^n}$) & су\-щес\-твен\-ных булевых функций\\
\hline
0 & 2 & 2\\
1 & 4 & 2\\
2 & 16 & 10\\
3 & 256 & 218\\
4 & 65536 & 64594
\end{tabular}
\end{center}\pagebreak[1]

\p Из~четырёх булевых функций одного аргумента
\begin{center}
	\begin{tabular}{c|c|c|c|c}
		$P$ &	$f_1(P)$	& $f_2(P)$ & $f_3(P)$ & $f_4(P)$\\
		\hline
		$\false$	& $\false$ &	$\true$	& $\false$ &	$\true$\\
		$\true$	& $\false$	& $\false$ &	$\true$&	$\true$
	\end{tabular}
\end{center}
функции~$f_1$ и~$f_4$ несущественны (вырождены в~константы~$\true$ и~$\false$), а~$f_3$ тождественно повторяет аргумент. Так что нетривиальной является только~$f_2(P)$, называемая операцией отрицания или операцией НЕ. Для обозначения этой функции используют специальный знак <<$\neg$>>. C точки зрения истинностного значения~$\neg P$ соответствует высказыванию <<не~$P$>>.

\p Каждая из~десяти существенных булевых функций двух аргументов имеет своё название и~обозначение. В~приведённой ниже таблице функции сгруппированы так, что каждая из~функций в~правом столбце может быть рассмотрена как результат применения отрицания к~значению соответствующей функции из~левого столбца и~наоборот:

\begin{center}
\begin{tabular}{p{2.7cm}|cccc}
$P$ & $\false$ & $\false$ & $\true$ & $\true$\\
$Q$ & $\false$ & $\true$ & $\false$ & $\true$\\
\hline
конъюнкция\\$P\& Q$\raggedright & $\false$ &$\false$ &$\false$ &$\true$\\
\hline
дизъюнкция\\$P\vee Q$\raggedright & $\false$ &$\true$ &$\true$ &$\true$\\
\hline
импликация\\$P\imp Q$\raggedright & $\true$ &$\true$ &$\false$ &$\true$\\
\hline
эквивалентность\\$P\lequals Q$\raggedright & $\true$ &$\false$ &$\false$ &$\true$\\
\hline
обратная\\импликация\\$P\Leftarrow Q$\raggedright & $\true$ &$\false$ &$\true$ &$\true$\\
\end{tabular}\quad\begin{tabular}{p{3.2cm}|cccc}
$P$ & $\false$ & $\false$ & $\true$ & $\true$\\
$Q$ & $\false$ & $\true$ & $\false$ & $\true$\\
\hline
штрих Шеффера\indSheffer\\$P \mid Q$ \raggedright& $\true$ &$\true$ &$\true$ &$\false$\\
\hline
стрелка Пирса\indPeirce\\$P \uparrow Q$ \raggedright& $\true$ &$\false$ &$\false$ &$\false$\\
\hline
коимпликация\\$P \not \imp Q$\raggedright & $\false$ &$\false$ &$\true$ &$\false$\\
\hline
исключающее\\ИЛИ $P\oplus Q$\raggedright & $\false$ &$\true$ &$\true$ &$\false$\\
\hline
обратная\\коимпликация\\$P\not \Leftarrow Q$ & $\false$ &$\true$ &$\false$ &$\false$\\
\end{tabular}
\end{center}

Особую важность для нас в~дальнейшем будут иметь конъюнкция, дизъюнкция и~импликация, т.~к. они соотносятся с~союзами естественного языка.

\emph {Конъюнкция} (логическое <<И>>) принимает значение <<истина>> только в~том случае, когда истинны оба аргумента, и~ложна во~всех остальных случаях.

\emph {Дизъюнкция} (логическое <<ИЛИ>>) истинна, когда истинным является хотя бы~один аргумент, и~ложна только если оба аргумента ложны.

\emph {Импликация} (логическое следование) соотносится с~конструкцией <<если\ldots, то\ldots>>, и~её следует понимать так: $P$ есть достаточное (но~не~обязательно необходимое) условие для~$Q$. Т.~е. если~$P$~--- истинно, то~для истинности всей импликации~$Q$ обязано быть истинным, если же~$P$~--- ложно, то~$Q$, вообще говоря, может быть произвольным. Таблица истинности импликации не~является такой же~интуитивно понятной, как для конъюнкции и~дизъюнкции, поэтому для её иллюстрации уместен пример. Пусть~$P$~--- утверждение <<функция~$f$ дифференцируема в~точке~$x_0$>>, $Q$~--- <<функция~$f$ непрерывна в~точке~$x_0$>>. Как известно, достаточным условием непрерывности в~точке является дифференцируемость в~этой же~точке, т.~е. $P\imp Q$. Легко привести примеры недифференцируемой разрывной функции (первая строка таблицы истинности импликации), недифференцируемой непрерывной функции (вторая строка таблицы), дифференцируемой непрерывной функции (четвёртая строка таблицы). Не~существует лишь дифференцируемых разрывных функций.

\emph {Эквивалентность} выполняет роль знака равенства: она истинна тогда и~только тогда, когда её аргументы принимают одинаковые истинностные значения.

Все прочие существенные булевы функции двух аргументов получаются из~четырёх перечисленных при помощи перестановки аргументов и~отрицания.

Идти далее по~тому же~пути и~изучать 218 существенных булевых функций трёх аргументов не~имеет смысла, потому что, как будет показано в~теореме~\ref{func-completeness}, уже рассмотренных функций с~избытком хватает для того, чтобы построить вообще любую булеву функцию.

\p Построим теперь формальный язык, допустимые строки которого будут формулами, выражающими те~булевы функции, которые можно получить суперпозицией уже введённых ранее операций. Понятие \emph{пропозициональной формулы}\label{logopformula} (или \emph{пропозиционального соотношения}) определим следующим образом:

\begin{enumerate}
	\item пропозициональная переменная (одна из~букв~$P$, $Q$, $R$\ldots, возможно, с~индексом) есть формула;
	\item если~$A$~--- формула, то~$\neg A$~--- формула;
	\item если~$A$ и~$B$~--- формулы, то~$(A\mathbin\gamma B)$, где~$\gamma$~--- какая-либо из~связок~$\&$, $\vee$, $\imp$,\ldots,~--- формула;
	\item других формул не~существует.
\end{enumerate}

\begin{exercise}\cite{Lavrov04}. Являются ли в~соответствии с~данным определением формулами последовательности символов <<$(P \& R) R \neg P$>>, <<$(P \& Q) \imp R $>>, <<$(((\neg P) \imp Q) \imp(R \vee S))$>>? Почему?\end{exercise}

\label{def:pareconomy}Обязательные внешние скобки на~каждом шаге построения формулы нам понадобились для того, чтобы последовательность вычисления пропозициональной формулы как выражения для булевой функции~$n$ переменных была однозначной. На~практике, однако, обилие подряд идущих скобок затрудняет читаемость формулы. По~этой причине вводятся соглашения, позволяющие опускать некоторые скобки без потери однозначности последовательности вычисления.

Прежде всего откажемся от~внешних скобок на~последнем шаге построения формулы: например, формулу

\[((P\imp Q)\vee(P\imp (Q\& P)))\]
перепишем как

\[(P\imp Q)\vee(P\imp (Q\& P)).\]

Кроме того, мы~будем пользоваться соглашениями относительно приоритета выполнения логических операций (аналогично арифметическим операциям):\label{logoppriority}

\[
\begin{array}{cl}
1. & \neg \cr 2. & \vee, \& \cr 3. & \imp, \lequals
\end{array}
\]

Т. е. в~первую очередь всегда выполняется отрицание, следом выполняются дизъюнкция и~конъюнкция (между собой равноправные, аналогично умножению и~делению в~арифметике) и~в~последнюю очередь~--- импликация и~эквивалентность (также равноправные между собой, аналогично сложению и~вычитанию). Данная расстановка приоритетов предлагается, например, в~\citelogic{Kolm05}. Таким образом, из~рассматриваемой нами формулы можно выбросить ещё пару скобок и~записать

\[(P\imp Q)\vee(P\imp Q\& P).\]

\p Для построения вручную таблицы истинности булевой фун\-к\-ции, заданной формулой алгебры высказываний, удобнее всего пользоваться \emph{таблицей Куайна\indQuine}, пример заполнения которой приведён далее:

\begin{center}
	\begin{tabular}{c|c|c||c||c|c|c|c|c}
	 % & 1 & & 4 & & 3 & & 2 & \\
	$(P$ & $\imp$ & $Q)$ & $\vee$ & $(P$ & $\imp$ & $Q$ & $\&$ & $P)$ \\
	\hline
	$\false$ &$\true $& $\false$ &$\true $ & $\false$ &$\true $ & $\false$ &$\false$& $\false$\\
	$\false$ &$\true $& $\true $ &$\true $ & $\false$ &$\true $ & $\true $ &$\false$& $\false$\\
	$\true $ &$\false$& $\false$ &$\false$ & $\true $ &$\false$ & $\false$ &$\false$& $\true $\\
	$\true $ &$\true $& $\true $ &$\true $ & $\true $ &$\true $ & $\true $ &$\true $& $\true $\\

 \end{tabular}
\end{center}

Таблица Куайна строится следующим образом.

\begin{enumerate}
	\item Под каждую пропозициональную переменную и~логический оператор выделяется столбец.
	\item Столбцы под пропозициональными переменными заполняются в~пер\-вую очередь, всеми возможными комбинациями значений переменных.
	\item Остальные столбцы заполняются в~порядке приоритета выполнения операций, на~основании таблицы истинности соответствующей операции. (В~нашем примере сперва заполняется столбец под конъюнкцией, далее~--- столбцы под импликациями и~последним~--- столбец под дизъюнкцией.)
	\item Последний заполненный столбец (в~нашем примере выделен) будет столбцом значений соответствующей булевой функции.
\end{enumerate}

\p Всякую формулу~$A$, определяющую булеву функцию, в~столбце значений которой находятся только~$\true$, будем называть \emph{тавтологией}, или \emph{общезначимой} формулой, и~обозначать~$\models A$. Общезначимая формула~$A$, таким образом, остаётся истинной при подстановке любых значений в~пропозициональные переменные. Для доказательства~$\models A$ достаточно проверить (например, при помощи таблицы Куайна) её значения для всех~$2^n$ комбинаций значений пропозициональных переменных, что теоретически возможно всегда.

Примеры общезначимых утверждений приводятся в~следующем упражнении. Все они будут использованы нами в~дальнейшем.

\begin{exercise}\label{ex:2}
Докажите (при помощи таблиц Куайна), что для любых формул~$A$ и~$B$ имеют место: $\models A \vee \neg A$~--- \emph{закон исключённого третьего;} $\models \neg\neg A \lequals A$~--- \emph{закон двойного отрицания;} $\models \neg(A\& \neg A)$~--- \emph{закон противоречия;} $\models (A\imp B) \imp ((A\imp \neg B) \imp \neg A)$~--- \emph{принцип сведения к~противоречию.}
\end{exercise}

\p Формулы~$A$ и~$B$ будем называть\label{def:propequivalence}\emph{эквивалентными} и~писать ${A \sim B}$, если и~только если столбцы результатов их~таблиц истинности совпадают.


\begin{exercise}Докажите, что~$A \sim B$ тогда и~только тогда, когда одновременно имеет место $\models A \imp B$ и~$\models B \imp A$.\end{exercise}

\begin{exercise}Докажите \emph{законы де~М\'органа\indMorgan} $ A \vee B \sim \neg (\neg A\& \neg B)$, $A\&B \sim \neg( \neg A \vee \neg B)$; \emph{закон контрапозиции} $ A\imp\neg B \sim B\imp\neg A$.
\end{exercise}

\begin{exercise}\label{MorganFinite}
Обобщите законы де~Моргана на~произвольное конечное количество формул, т.~е. докажите, что для любого~$n$
\[
\begin{array}{l}
 A_1 \vee \ldots \vee A_n \sim \neg (\neg A_1\& \ldots \& \neg A_n),\\
 A_1\& \ldots \& A_n \sim \neg( \neg A_1 \vee \ldots \vee \neg A_n).
\end{array}
\]
\end{exercise}


\p Теперь мы~рассмотрим некоторые стандартные представления булевых функций в~виде пропозициональных формул.

\begin{theorem}[о функциональной полноте системы $\&, \vee, \neg$]\label{func-completeness} Любая булева функция от~переменных~$\vect Pn$ может быть представлена некоторой суперпозицией операций~$\&$, $\vee$ и~$\neg$ над переменными~$\vect Pn$.\end{theorem}

\beginproof Пусть функция~$f$ задана таблицей истинности

\begin{center}
	\begin{tabular}{cccc|l}
 $P_1$ & $P_2$ & & $P_n$ & $f(\vect Pn)$\\
	 \hline
 $\false$	 & $\false$ & \ldots	& $\false$ & $f(\false, \false, \ldots, \false)$\\

 & & \ldots	& & \\
$\alpha_1^k$ &	$\alpha_2^k$ & \ldots	& $\alpha_n^k$	& $f(\alpha_1^k, \alpha_2^k, \ldots \alpha_n^k)$ \\
 & & \ldots	& & \\
 $\true$	 & $\true$ & \ldots	& $\true$ & $f(\true, \true, \ldots, \true)$ \\
	\end{tabular}
\end{center}

Предположим сначала, что~$f$ принимает значение~$\true$ на~строках~$\vect kp$, $p > 0$. Построим для каждой~$k_i$-й строки формулу~$C_i$ вида

\[
\neg_{\alpha_1^{k_i}} P_1\&\ \neg_{\alpha_2^{k_i}} P_2 \&\ldots\& \neg_{\alpha_n^{k_i}} P_n.
\]

Здесь обозначение $\neg_\alpha A$ служит сокращением формулы~$\neg A$, когда~$\alpha$ принимает значение~$\false$, и~формулы~$A$, когда~$\alpha$ принимает значение~$\true$. Иначе говоря, в~выражении~$C_i$ операция отрицания перед~$j$-й переменной ставится в~том случае, когда $\alpha_j^{k_i} = \false$, и~не~ставится, когда $\alpha_j^{k_i} = \true$.

Легко проверить, что каждая формула~$C_i$ истинна тогда и~только тогда, когда истинностное значение~$P_j$ есть $\alpha_j^{k_i}$ для любого $j = 1\ldots n$.

Объединив $C_1 \vee C_2 \vee \ldots \vee C_p$, получим исходную функцию в~виде

\[
f(\vect Pn) \sim C_1 \vee C_2 \vee \ldots \vee C_p.
\]

Формулы данного вида называются \emph{дизъюнктивными нормальными формами (ДНФ)}.

Заметим, что этот метод не~годится для тождественно ложных функций, т.~к. для построения ДНФ нужна хотя бы~одна функция~$C_i$ (в~начале доказательства мы~сделали предположение, что~$p > 0$). Заметим также, что можно подойти к~решению задачи и~с~другой стороны.

Выделим в~таблице истинности $f(\vect Pn)$ строки $\vect l{2^n - p}$, на~которых~$f$ принимает значение~$\false$. Построим~$2^n - p$ формул~$D_i$ вида
\[
\neg_{\neg \alpha_1^{l_i}} P_1\vee\ \neg_{\neg \alpha_2^{l_i}} P_2 \vee\ldots\vee \neg_{\neg \alpha_n^{l_i}} P_n,
\]
где символ отрицания перед~$j$-й переменной ставится в~том случае, когда $\alpha_j^{l_i} = \true$, и~не~ставится, когда $\alpha_j^{l_i} = \false$. Легко видеть, что~$D_i$ ложно тогда и~только тогда, когда~$P_j$ принимает значение $\alpha_j^{l_i}$ для любого $j = 1\ldots n$.

Объединив $D_1\&D_2\&\ldots\&D_{2^n - p}$, получим исходную функцию в~виде

\[
f(\vect Pn) \sim D_1\&D_2\&\ldots\&D_{2^n - p}
\]

Формулы данного вида называются \emph{конъюнктивными нормальными формами (КНФ)}. Построить КНФ можно для любой функции, не~являющейся всюду истинной. Ясно, что выражение КНФ будет короче выражения ДНФ, если исходная функция чаще принимает значение~$\false$, чем~$\true$, и~наоборот.\endproof

\begin{exercise}\label{ex:boolvote}Постройте формулу для <<функции голосования>> от~трёх пропозициональных переменных (т.~е. такой~$f(P, Q, R)$, которая принимает значение~$\true$ в~тех и~только тех случаях, когда не~менее двух переменных принимают значение~$\true$).

Ответ: $(\neg P \& Q \&R)\vee (P \& \neg Q\&R) \vee (P\& Q \& \neg R) \vee (P \& Q \&R)$.\end{exercise}

\p \emph{Полиномом Жегалкина~$n$ переменных} называется формула вида
	\[\begin{array}{l}
	\varepsilon_0 \oplus (\varepsilon_1 \&P_1) \oplus (\varepsilon_2 \& P_2) \oplus \ldots \oplus (\varepsilon_n\& P_n)\oplus\\
	\quad \oplus (\varepsilon_{n+1}\& P_1\&P_2) \oplus \ldots \oplus (\varepsilon_{n+C_n^2}\& P_{n-1}\&P_n)\oplus\\
	\quad \ldots \\
	\quad \oplus(\varepsilon_{2^n-1}\&P_1\&P_2\&\ldots\&P_n).
\end{array}
\]

Здесь $\varepsilon_i$ обозначает булеву константу~$\true$ или~$\false$. Полином Жегалкина представляет из~себя построенную на~операторах~$\oplus$ сумму, каждым слагаемым которой является конъюнкция коэффициента $\varepsilon_i$ и~некоторой выборки пропозициональных переменных (сначала по~одной, затем по~две, по~три и~так далее). Полином содержит все возможные выборки переменных, поэтому число его слагаемых равно~$2^n$.

\begin{theorem}\label{th:Zhegalkin}Любая булева функция может быть представлена полиномом Жегалкина, и~это представление единственно с~точностью до~перестановки слагаемых или компонент в~конъюнкциях.\end{theorem}

\beginproof Как и~при доказательстве теоремы~\ref{func-completeness}, рассмотрим таблицу истинности интересующей нас функции. Отсортируем в~ней строки таким образом, чтобы первой была строка, состоящая из~одних аргументов~$\false$, далее шли все строки, в~которых только один аргумент принимает значение~$\true$, затем~--- строки с~двумя аргументами, принимающими значение~$\true$, и~т.~д. до~последней строки, состоящей из~одних аргументов~$\true$.

Запишем полином Жегалкина с~неопределёнными коэффициентами~$\varepsilon_i$. Подставим во~все~$P_i$ значение из~первой строки отсортированной таблицы истинности, т.~е. одни~$\false$. Эта подстановка заведомо <<занулит>> все слагаемые полинома, кроме $\varepsilon_0$. Следовательно, значение $\varepsilon_0$ должно быть равно $f(\false, \false, \ldots, \false)$.

Затем по~очереди подставляем все возможные наборы переменных из~строк отсортированной таблицы истинности и~находим один за~другим остальные коэффициенты. Легко видеть, что на~$i$-м шаге заведомо <<зануляются>> все слагаемые полинома, начиная с~$i+1$-го, и, если на~предыдущих шагах коэффициенты $\varepsilon_0$, $\varepsilon_1$,\ldots $\varepsilon_{i-1}$ уже определены, то~коэффициент $\varepsilon_i$ также может быть выбран таким образом, чтобы функция принимала необходимое значение на~заданном наборе переменных.

Таким образом, каждая булева функция может быть представлена полиномом Жегалкина. Но~не~равных между собой полиномов Жегалкина не~больше, чем возможных комбинаций значений коэффициентов $\varepsilon_i$. Для случая~$n$ переменных имеется всего~$2^n$ коэффициентов и~$2^{2^n}$ комбинаций, т.~е. ровно столько, сколько булевых функций. Отсюда следует однозначность представления булевой функции полиномом Жегалкина.\endproof

\begin{exercise}Постройте полиномы Жегалкина для дизъюнкции, импликации и~функции из~упр.~\ref{ex:boolvote}. Ответы: $P\vee Q \sim P\oplus Q\oplus(P\&Q)$, $P\imp Q \sim \true \oplus P\oplus(P\&Q)$, $(P \& Q) \oplus (P \& R)\oplus (Q \& R)$.
\end{exercise}

\p Итак, мы~показали, что, используя, к~примеру, одни только операции $\&, \vee, \neg$, можно построить любую булеву функцию. Но~из законов де~М\'органа сразу следует, что, вообще говоря, для этого достаточно набора операций~$\neg$, $\&$ или~$\neg$, $\vee$, из~которых можно выразить все остальные.

Наборы $\{\neg, \&\}$, $\{\neg, \vee\}$ и~$\{\true$, $\false$, $\&$, $\oplus\}$~--- примеры \emph{базисов} логических операций, т.~е. суперпозицией входящих в~них операций возможно построение любой булевой функции. Интересно, что базис может состоять и~всего из~одной двухместной логической операции (для этого достаточно выразить через неё операции~$\neg, \&$ или~$\neg, \vee$).

\begin{exercise}\label{ex:funcfullness}
Докажите, что наборы операций~$\{\mid\}$, $\{\uparrow\}$, $\{\neg , \imp\}$ являются базисами.
\end{exercise}

 Способность операций~$\mid$ и~$\uparrow$ служить базисом используется в~цифровой электронике: для создания схемы, реализующей произвольную булеву функцию~$n$ переменных, достаточно однотипных микросхем, реализующих операции И-НЕ (или ИЛИ-НЕ).

В то~же~время набор операций~$\&$, $\vee$ не~является базисом по~следующей причине: если все пропозициональные переменные принимают значение~$\false$, то~любая формула, содержащая только связки~$\&$, $\vee$, тоже примет значение~$\false$, а~значит, операция~$\neg$ невыразима через~$\&$, $\vee$ (говорят, что эти операции <<сохраняют нуль>>). Вообще, любое доказательство того, что предложенная система операций не~является базисом, должно основываться на~том, что суперпозиция этих операций не~выводит конструируемые булевы функции за~пределы некоторого подкласса булевых функций. В~более подробных руководствах (напр.,~\citelogic{VereShen2}) рассматривается общий критерий (Поста\indPost), определяющий, является ли~набор операций базисом.

\begin{exercise}\cite{Lavrov04}. Докажите, что набор операций $\{\&, \vee, \imp, \lequals\}$ не~является базисом, $\{\neg\}$ не~является базисом.
\end{exercise}

Мы начали этот параграф с~последовательного перебора всех возможных булевых функций, а~завершаем замечанием, что всё разнообразие этих функций может быть построено с~помощью единственной операции, такой, как штрих Шеффера\indSheffer\ или стрелка Пирса\indPeirce. Если бы~мы~стремились к~максимальной примитивности нашего формального языка, то~могли бы~выбрать одну из~этих операций и~в~дальнейшем работать только с~ней, определив все остальные как сокращающие обозначения для соответствующих комбинаций. К~примеру, $P\&Q$ можно было бы~определить как сокращение для $(P\mid Q)\mid (P\mid Q)$. Однако формулы такого языка было бы~довольно трудно воспринимать (в~этом можно убедиться при выполнении упр.~\ref{ex:funcfullness}). Поэтому традиционно математическая логика пользуется четырьмя связками: $\neg$, $\&$, $\vee$, $\imp$~--- которые, как уже отмечалось, соотносятся с~союзами естественного языка. В~дальнейшем мы~также будем применять в~формулах в~основном только эти связки.