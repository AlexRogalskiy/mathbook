\section{Исчисление высказываний}
\label{sec:Prop}
\p В~предыдущем параграфе мы~показали, как при помощи таблиц истинности можно механическим образом решать задачи, касающиеся свойств любой пропозициональной формулы. К~примеру, чтобы доказать общезначимость, достаточно вычислить истинностное значение формулы при всех комбинациях аргументов. Однако, когда мы~дойдём до~формул, содержащих кванторы~$\exists$ и~$\forall$, подобных простых методов уже не~окажется в~нашем распоряжении, поэтому нам необходимо познакомиться с~другим, более общим подходом к~работе с~логическими формулами.
Рассмотрим множество пропозициональных формул, построенных только при помощи связок $\imp$, $\&$, $\vee$, $\neg$, пока безотносительно их~интерпретации в~булевых функциях. Введём десять \emph{схем аксиом}:

\begin{enumerate}
\item $A\imp (B\imp A)$.
\item $(A\imp B) \imp((A\imp(B\imp C)) \imp(A\imp C))$.
\item $A\&B \imp A$.
\item $A\&B \imp B$.
\item $(A\imp B) \imp((A\imp C) \imp(A\imp B\&C))$.
\item $A\imp A\vee B$.
\item $B\imp A\vee B$.
\item $(A\imp C) \imp((B\imp C) \imp(A\vee B \imp C))$.
\item $(A\imp B) \imp((A\imp\neg B) \imp\neg A)$.
\item $\neg\neg A\imp A$.
\end{enumerate}

На первый взгляд этот список может показаться длинным и~с~трудом поддающимся запоминанию. Всё становится проще, если заметить, что схемы аксиом делятся на~группы: первые две схемы задают свойства импликации, схемы 3--5~--- конъюнкции, 6--8~--- дизъюнкции, 9--10~--- отрицания. Самая длинная вторая схема задаёт транзитивность импликации. Схемы 3--5 и~6--8~--- симметричны и~состоят из~правил, одни из~которых говорят, \emph{что} можно получить из~конъюнкции (дизъюнкции), а~другие~--- \emph{как} их~можно получить. Девятая схема имеет отношение к~способу рассуждения, известному как <<сведение к~противоречию>>. Наконец, самая простая десятая схема говорит о~том, как избавиться от~двух знаков отрицания, стоящих подряд.

Будем говорить, что формула~$E$ \emph{доказуема}, или \emph{выводима} в~исчислении высказываний (и~писать~$\vdash E$), если выполняется хотя бы~одно из~следующих условий:
\begin{itemize}
	\item формула~$E$ получается из~какой-либо схемы аксиом заменой букв~$A$, $B$, $C$ на~произвольные пропозициональные переменные или формулы (в~этом случае мы~говорим, что~$E$ является аксиомой),
	\item	одновременно доказуемы некоторая формула~$A$ и~формула ${A\imp E}$. В~этом случае мы~говорим, что~$E$ следует из~доказуемости~$A$ и~$A\imp E$ по~правилу modus ponens, которое обозначим следующим образом:
	\[
 \frac{\vdash A, \vdash A \imp E}{\vdash E}.
\]
\end{itemize}

\emph{Выводом} формулы~$E$ будем называть такую последовательность формул $B_1,\ldots B_n$, в~которой каждая формула либо является аксиомой, либо следует из~двух предшествующих формул предъявленной последовательности по~modus ponens, и~где~$B_n$ совпадает с~$E$.{\sloppy

}
\begin{lemma}
\label{AimpA}
Для любой формулы~$A$ имеет место $\vdash A\imp A$.
\end{lemma}

\beginproof Продемонстрируем вывод:
\begin{enumerate}
\item $A\imp (A\imp A)$~--- схема 1 ($B$ заменено на~$A$),
\item $A\imp((A\imp A)\imp A)$~--- схема 1 ($B$ заменено на~$A\imp A$),
\item $(A\imp(A\imp A)) \imp((A\imp((A\imp A)\imp A)) \imp(A\imp A))$~--- схема 2 ($B$ заменено на~$A\imp A$, $C$ заменено на~$A$),
\item $(A\imp((A\imp A)\imp A)) \imp(A\imp A)$~--- modus ponens из~шагов~1 и~3,
\item $A\imp A$~--- modus ponens из~шагов~2, 4.\endproof
\end{enumerate}

\p На~нынешнем уровне развития теории тот факт, что для формулы~$A\imp A$ найден вывод, можно считать случайностью. Проявив изобретательность, мы, наверное, могли бы~найти вывод и~для некоторых других формул, но~такой неформальный процесс поиска вывода не~имел бы~ничего общего с~механической работой по~построению таблиц истинности (к~примеру, нам не~составило бы~труда доказать тот факт, что $\models A\imp A$). Естественно поставить вопрос: как определить доказуемость или недоказуемость формулы в~общем случае? Ответ даёт утверждение, которое мы~докажем в~этой главе: пропозициональная формула доказуема тогда и~только тогда, когда она общезначима, т.~е. в~действительности знаки~$\vdash$ и~$\models$ взаимозаменяемы, а~поиск вывода можно заменить построением таблиц истинности. Доказать это в~одну сторону мы~можем уже сейчас.

\begin{theorem}
\label{correct}
Всякая доказуемая формула общезначима.
\end{theorem}

\beginproof Пусть~$\vdash B$ и~дан вывод $B_1,\ldots B_n$. Покажем по~индукции, что все формулы в~выводе общезначимы, а~следовательно, общезначимо~$B$.

Всякая аксиома общезначима. Действительно: формулы, выражающие схемы аксиом 1--10~--- общезначимы, в~чём можно убедиться при помощи таблиц истинности. Следовательно, будут общезначимы и~все формулы, получаемые из~схем аксиом подстановкой других формул вместо букв~$A$, $B$, $C$.

Заметим, что~$B_1$ обязана быть аксиомой, следовательно, $\models B_1$.

Каждая $B_i (i > 1)$ является либо аксиомой (и~тогда $\models B_i$), либо получена по~modus ponens из~предшествующих формул, которые можно считать общезначимыми по~предположению индукции.

Если $\models B_j \imp B_i$ $(j<i)$, то, по~определению импликации, исключается случай, когда~$B_j$~--- истинно, а~$B_i$~--- ложно. Но~$\models B_j$ означает, что~$B_j$~--- истинно на~любом наборе пропозициональных переменных. Следовательно, $\models B_i$.\endproof

\begin{follow}
Ни для какой формулы B не~может быть одновременно~$\vdash B$ и~$\vdash\neg B$.
\end{follow}

\beginproof Пусть~$B$~--- доказуема, тогда по~теореме~\ref{correct} столбец значений таблицы истинности для~$B$ содержит только единицы, а~формулы~$\neg B$~--- только нули. Но~если допустить, что~$\neg B$ также доказуема, то~столбец значений формулы~$\neg B$ должен содержать только единицы. Противоречие.\endproof

Доказать утверждение, обратное теореме~\ref{correct}, гораздо сложнее, и~нам для этого потребуется развить навыки работы с~выводом и~рассмотреть ряд вспомогательных теорем.

\p В~обычных рассуждениях мы~часто применяем такой метод: допускаем, что какие-то утверждения истинны, и~смотрим, какие логические следствия получаются из~этого допущения. Введём такую возможность в~исчисление высказываний. Будем говорить, что формула~$E$ \emph{выводима из~посылок} $A_1$,\ldots $A_n$ и~писать $A_1,\ldots A_n \vdash E$, если мы~можем предоставить последовательность формул $B_1$,\ldots $B_n$, в~которой каждая формула либо является одной из~посылок $A_1$,\ldots\linebreak[1] $A_n$, либо аксиомой, либо непосредственно следует из~двух предшествующих формул предъявленной последовательности по~modus ponens, и~где~$B_n$ совпадает с~$E$.

\begin{exercise}\label{ABC0}Используя определение, докажите, что если имеет место $\Gamma_1\vdash A$ и~$\Gamma_2, A\vdash B$, то~$\Gamma_1, \Gamma_2\vdash B$, где~$A$,~$B$~--- произвольные формулы, $\Gamma_1$,~$\Gamma_2$~--- произвольные последовательности формул.\end{exercise}

\begin{exercise}\label{ABC}Докажите, что $A\imp B, B\imp C, A\vdash C$.\end{exercise}

\begin{theorem}[о дедукции в~исчислении высказываний]\label{th:deduct1}
\label{deduct}
Для любого набора формул~$\Gamma$ и~формул~$A, B$ имеет место $\Gamma, A \vdash B$ тогда и~только тогда, когда $\Gamma \vdash A\imp B$.
\end{theorem}

\beginproof В~одну сторону утверждение является, по~сути, переформулировкой правила modus ponens. Действительно: пусть $\Gamma \vdash A\imp B$, т.~е. существует вывод формулы~$A \imp B$ из~посылок~$\Gamma$. Тогда, если добавить~$A$ к~числу посылок, $B$ будет выводима из~$A\imp B$ и~$A$ по~modus ponens.

Докажем обратное утверждение. Пусть $B_1,\ldots B_n$~--- вывод формулы~$B$ из~набора посылок~$\Gamma$ и~посылки~$A$. Добавим к~каждой формуле вывода импликацию из~$A$, так что у~нас получится список $A\imp B_1,\ldots A\imp B_n$ (т.~к. $B_n$ совпадает с~$B$, то~в~конце списка у~нас будет формула~$A\imp B$). Сам по~себе этот список ещё не~является доказательством формулы~$A\imp B$, но~мы~покажем, что его можно дополнить до~доказательства.

Действительно, для каждой из~формул $B_1, \ldots B_n$ имеет место один из~четырёх случаев: она либо является аксиомой, либо совпадает с~одной из~формул~$\Gamma$, либо совпадает с~$A$, либо выводится из~двух предшествующих по~modus ponens.

\begin{enumerate}
	\item Если~$B_i$ есть~$A$, то~по~лемме~\ref{AimpA} доказуемо~$A\imp A$ (безо всяких посылок), поэтому мы~добавляем перед~$A\imp A$ её вывод.
 \item	Если~$B_i$ принадлежит~$\Gamma$, то~по~первой схеме $B_i \imp(A\imp B_i)$, применяя modus ponens к~$B_i$ и~последней формуле, получаем $\Gamma \vdash A\imp B_i$.
 \item	То же~самое, если~$B_i$ является аксиомой.
 \item	Наконец, пусть~$B_i$ получается по~modus ponens из~$B_j$ и~$B_j\imp B_i$, $j<i$. По~второй схеме аксиом имеем \[\vdash (A\imp B_j) \imp((A\imp( B_j \imp B_i)) \imp(A\imp B_i)).\] Т.~к. $j < i$, $A\imp B_j$ можно считать доказуемой из~$\Gamma$ и~по~modus ponens
\[\Gamma \vdash (A\imp(B_j \imp B_i)) \imp(A\imp B_i).\] Построим вывод левой части импликации. По~первой схеме \[\vdash (B_j \imp B_i) \imp(A\imp(B_j \imp B_i)),\] из~$\Gamma \vdash B_j \imp B_i$ имеем $\Gamma \vdash A\imp(B_j \imp B_i),$ и~окончательно $\Gamma \vdash A\imp B_i.$
\end{enumerate}

Мы доказали, что $\Gamma \vdash A\imp B_i$ для всех $i = 1, \ldots n$, а~значит, и~$\Gamma \vdash A\imp B$.\endproof

\begin{exercise}\cite{VereShen2}. Докажите, что для любых~$A$,~$B$,~$C$ имеет место
\[\vdash (A\imp B) \imp ((B\imp C) \imp (A\imp C))\] (указание: используйте теорему~\ref{deduct} и~результат упражнения~\ref{ABC}).\end{exercise}

\p Теорема о~дедукции позволит нам сокращать вывод формул, а~также обосновать целый ряд дополнительных правил вывода, которые можно использовать в~исчислении высказываний.

\begin{theorem}[правила введения и~удаления]\label{newmodus}Для любых формул~$A$, $B$, $C$ и~списка формул~$\Gamma$ справедливы следующие правила вывода:\end{theorem}
\begin{center}
	%\begin{longtable}{c|p{4.5cm}|p{4.5cm}}
	\begin{tabular}{c|p{4.5cm}|p{4.5cm}}
	%\multicolumn{3}{c}{\textit{Продолжение на~следующей странице}}
 %\endfoot
 %\endlastfoot
	& введение & удаление\\
	\hline
	$\imp$
	&
	\[\frac{\Gamma, A\vdash C}{\Gamma \vdash A\imp C}\]
	&
	\[\frac{\Gamma \vdash A \imp C}{\Gamma, A\vdash C}\]
	\\
	\hline
 $\&$
 &
 \[A, B \vdash A \& B\]
 &
 \[A\&B \vdash A,\] \[A\&B \vdash B\]
 \\
 \hline
 $\vee$
 &
 \[A \vdash A \vee B,\] \[B \vdash A \vee B\]
 &
 \[\frac{\Gamma, A \vdash C;\; \Gamma, B \vdash C}{\Gamma, A \vee B \vdash C}\]
 \begin{center}(доказательство разбором случаев)\end{center}
 \\
 \hline
 $\neg$
 &
 \[\frac{\Gamma, A \vdash C;\; \Gamma, A \vdash \neg C}{\Gamma \vdash \neg A}\]
 \begin{center}(reductio ad absurdum)\end{center}
 &
 \[A, \neg A \vdash C\]
 \begin{center}(слабое~$\neg$-удаление)\end{center}
 \[\neg\neg A \vdash A\]
 \begin{center}(сильное~$\neg$-удаление, или~$\neg\neg$-удаление)\end{center}
	%\end{longtable}
	\end{tabular}
\end{center}

\beginproof Действительно:
\begin{itemize}
\item $\imp$-введение и~$\imp$-удаление доказаны теоремой~\ref{deduct};
\item $\&$-введение: продемонстрируем сокращённый вывод:
\begin{enumerate}
	\item $\vdash (A\imp A)\imp((A\imp B) \imp (A\imp A \& B))$~--- схема~5,
	\item $\vdash (A\imp B) \imp (A\imp A \& B)$~--- modus ponens к~шагу~1 и~лемме~\ref{AimpA},
	\item $B\vdash A\imp B$~--- схема~1 и~$\imp$-удаление,
	\item $B\vdash A\imp A \& B$~--- результат упр.~\ref{ABC0} к~шагам~2, 3,
	\item $A, B\vdash A \& B$~--- $\imp$-удаление к~шагу~4;
\end{enumerate}
\item $\&$-удаление есть результат~$\imp$-удаления из~схем 3, 4;
\item $\vee$-введение есть результат~$\imp$-удаления из~схем 6, 7;
\item доказательство разбором случаев:
\begin{enumerate}
 \item $\Gamma\vdash A\imp C$~--- $\imp$-введение к~первому соотношению,
 \item $\Gamma\vdash B\imp C$~--- $\imp$-введение ко~второму соотношению,
 \item $(A\imp C) \imp((B\imp C) \imp(A\vee B \imp C))$~--- схема~8,
 \item $\Gamma\vdash(B\imp C) \imp(A\vee B \imp C)$~--- modus ponens из~шагов~1 и~3,
 \item $\Gamma\vdash A\vee B \imp C$~--- modus ponens из~шагов~2 и~4;
\end{enumerate}
\item $\neg$-введение:
\begin{enumerate}
 \item $\Gamma\vdash A\imp C$~--- $\imp$-введение к~первому соотношению,
 \item $\Gamma\vdash A\imp \neg C$~--- $\imp$-введение ко~второму соотношению,
 \item $(A\imp C) \imp((A\imp\neg C) \imp\neg A)$~--- схема~9,
 \item $\Gamma\vdash(A\imp\neg C) \imp\neg A$~--- modus ponens из~шагов~1,~3,
 \item $\Gamma\vdash\neg A$~--- modus ponens из~шагов~2,~4;
\end{enumerate}
\item $\neg\neg$-удаление есть результат~$\imp$-удаления из~схемы~10;
\item $\neg$-удаление:
\begin{enumerate}
 \item $\neg C, A, \neg A \vdash A$,
 \item $\neg C, A, \neg A \vdash \neg A$,
 \item $A, \neg A \vdash \neg \neg C$~--- $\neg$-введение к~шагам~1, 2,
 \item $\neg\neg C \vdash C$~--- $\neg\neg$-удаление,
 \item $A, \neg A \vdash C$~--- результат упр.~\ref{ABC0} к~шагам~3, 4.\endproof
\end{enumerate}
\end{itemize}

Обратим особое внимание на~то, что правило~$\neg$-удаления, по~сути, гласит: \emph{при наличии противоречивых посылок доказуемо всё, что угодно}.

\p Правила введения и~удаления дают нам новый и~очень эффективный способ построения вывода формул: даже если формула выводится безо всяких посылок, мы~можем начать с~утверждений о~выводимости из~посылок, а~затем <<перебросить>> все посылки направо от~знака выводимости. Примером применения этой методики служит доказательство следующей леммы.

\begin{lemma}[закон исключённого третьего]\label{AorNegA}$\vdash A\vee \neg A$.\end{lemma}

\beginproof Продемонстрируем вывод:
\begin{enumerate}
	\item $\neg (A\vee \neg A), A\vdash A\vee \neg A$~--- $\vee$-введение,
	\item $\neg (A\vee \neg A), A\vdash \neg (A\vee \neg A)$,
	\item $\neg (A\vee \neg A) \vdash \neg A$~--- $\neg$-введение к~шагам~1, 2,
	\item $\neg (A\vee \neg A), \neg A\vdash A\vee \neg A$~--- $\vee$-введение,
	\item $\neg (A\vee \neg A), \neg A\vdash \neg (A\vee \neg A)$,
	\item $\neg (A\vee \neg A) \vdash \neg \neg A$~--- $\neg$-введение к~шагам~4, 5,
	\item $\vdash \neg \neg (A\vee \neg A)$~--- $\neg$-введение к~шагам~3, 6,
	\item $\vdash A\vee \neg A$~--- $\neg \neg$-удаление.\endproof
\end{enumerate}

\begin{exercise}Используя правила введения и~удаления, докажите \[\vdash (A \imp B) \imp (\neg B \imp \neg A)\] (указание: достаточно получить противоречие из~посылок $(A \imp B), \neg B, A$).
\end{exercise}
\begin{exercise}Используя правила введения и~удаления, докажите законы де~Моргана\indMorgan\ (необходимо доказать четыре соотношения: $\neg (A \vee B) \vdash \neg A \& \neg B$, $\neg (A \& B) \vdash \neg A \vee \neg B$ и~обратные им). 

Частичное решение. Докажем $\neg (A \vee B) \vdash \neg A \& \neg B$:
\begin{enumerate}
	\item $\neg (A \vee B), A \vdash A\vee B$~--- $\vee$-введение,
	\item $\neg (A \vee B), A \vdash \neg (A \vee B)$,
	\item $\neg (A \vee B) \vdash \neg A$~--- $\neg$-введение к~шагам~1, 2,
	\item $\neg (A \vee B) \vdash \neg B$ (аналогично шагам 1--3),
	\item $\neg (A \vee B) \vdash \neg A \& \neg B$~--- $\&$-введение к~шагам~3, 4.
\end{enumerate}

Докажем $\neg A \vee \neg B \vdash \neg (A \& B)$:
\begin{enumerate}
	\item $\neg A, A \& B \vdash A$~--- $\&$-удаление,
	\item $\neg A, A \& B \vdash \neg A$,
	\item $\neg A, \vdash \neg (A \& B)$~--- $\neg$-введение к~шагам~1, 2,
	\item $\neg B \vdash \neg (A \& B)$ (аналогично шагам 1--3),
	\item $\neg A \vee \neg B \vdash \neg (A \& B)$~--- $\vee$-удаление к~шагам~3, 4.
\end{enumerate}
\end{exercise}
\begin{exercise}\cite{VereShen2}. Используя правила введения и~удаления, докажите
\[
\begin{array}{r@{\;\vdash\;}l}
(A\imp B) \imp C & B\imp C,\\
A \vee B \imp C & (A \imp C) \& (B \imp C),\\
(A \& C) \vee (B \& C) & (A \vee B) \& C,\\
(A \& B) \vee C & (A \vee C) \& (B \vee C),\\
(A \vee B) \& C & (A \& C) \vee (B \& C),\\
(A \vee C) \& (B \vee C) & (A \& B) \vee C.
\end{array}
\]
(указание: при необходимости воспользуйтесь законами де~Моргана).
\end{exercise}

\p Следующие две леммы установят связь между <<миром булевых функций>> и~<<миром исчисления высказываний>>, после чего мы~сможем доказать главную теорему этого раздела.
\begin{lemma}\label{fullnesslemma2} Для произвольных формул A и~B имеют место следующие 14 утверждений о~выводимости:\end{lemma}

\begin{center}
	\begin{tabular}{rr@{$\quad\vdash\quad$}rrrr}
		 &$\neg A$ & $\phantom{(}\neg A\phantom{)}$ & \\
		 &$A$ & $\phantom{(}\neg\neg A\phantom{)}$ & \\
$\neg A,$ &$\neg B$ & $\phantom{(}A\imp B\phantom{)}$ & $\neg(A\&B)$ & $\neg (A \vee B)$ \\
$\neg A,$ & $B$ & $\phantom{(}A\imp B\phantom{)}$ & $\neg(A\&B)$ & $\phantom{(}A \vee B\phantom{)}$ \\
 $A,$ &$\neg B$ & $ \neg ( A\imp B ) $ & $\neg(A\&B)$ & $\phantom{(}A \vee B\phantom{)}$ \\
 $A,$ & $B$ & $\phantom{(}A\imp B\phantom{)}$ & $\phantom{(}A\&B\phantom{)}$ & $\phantom{(}A \vee B\phantom{)}$ \\
	\end{tabular}
\end{center}

\beginproof Какие-то из~этих утверждений уже доказаны теоремой~\ref{newmodus}, сокращённые доказательства большинства остальных просты и~не~превышают трёх-четырёх строк, например:

\begin{enumerate}
\item $A, \neg B, A\imp B \vdash B$~--- modus ponens из~$A$, $A\imp B$,
\item $A, \neg B, A\imp B \vdash \neg B$,
\item $A, \neg B \vdash \neg (A\imp B )$~--- reductio ad absurdum из~шагов~1, 2.
\end{enumerate}

Изобретательности, пожалуй, требует только доказательство утверждения ${\neg A, \neg B \vdash \neg (A \vee B)}$:\sloppy

\begin{enumerate}
\item $\neg A, \neg B, B \vdash B$,
\item $\neg A, \neg B, A \vdash B$~--- $\neg$-удаление (противоречивы~$\neg A$, $A$),
\item $\neg A, \neg B, A \vee B \vdash B$~--- разбор случаев из~шагов~1, 2,
\item $\neg A, \neg B, B \vdash \neg B$,
\item $\neg A, \neg B, A \vdash \neg B$,
\item $\neg A, \neg B, A \vee B \vdash \neg B$~--- разбор случаев из~шагов~4, 5,
\item $\neg A, \neg B \vdash \neg (A \vee B)$~--- reductio ad absurdum из~шагов~3, 6.
\end{enumerate}

(Но~если использовать закон де~Моргана, то~и~в~этом случае доказательство будет тривиальным: $\neg A, \neg B \vdash \neg A \& \neg B \vdash {\neg (A\vee B)}$.)\endproof

\begin{exercise}Докажите остальные 12 утверждений леммы~\ref{fullnesslemma2}.
\end{exercise}

\begin{lemma}
\label{fullnesslemma3}
Пусть~$F$~--- произвольная формула, построенная из~$n$ пропозициональных переменных $A_1,\ldots A_n$. Тогда для каждой строки таблицы истинности формулы~$F$ имеет место соответствующее утверждение о~выводимости: если $F(\alpha_1,\ldots \alpha_n) = \alpha$, то

\[
\neg_{\alpha_1}A_1, \neg_{\alpha_2}A_2, \ldots \neg_{\alpha_n}A_n \vdash \neg_{\alpha}F.
\]
\end{lemma}

Как и~в~доказательстве теоремы~\ref{func-completeness}, $\neg_{\alpha}F$ обозначает формулу~$F$, если $\alpha = \true$, и~$\neg F$, если $\alpha=\false$.

\beginproof Заметим, что если формула содержит в~себе только один логический оператор, то~мы~имеем случаи, доказанные леммой~\ref{fullnesslemma2}. Общее утверждение можно доказать индукцией по~построению формулы~$F$. Применяя лемму~\ref{fullnesslemma2}, можно построить соответствующие утверждения о~выводимости для всех подформул формулы~$F$, поднимаясь от~пропозициональных переменных к~самой формуле.\endproof

\begin{theorem}[о полноте исчисления высказываний]\label{th:pcompleteness}Всякая общезначимая формула исчисления высказываний доказуема.\end{theorem}

\beginproof Пусть~$F$ построена из~$n$ пропозициональных переменных. Если~${\models F}$, то в~силу леммы~\ref{fullnesslemma3} из~$2^n$ наборов посылок выводится она, а~не~её отрицание. Покажем, что~$F$ можно вывести безо всяких посылок.

Сгруппируем соотношения выводимости в~$2^{n-1}$ пар вида \[A_1, \neg_{\alpha_2}A_2, \ldots \neg_{\alpha_n}A_n \vdash F,\] \[\neg A_1, \neg_{\alpha_2}A_2, \ldots \neg_{\alpha_n} A_n \vdash F.\]

По правилу разбора случаев получим~$2^{n-1}$ соотношений вида \[A_1\vee\neg A_1, \neg_{\alpha_2}A_2, \ldots \neg_{\alpha_n}A_n \vdash F,\] и~в~силу леммы~\ref{AorNegA} \[\neg_{\alpha_2}A_2, \ldots \neg_{\alpha_n}A_n \vdash F,\] где фигурируют только~$n-1$ посылок. Повторив процесс~$n$ раз, получим~${\vdash F}$, что и~требовалось.\endproof


