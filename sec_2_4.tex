\section{Отображения. Сравнение множеств по~мощности}\label{sec:setpower}
\sectionmark{Отображения. Сравнение множеств}

\p Одной из~характеристик множества в~соответствии с~интуитивным представлением должно являться количество входящих в~него элементов. Эту характеристику называют \emph{мощностью} множества. К~примеру, если~$x$, $y$, $z$ не~равны между собой, то~мощность множества $\{x, y, z\}$ равна трём. Но~для того, чтобы выражения типа <<мощность~$x$ равна~$y$>> обрели строгий формальный смысл, необходимо понять, какие формулы на~языке первого порядка аксиоматической теории множеств соответствуют этим выражениям. Ниже мы~выполним формальные построения, которые позволят строго рассуждать о~мощностях множеств в~рамках системы ZFC и~даже обобщить понятие мощности на~множества, содержащие бесконечное количество элементов. Основополагающей конструкцией для этих построений служит \emph{бинарное отношение}.

\p \emph{Бинарным отношением на~множествах~$x$ и~$y$} называется такое~$r$, что $r \subseteq x \times y$. Если $(a, b) \in r$ (необходимым, но~не~достаточным условием чего является $a \in x \& b \in y$), то~говорят, что элемент~$a$ \emph{входит в~отношение~$r$} с~элементом~$b$. \emph{Областью определения} отношения~$r$ называется множество~$\Pr_1(r)$, \emph{областью значений}~---~$\Pr_2(r)$. Частными случаями бинарных отношений являются \emph{пустое отношение} $r = \varnothing$ и~\emph{полное отношение} $r = x\times y$.

Бинарное отношение~$r$ может обладать, а~может и~не~обладать одним или несколькими из~этих свойств:
\begin{enumerate}
	\item \emph{всюдуопределенность}: $\forall u ({u\in x} \imp \exists v {((u, v) \in r)})$ (каждый элемент первого множества входит в~отношение хотя бы~с~одним из~элементов второго множества);
	\item \emph{прямая однозначность}: $\forall u ({u \in r} \imp \forall v ({v \in r} \imp (\pr_1(u) = \pr_1(v) \imp {u = v})))$ (каждый элемент первого множества входит в~отношение не~более чем с~одним из~элементов второго множества);
	\item \emph{всюдузначность}: $\forall v ({v\in y} \imp \exists u {((u, v) \in r)})$ (каждый элемент второго множества входит в~отношение хотя бы~с~одним из~элементов первого множества);
	\item \emph{обратная однозначность}: $\forall u ({u \in r} \imp \forall v ({v \in r} \imp (\pr_2(u) = \pr_2(v) \imp {u = v})))$ (каждый элемент второго множества входит в~отношение не~более чем с~одним из~элементов первого множества).
\end{enumerate}

Заметим, что условие всюдуопределённости можно записать как $\Pr_1(r) = x$, а~всюдузначности~--- как $\Pr_2(r) = y$.

Указанные четыре свойства являются логически независимыми (невыводимыми друг из~друга). Независимость можно доказать, предоставив шестнадцать примеров бинарных отношений, удовлетворяющих каждой комбинации этих свойств и~их~отрицаний. Например, если~$a$, $b$, $c$, $d$, $e$~--- различные между собой элементы, то~$\{(a, d), (b, d), (c, e)\}$~--- пример всюдуопределенного, всюдузначного, прямооднозначного, но~не~обратнооднозначного отношения на~множествах $\{a, b, c\}$ и~$\{d, e\}$, $\{(a, d), (a, e)\}$~--- пример всюдузначного, обратнооднозначного, но~не~всюдуопределённого и~не~прямооднозначного отношения на~тех же~множествах и~т.~п.

\begin{exercise}Примером простейшего бинарного отношения для случая~$x = y$ является тождественное отображение $\id_x = \{t \in x \times x \mid \pr_1(t) = \pr_2(t)\}$, элементами которого являются только такие пары~$(a, b)$, что~$a = b$. Проверьте, что тождественное отображение~$\id_x$ удовлетворяет всем условиям 1--4.\end{exercise}


\p Варьируя набор из~рассмотренных выше четырёх свойств, можно получить шестнадцать видов бинарных отношений, некоторые из~которых имеют собственные названия. Бинарное отношение называется
\begin{itemize}
	\item \emph{функцией}, или \emph{отображением} из~$x$ в~$y$, если оно удовлетворяет условиям 1,~2,
	\item \emph{сюръекцией}, или \emph{наложением} $x$ на~$y$, если выполняются условия 1, 2, 3,
	\item \emph{инъекцией}, или \emph{вложением} $x$ в~$y$, если выполняются условия 1, 2,~4,
	\item \emph{биекцией} между~$x$ и~$y$, если выполняются все четыре условия.
\end{itemize}

Условие <<$f$ есть функция из~$x$ в~$y$>> (точнее, выражающая его конъюнкция условий 1 и~2) сокращённо записывается как $f: x \rightarrow y$.

Условие <<$f$ есть биекция между~$x$ и~$y$>> сокращённо записывается как $f: x \leftrightarrow y$.

\begin{exercise}\label{ex:emptyfunc}Пусть $x \neq \varnothing$. Докажите, что: а\rp\ $\varnothing: \varnothing \rightarrow x$, б\rp\ $\varnothing: \varnothing \rightarrow \varnothing$, в\rp\ $\neg \exists f (f: x \rightarrow \varnothing)$. Иначе говоря, требуется доказать, что пустое множество есть отображение из~пустого множества в~произвольное множество, но~не~существует никакого отображения из~непустого множества в~пустое.\end{exercise}

Для данной функции $f: x \rightarrow y$ и~множеств~$t \in x$, $u \subseteq x$ вводятся следующие термы:
\[\begin{array}{l}
f^{-1} \rightleftharpoons \{t \in \Pr_2(f) \times \Pr_1(f) \mid (\pr_2(t), \pr_1(t)) \in f\},\\
f(t) \rightleftharpoons \bigcup \{ v \in \Pr_2(f)\mid (t, v) \in f\},\\
f[u] \rightleftharpoons \{ v \in \Pr_2(f)\mid \exists t (t\in u \& (t, v) \in f)\}.\\
\end{array}
\]

Терм~$f^{-1}$ называется \emph{обратным отображением} к~$f$, $f(t)$~--- \emph{значением функции} $f$ для~$t$, $f[u]$~--- \emph{образом} множества~$u$. Таким образом, говоря о~функциях, мы~можем пользоваться традиционным обозначением~$f(a)=b$ вместо $(a, b) \in f$.

Ввиду симметричности свойств биекции легко убедиться, что если~$f$~--- биекция, то~$f^{-1}$ также является биекцией.

\begin{exercise}\label{ex:functions}\cite{Lavrov04}
Докажите, что если~$f$~--- функция, то
\[\begin{array}{l}
f[x\cup y] = f[x] \cup f[y],\\
f[x\cap y] \subseteq f[x] \cap f[y],\\
f[x] \setminus f[y] \subseteq f[x\setminus y].\\
\end{array}\]
Частичное решение: рассмотрим третий пример.
\[\begin{array}{l}
f[x] \setminus f[y] = \{z \in \Pr_2(f) \mid \exists t (t \in x \& (t, z) \in f) \& \neg \exists t (t \in y \& (t, z) \in f)\}\\
\exists t (t \in x \& (t, z) \in f) \& \forall t \neg (t \in y \& (t, z) \in f) \imp\\
\quad\imp \exists t (t \in x \& (t, z) \in f) \& ( t \notin y \vee (t, z) \notin f)\sim\\
\quad\sim \exists t (t \in x \& t \notin y \& (t, z) \in f),
\end{array}\]
откуда $f[x] \setminus f[y] \subseteq f[x\setminus y]$.
\end{exercise}

\begin{exercise}Докажите, что если~$f$~--- биекция, то~в~последних двух примерах упр.~\ref{ex:functions} можно знаки~$\subseteq$ заменить знаками равенства.
\end{exercise}
\emph{Суперпозицией} отношений~$g$ и~$f$ называется отношение~$g \circ f$, определяемое следующим образом:

\[\begin{array}{l}g \circ f \rightleftharpoons \{t \in \Pr_1(f) \times \Pr_2(g)\mid \exists u \exists v (u \in f \& v \in g \&\\\quad\quad\& \pr_1(t) = \pr_1(u) \&\pr_2(u) = \pr_1(v)\& \pr_2(v) = \pr_2(t))\}\end{array}\]

\begin{exercise}Докажите, что если~$f$ и~$g$ являются функциями, то~$g \circ f$ также является функцией и~$(g \circ f)(x) = g(f(x))$.
\end{exercise}

\begin{exercise}Докажите, что если~$f$ и~$g$ одновременно являются биекциями (сюръекциями, инъекциями), то~$g \circ f$ также является биекцией (сюръекцией, инъекцией); если~$g$~--- биекция, а~$f$~--- сюръекция (инъекция), то~$g \circ f$~--- сюръекция (инъекция).
\end{exercise}



\p Важный критерий возможности установления биекции между двумя множествами даёт следующая теорема.

 \begin{theorem}[Кантора--Шрёдера--Бернштейна]\label{th:CBS} Необходимым и~достаточным условием существования биекции между множествами~$x$ и~$y$ является существование пары инъекций: из~$x$ в~$y$ и~из~$y$ в~$x$.\end{theorem}

\beginproof Необходимость очевидна: биекция между~$x$ и~$y$ сама является одновременно инъекцией из~$x$ в~$y$ и~из~$y$ в~$x$.

Докажем достаточность. Пусть даны инъекции $f: x \rightarrow y$ и~$g: y \rightarrow x$, <<сконструируем>> из~них искомую биекцию. Обозначим через~$\eta (t)$ терм $x \setminus g[y \setminus f[t]]$.

Запишем уравнение \[u = \eta (u),\] где $u \subseteq x$, и~предположим, что оно имеет корень~$u_0$. Посмотрим, какими свойствами должно обладать множество~$u_0$, если таковое имеется. Пусть $v_0 = y \setminus f[u_0]$. Тогда $x \setminus g[v_0] = u_0$~и~\[\begin{array}{l}g[v_0]=x \setminus u_0,\\f[u_0]=y \setminus v_0.\end{array}\]

Таким образом, отношение $h' = \{t \in f \mid \pr_1(t) \in u_0 \}$ задаёт биекцию между множествами~$u_0$ и~$y \setminus v_0$, а~отношение $h'' = \{t \in g \mid \pr_1(t) \in v_0 \}$~--- биекцию между множествами $x \setminus u_0$ и~$v_0$. Объединение $h = h' \cup h''^{-1}$ является биекцией между множествами~$x$ и~$y$, и~доказательство теоремы сводится к~поиску корня уравнения~$u = \eta (u)$.

Докажем, что решением этого уравнения является терм \[u = \bigcup \{z \in \parts (x) \mid z\subseteq \eta (z)\}.\]

Действительно, $t \in u \sim \exists z (z \subseteq x \& z\subseteq \eta (z) \& t \in z)$. Нетрудно доказать, что <<функция>> $\eta (z)$ является <<монотонной по~включению>>, т.~е. \[z \subseteq z_0 \imp \eta (z) \subseteq \eta (z_0),\] откуда

\[\begin{array}{l}z \subseteq \eta (z) \imp z \subseteq \eta (u) \quad \hbox{(в~силу $z \subseteq u$ по~определению~$u$)},\\
t\in z \& z \subseteq \eta (u) \imp t \in \eta (u),\end{array}\]
откуда $t \in u \imp t \in \eta (u)$ и~$u \subseteq \eta (u)$.

В силу свойства <<монотонности>> $\eta $ и~только что доказанного соотношения $u \subseteq \eta (u)$ имеем ${\eta (u) \subseteq \eta (\eta (u))}$. Но всякое $z$, для которого $z \subseteq \eta (z)$, есть подмножество $u$ по определению $u$. Значит, $\eta (u) \subseteq u$.

Отсюда~$\eta (u)=u$, теорема доказана.\endproof

Иногда теорему~\ref{th:CBS} формулируют следующим образом.
\begin{follow}Биекция между множествами~$x$ и~$y$ существует тогда и~только тогда, когда существуют биекции между~$x$ и~некоторым $y_0 \subseteq y$ и~между~$y$ и~некоторым $x_0 \subseteq x$.\end{follow}

\beginproof Действительно, биекция между~$x$ и~некоторым $y_0 \subseteq y$ сама непосредственно является инъекцией из~$x$ в~$y$, в~силу чего утверждение следствия сводится к~утверждению теоремы~\ref{th:CBS}.\endproof

\p На~произвольной паре множеств~$x$, $y$, вообще говоря, можно построить бинарное отношение не~любого вида. Так, если $x = \{a, b\}$, а~$y = \{c, d, e\}$, то~множество $\{(a, c), (b,d)\}$ является инъекцией из~$x$ в~$y$, но~никакое отношение вида $r \subseteq x \times y$ не~будет инъекцией из~$y$ в~$x$. Причина в~том, что во~втором множестве больше различных между собой элементов, чем в~первом, и~трём элементам второго множества нельзя поставить в~соответствие три \emph{различных между собой} элемента первого множества. На~этом факте и~будут построены наши рассуждения о~мощностях множеств.

Пусть даны множества~$x$ и~$y$. Рассмотрим четыре возможных случая:
\begin{enumerate}
 \item Существует инъекция из~$x$ в~$y$, но~не~существует инъекции из~$y$ в~$x$.
 \item Существует инъекция из~$y$ в~$x$, но~не~существует инъекции из~$x$ в~$y$.
	\item Существуют обе инъекции: из~$x$ в~$y$ и~из~$y$ в~$x$. По~теореме Кантора--Шрёдера--Бернштейна это эквивалентно тому, что существует биекция между~$x$ и~$y$.
 \item Не~существует инъекций ни~из~$x$ в~$y$, ни~из~$y$ в~$x$.
\end{enumerate}
Мы будем говорить, что
\begin{itemize}
	\item \emph{мощность~$x$ меньше мощности} $y$ и~писать~$|x| < |y|$ в~случае~1,
	\item $|y| < |x|$ в~случае~2,
	\item множества~$x$ и~$y$ \emph{равномощны}, или \emph{эквивалентны}, и~писать~$|x| = |y|$ в~случае~3,
	\item говорить, что множества \emph{несравнимы} в~случае 4. Одним из~самых фундаментальных следствий аксиомы выбора является следующая теорема: \emph{несравнимых множеств не~существует}, т.~е. случай 4 никогда не~имеет места в~ZFC. Доказать это мы~сможем только в~конце данной главы (см. теорему~\ref{th:trichotomy}).
\end{itemize}

Если утверждается только лишь существование инъекции из~$x$ в~$y$, но~ничего не~говорится про инъекцию из~$y$ в~$x$, то~говорят, что \emph{мощность~$x$ меньше или равна мощности~$y$}, и~пишут~$|x| \le |y|$.

Заметим, что хотя $|x| \le |y| \imp \neg |y| < |x|$ и~$|x| < |y| \imp \neg |y| \le |x|$, т.~е. из~\emph{утверждения} отношений~$<$, $\le$ следует отрицание отношений~$\ge$, $>$, из~\emph{отрицания} любого из~этих отношений не~следует никакого утверждения про отношения мощностей. Так, если мы~отрицаем~$|x| < |y|$, то~в~этом случае может иметь место как случай $|x| \ge |y|$, так и~случай, когда~$x$ и~$y$ несравнимы. Поэтому мы~должны проявлять осторожность и~понимать, что в~действительности среди утверждений <<не меньше>>, <<больше или равно>>, <<не меньше или равно>>, <<больше>> \emph{нет эквивалентных по~определению}.

Эквивалентность $\neg |x| \le |y|$ и~$|x| > |y|$ следует из~аксиомы выбора, но, во-первых, нами это ещё не~доказано. Кроме того, необходимо иметь возможность чётко различать теоремы, зависимые и~независимые от~аксиомы выбора (например, до~сих пор аксиома выбора нигде не~использовалась). Поэтому впредь мы~намерены придерживаться оговорённых здесь предосторожностей.

Только что введённые знаки~$<$, $\le$, $=$ обладают следующими свойствами:
\begin{itemize}
	\item $x = y \imp |x| = |y|$,

	\item $x \subseteq y \imp |x| \le |y|$,

	\item транзитивность: $|x|\le |y| \& |y| \le |z| \imp |x| \le |z|$; то~же~для~$<$ и~$=$,

	\item рефлексивность: $|x|\le |x|$, $|x| = |x|$,

	\item антирефлексивность строгого неравенства: $\neg |x| < |x|$,

	\item симметричность равенства: $|x| = |y| \sim |y| = |x|$,

	\item антисимметричность строго неравенства: $|x| < |y| \imp \neg |y| < |x|$,

	\item теорема Кантора--Шрёдера--Бернштейна: $|x|\le |y| \& |y| \le |x| \sim |x| = |y|$.
\end{itemize}
\begin{exercise}Докажите приведённые выше утверждения.\end{exercise}

До сих пор мы~не~дали никаких определений, касающихся понятия мощности множества \emph{как таковой}, используя конструкцию~$|x|$ лишь в~контексте отношений сравнения. Это сделано намеренно: пока что в~нашем распоряжении нет аппарата, позволяющего рассматривать запись вида~$|x|$ как \emph{терм} (а~термами у~нас являются множества и~только они), но~зато вполне ясно, какие \emph{формулы} языка первого порядка соответствуют выражениям вида~$|x| < |y|$ или~$|x| = |y|$ (выпишите их~в~качестве упражнения). Может возникнуть желание определить терм~$|x|$ как совокупность всех множеств, имеющих ту~же~мощность, что и~$x$ (в~этом случае выражение~$|x| = |y|$ сводилось бы~к~$x \in |y|$). Проблема в~том, что предположение о~существовании множества множеств, равномощных исходному, как и~в~случае со~<<множеством Рассела>>, ведёт к~парадоксам. Подобная совокупность не~является множеством в~ZFC и~потому не~может быть термом. Поэтому мы~должны либо вновь пересмотреть понятие <<терм>>, либо предложить в~качестве терма для~$|x|$ нечто другое, являющееся множеством. Возможен и~ещё один подход (который мы~примем): отказаться от~всякого разговора о~<<природе>> мощности как таковой, рассматривая только сравнения множеств по~мощностям.

\p Следующая важная теорема указывает на~случай, когда множества оказываются неравномощными.

\begin{theorem}[Кантора]\label{th:CantorPower}Мощность любого множества строго меньше мощности множества всех его подмножеств, т.~е. для любого~$x$, \[|x| < |\parts (x)|.\]\end{theorem}

\beginproof Прежде всего заметим, что $|x| \le |\parts (x)|$. В~самом деле, бинарное отношение \[\{d \in x \times \parts (x) | \{\pr_1(d)\}= \pr_2(d) \}\] является инъекцией из~$x$ в~$\parts (x)$.

Предположим, что существует инъекция $f: \parts (x) \rightarrow x$. Выделим множество $a = \{t\in f | \pr_2(t) \notin \pr_1(t)\}$, а~также $b = \Pr_2(a)$. Т.~к. $b \subseteq x$, то~существует единственный~$y$, такой, что $y \in x \& (b, y) \in f$ (иначе говоря, $y = f(b)$).

Теперь посмотрим, что можно сказать о~выводимости утверждения~$y \in b$.

Если предположить~$y \notin b$, то, по~определению множества~$a$, $(b, y) \in a$, откуда $y \in \Pr_2(a)$, откуда~$y \in b$~--- противоречие. Если предположить~$y \in b$, то~$(b, y) \notin a$. Но, по~условию $b = \Pr_2(a)$, и~значит, всё-таки $y \in \Pr_2(a)$, а~значит, существует некоторое $c \in \Pr_1(a)$, такое, что~$c \neq b$ и~$(c, y) \in a$. Но~последнее нарушает предположение о~том, что~$f$~--- инъекция, т.~е. обратнооднозначная функция.

Итак, добавление к~посылкам как утверждения~$y \in b$, так и~его отрицания ведёт к~противоречию~--- следовательно, противоречива исходная посылка о~существовании инъекции~$f$.\endproof

Обратите внимание на~связь доказательства теоремы Кантора с~рассуждением на~с.~\pageref{def:RusselParadox}, приводящим к~парадоксу Рассела.

Теорема Кантора вместе с~аксиомой существования множества всех подмножеств говорят о~том, что, каким бы~ни~было множество~$x$, при помощи операции~$\parts (x)$ мы~можем построить множество, превосходящее исходное по~мощности. В~частности, на~этой теореме основывается рассуждение, называемое \emph{парадоксом Кантора}, которое демонстрирует невозможность существования <<множества всех множеств>> ${V = \{x | x = x\}}$.

\label{def:CantorParadox}В самом деле, $\forall x \forall t (x \in t \imp x \in V)$, т.~е. всякое множество~$t$ должно быть подмножеством~$V$; следовательно, $\forall t\; |t| \le |V|$. Но~в~силу аксиомы множества всех подмножеств для~$V$, как и~любого множества, существует~$\parts (V)$ и~по~теореме Кантора $|\parts (V)| > |V|$, что противоречит предыдущему утверждению. Следовательно, $V$ не~может существовать, что вновь вступает в~противоречие с~<<наивной>> гипотезой о~том, что любое синтаксически корректное логическое условие определяет множество, т.~е. что $\exists y \forall z (z \in y \lequals A)$ для любой формулы~$A$, не~содержащей~$y$ свободно.

\begin{exercise}Докажите, что 

\begin{enumerate}
	\item  не существует множества $e = \{t \mid |t| = |\{\varnothing\}| \}$ всех одноэлементных множеств (указание: чему равнялось бы $\bigcup e$?),
	\item для любого непустого множества $u$ не существует множества ${\{t \mid |t| = |u|\}}$ всех множеств, равномощных $u$.
\end{enumerate}
 \end{exercise}

\p[Конечные и~бесконечные множества.] Для обозначения мощности натуральных чисел~$|\omega|$ применяют символ~$\aleph_0$ (читается <<\'алеф-нуль>>, алеф~--- первая буква еврейского алфавита). Таким образом, записи ${|x| < \aleph_0}$, ${|x| \ge \aleph_0}$ означают ${|x| < |\omega|}$, ${|x| \ge |\omega|}$ соответственно.

Множество называется \emph{бесконечным}, если~$|x| \ge \aleph_0$, и~\emph{конечным}, если $|x| < \aleph_0$.

Что означают эти условия на~содержательном уровне? Условие бесконечности означает существование такой~$f: \omega \rightarrow x$, с~помощью которой можно организовать неограниченный последовательный выбор всё новых элементов интересующего нас множества: сначала выбирается~$f(0)$, затем не~равный ему~$f(1)$, затем не~равный двум предыдущим~$f(2)$ и~т.~д., при этом процесс никогда не~закончится исчерпанием элементов~$x$. Если же~$|x| < \aleph_0$, то~возможно построить биекцию между~$x$ и~некоторым (как мы~сейчас убедимся, имеющим наибольший элемент) подмножеством натуральных чисел, но~инъекции из~$\omega$ в~$x$ не~существует и~бесконечный процесс выбора организовать невозможно.

Множество, несравнимое с~$\omega$, с~точки зрения данных нами определений должно являться одновременно не~бесконечным и~не~конечным. Первым шагом по~направлению к~доказательству общей теоремы о~сравнимости любых двух множеств является следующая теорема, в~которой мы~впервые применим аксиому выбора.


\begin{theoremAC}\label{th:preZermelo} $\mathrm{ZFC}\vdash \neg |x| \ge \aleph_0 \sim |x| < \aleph_0$. Иначе говоря, в~системе ZF с~аксиомой выбора любое множество либо бесконечно, либо конечно.\end{theoremAC}

\beginproof В~одну сторону утверждение элементарно. По~определению, \[\begin{array}{l}|x| \ge \aleph_0 \sim \exists f \mbox{<<$f: \omega \rightarrow x$~--- инъекция>>},\\|x| < \aleph_0 \sim \exists g \mbox{<<$g: x \rightarrow \omega$~--- инъекция>>} \& \\ \quad \&\neg \exists f \mbox{<<$f: \omega \rightarrow x$~--- инъекция>>},\end{array}\] откуда сразу следует $|x| < \aleph_0 \imp \neg |x| \ge \aleph_0$.

Чтобы доказать, что $\neg |x| \ge \aleph_0 \imp |x| < \aleph_0$, требуется показать наличие инъекции из~$x$ в~$\omega$ при условии отсутствия инъекции из~$\omega$ в~$x$.

Случай, когда $x = \varnothing = 0$, тривиален, поэтому будем считать множество~$x$ не~пустым.

Следствием аксиомы выбора, как мы~сейчас проверим, является существование такой функции $f: \parts(x)\setminus \{\varnothing\} \rightarrow x$, что \[\forall t (t \neq \varnothing \& t \subseteq x \imp f(t) \in t)\] (иначе говоря, существует функция, которая каждому непустому подмножеству некоторого множества~$x$ ставит в~соответствие один элемент этого подмножества). Достроим эту функцию следующим образом: \[f' = \{(\varnothing, \varnothing)\} \cup \{u \in \parts(x)\times \parts(x)\mid \{f(\pr_1(u))\} = \pr_2(u)\}.\]

Теперь функция определена на~всём множестве~$\parts(x)$ и~обладает свойствами $f'(\varnothing) = \varnothing$, $u \neq \varnothing \& u \subseteq x \imp \exists t (\{t\} = f'(u) \& t \in u)$.

Построим функцию $g: \omega \rightarrow \parts(x)$ на~основе следующих логических условий: \[\begin{array}{l}g(0) = x,\\g(n+1) = g(n) \setminus f'(g(n)).\end{array}\]

Иначе говоря, мы~выбираем элемент~$x_0 = f(x)$ и~<<выбрасываем>> его из~множества~$x$. Если в~результате осталось пустое множество, то~$g(1)$ и~все последующие~$g(n)$ получат значение $\varnothing$. Если после удаления одного элемента множество осталось не~пустым, то~мы~выбираем элемент из~оставшихся и~<<выбрасываем>> его, и~т.~д.

Заметим, что выводимы следующие утверждения:

1. $\forall n \forall m (n \neq m \& g(n) \neq \varnothing \& g(m)\neq \varnothing \imp f(g(n)) \neq f(g(m)))$. Иначе говоря, пока $g(n) \neq \varnothing$, из~множества~$x$ выбираются всё новые элементы. В~самом деле, $g(m) \subseteq g(n)$ (можно показать по~индукции) и~элементы~$f(g(m))$ и~$f(g(n))$ принадлежат непересекающимся множествам~$g(m)$ и~$g(n)\setminus g(m)$.

2. $g(n) = \varnothing \imp (\forall m (m > n \imp g(m) = \varnothing))$ (можно доказать индукцией).

3. $\exists n \ g(n) =\varnothing$. Если допустить $\forall n \ g(n) \neq \varnothing$, то, в~силу п.~1, суперпозиция $f\circ g: \omega \rightarrow x$ образует инъекцию, определённую на~всём множестве~$\omega$, что противоречит условию $\neg |x| \ge \aleph_0$.

4. $\forall t (t \in x \imp \exists n (f(g(n)) = t))$. Пусть существует такое~$t \in x$, что $\forall n f(g(n)) \neq t$. Но~это значит, что~$t \in g(0)$ и~$\forall n \ t\in g(n)$, т.~е. все множества~$g(n)$~--- непустые, что противоречит п.~3.

Итак, существует такой~$n$, что функция $\{t \in f\circ g \mid \pr_1(t) < n\}$ является всюдуопределённой, всюдузначной, прямо- и~обратнооднозначной, иначе говоря, биекцией между множеством~$x$ и~подмножеством~$\omega$, состоящим из~всех чисел, меньших~$n$, а~значит, и~инъекцией из~$x$ в~$\omega$, что и~требовалось доказать.

Остаётся проверить, что существует $f: \parts(x)\setminus \{\varnothing\} \rightarrow x$ такая, что $\forall t ({t \neq \varnothing} \& {t \subseteq x} \imp {f(t) \in t})$ (т.~е. функция, выбирающая из~любого непустого подмножества~$x$ один из~элементов этого подмножества). Несмотря на~<<очевидность>> этого утверждения, вывести его можно только из~аксиомы выбора.

Напомним суть аксиомы выбора: для любого семейства непустых попарно непересекающихся множеств существует множество, содержащее ровно по~одному элементу из~каждого множества исходного семейства. Для нас это утверждение эквивалентно тому, что существует функция, ставящая в~соответствие каждому множеству из~семейства непересекающихся множеств его элемент: $\forall x (\forall y \forall z ({y \in x} \& {z \in x} \imp ({y \neq \varnothing} \& ({y\cap z \neq \varnothing} \imp {z = y}))) \imp \exists f ({f: x \rightarrow \bigcup x} \& \forall t ({t\in x} \imp {f(t) \in t}) ))$.

Как быть со~множеством $\parts(x)\setminus \{\varnothing\}$, некоторые элементы которого попарно пересекаются? К~нужному виду, например, его можно привести, помножив каждый элемент $t \subseteq x \& t \neq \varnothing$ на~$\{t\}$, т.~к. $t_1 \neq t_2 \imp t_1 \times \{t_1\} \cap t_2 \times \{t_2\} = \varnothing$.

Итак, множество \[p = \{u \in \parts(x \times \parts (x)) \mid \exists t (t \in (\parts (x) \setminus \varnothing) \& u = t\times \{t\})\}\] удовлетворяет требованиям аксиомы выбора, и~функция $f'(x) = \pr_1(f(x \times \{x\}))$, где~$f$~--- функция выбора для множества~$p$, есть функция выбора для множества ${\parts(x)\setminus \{\varnothing\}}$.\endproof

Фигурирующее в~доказательстве число~$n$, на~котором заканчивается процесс выбора элементов~$x$ (точнее, $n = \inf \{m \in \omega \mid g(m) = \varnothing\}$), является, очевидно, количеством элементов в~конечном множестве~$x$. Следствием (вполне ожидаемым) только что доказанной теоремы является тот факт, что любому конечному множеству соответствует некоторое натуральное число~$n$, получающееся в~результате пересчёта его элементов.

Обратим ещё раз внимание на~тот факт, что утверждение $|x| < \aleph_0$ является отрицанием утверждения $|x| \ge \aleph_0$ только при условии, что мы~принимаем аксиому выбора. В~теории множеств, отрицающей аксиому выбора, возможно существование (наряду с~конечными и~бесконечными) несравнимых с~$\omega$ множеств, которые, однако, будут <<не бесконечными и~не~конечными>> с~точки зрения данных нами определений. Если мы~желаем до~конца быть последовательными в~вопросе разделения зависимых и~независимых от~аксиомы выбора утверждений, то~мы~должны всегда делать упор на~то, что именно~--- конечность, бесконечность, отрицание одного либо другого~--- мы~утверждаем в~том или ином случае.

\begin{theorem}\label{th:finiteomegasubset}Непустое подмножество натуральных чисел бесконечно тогда и~только тогда, когда оно не~содержит наибольшего элемента.\end{theorem}

\beginproof В~свете только что сказанного прежде всего заметим, что любое $u \subseteq \omega$ сравнимо с~$\omega$ и~без аксиомы выбора, т.~к. $f = \{t \in u \times \omega \mid \pr_1(f) = \pr_2(f)\}$ есть инъекция из~$u$~в~$\omega$.

\emph{В одну сторону.} Пусть~$u$ непусто и~не~содержит наибольшего элемента. Построим функцию $f: \omega \rightarrow \parts(u)$ на~основе следующих логических условий: \[\begin{array}{l}f(0) = u,\\f(n+1) = f(n) \setminus \{\bigcap (f(n))\}.\end{array}\] Таким образом, мы~ставим в~соответствие нулю всё множество~$u$, а~затем на~каждом шаге отбрасываем из~$f(n)$ либо его наименьший элемент (если $f(n)\neq \varnothing$, см. упр.~\ref{ex:infu}), либо пустое множество, если $f(n) = \varnothing$ (см. упр.~\ref{ex:emptysetprop}). Используя тот факт, что~$u$~--- непустое множество без наибольшего элемента, при помощи индукции нетрудно убедиться, что \[\forall n (n\in \omega \imp f(n) \neq \varnothing),\] т.~е. процесс <<извлечения>> элементов никогда не~прекратится, и~что \[\forall m \forall n (m\in \omega \& n \in \omega \& m < n \imp \inf(f(m)) < \inf (f(n))),\] т.~е. наименьшие элементы всех~$f(n)$ различны между собой и~образуют возрастающую последовательность ($f(0) \neq \varnothing$ по~условию, и~если предположить $\exists n f(n) \neq \varnothing \& f(n +1) = \varnothing$, то~$f(n)$ окажется равным $\{\sup (u)\}$). Отсюда уже ясно, что функция $g:\omega \rightarrow u$, определённая условием $g(n) = \inf (f(n))$, есть искомая инъекция, обеспечивающая бесконечность множества~$u$.

\emph{В обратную сторону.} Пусть дана инъекция $f: \omega \rightarrow u$ и~$\exists m \; \sup(u) = m$. По~условию $\exists ! n\; f(n)=m$ и~\[f\setminus \{(n, m)\}: \omega \setminus\{n\}\rightarrow u \setminus \{m\}\] есть инъекция из~множества~$\omega$ без элемента~$n$ в~множество~$u$ без своего наибольшего элемента. Но~для любого~$n$ существует биекция между~$\omega$ и~$\omega \setminus \{n\}$: поставим в~соответствие каждому элементу $x \in \omega \& x < n$ самого себя и~каждому элементу $x \in \omega \& x \ge n$ элемент~$x + 1$. Отсюда следует, что существует также инъекция из~$\omega$ в~$u \setminus \{\sup (u)\}$.

Теперь воспользуемся индукцией по~величине~$\sup(u)$ для того, чтобы доказать, что какой бы~она ни~была, все множества, имеющие наибольший элемент, конечны.

Если $\sup(u) = 0$, то~$u = \{\varnothing\}$, $u \setminus \{\sup (u)\} = \varnothing$ и~не~может существовать никакой функции (не~говоря уже об~инъекции) из~$\omega$ в~$\varnothing$, т.~к. нарушается условие всюдуопределённости. Значит, множество~$\{\varnothing\}$ конечно. Предположим теперь, что $\sup (u) = m + 1$ и~любое подмножество~$\omega$, чей наибольший элемент равен~$m$, конечно. Но~если бы~имелось бесконечное~$u$ с~наибольшим элементом~$m + 1$, то~существовала бы~инъекция $g: \omega \rightarrow u \setminus \{\sup (u)\}$. Множество $u \setminus \{\sup (u)\}$ непусто и~ограничено сверху элементом~$\sup (u)$, и~с~учётом $\sup (u \setminus \{\sup (u)\}) < \sup (u)$ имеем противоречие с~предположением индукции.\endproof

При доказательстве этой теоремы обнаружилось, что <<отбрасывание>> одного элемента из~бесконечного множества оставляет его бесконечным. Но~в~действительности мы~можем отбросить и~бесконечное число элементов. Из~приведённой ниже таблицы, в~которой числа, выписанные в~одном столбце, поставлены в~биективное соответствие друг другу, ясно, что мощность~$\aleph _0$ имеет не~только множество~$\omega$, но~также его строгие подмножества: множество нечётных чисел, множество простых чисел, квадратов натуральных чисел, множество степеней двойки и~т.~д.:

\begin{tabbing}
0000\=0000\=0000\=0000\=0000\=0000\=$\cdots$0\=\kill

\>$1$\>$2$\>$3$\>$4$\>$5$\>$\cdots$\>$n$\\*

\>$1$\>$3$\>$5$\>$7$\>$9$\>$\cdots$\>$2n-1$\\*

\>$2$\>$3$\>$5$\>$7$\>$11$\>$\cdots$\>$p_n$\\*

\>$1$\>$4$\>$9$\>$16$\>$25$\>$\cdots$\>$n^2$\\*

\>$2$\>$4$\>$8$\>$16$\>$32$\>$\cdots$\>$2^n$\\*

\>$1$\>$2$\>$6$\>$24$\>$120$\>$\cdots$\>$n!$
\end{tabbing}


Можно привести примеры последовательностей натуральных чисел с~ещё более быстрым ростом, которые, как бы~редко они ни~были распределены в~$\omega$, имеют мощность не~меньшую, чем всё множество натуральных чисел\footnote{\,Б. Рассел в~книге <<Misticism and Logic>> указывает следующее остроумное <<применение>> данному свойству бесконечности. В~романе Л. Стерна <<Жизнь и~мнения Тристрама Шенди, джентльмена>> герой обнаруживает, что ему потребовался целый год, чтобы изложить события первого дня его жизни, и~ещё один год понадобился, чтобы описать второй день. В~связи с~этим герой сетует, что материал его биографии будет накапливаться быстрее, чем он~сможет его обработать, и~он~никогда не~сможет её завершить. «Теперь я~утверждаю, — возражает на~это Рассел, — что если бы~он~жил вечно и~его работа не~стала бы~ему в~тягость, даже если бы~его жизнь продолжала быть столь же~богатой событиями, как вначале, то~ни~одна из~частей его биографии не~осталась бы~ненаписанной». Действительно, события~$n$-го дня своей жизни Шенди мог бы~описать за~$n$-й год и, таким образом, в~его автобиографии каждый день оказался бы~запечатлён: иначе говоря, если бы~жизнь длилась бесконечно, то~она насчитывала бы~столько же~лет, сколько дней.}. Такое нарушение принципа <<часть меньше целого>> есть характерная черта бесконечных множеств.

\begin{theorem}[критерий Дедекинда]\label{th:Dedekind}Множество является бесконечным, если и~только если оно равномощно некоторому своему строгому подмножеству.
\end{theorem}

\begin{figure}[htbp]
\centering
	\includegraphics{_pictures/dedekind}
	\caption{К доказательству теоремы~\ref{th:Dedekind}}
	\label{fig:dedekind}
\end{figure}

\beginproof \emph{В одну сторону.} Пусть $u_1 \subset u$ и~$f: u \leftrightarrow u_1$~--- биекция, докажем существование инъекции $g: \omega \rightarrow u$.

По условию $\exists x_0 (x_0 \in u \setminus f[u])$. Определим $g: \omega \rightarrow u$ на~основе следующих логических условий: \[\begin{array}{l}g(0) = x_0,\\g(n+1) = f(g(n)).\end{array}\]

Иначе говоря, мы~выбираем некоторый элемент $x_0 \in u \setminus f[u]$, а~затем последовательно применяем к~нему функцию $f: u\rightarrow u_1$: $x_1 = f(x_0)$, $x_2 = f(x_1)$ и~т.~д.

Индукцией можно показать, что в~силу биективного характера~$f$ \[u \supset f[u] \supset f[f[u]] \supset f[f[f[u]]] \supset \ldots,\] \[x_0 \in u \setminus f[u],\ x_1 \in f[u] \setminus f[f[u]],\ x_2 \in f[f[u]] \setminus f[f[f[u]]],\ldots,\] из~чего следует, что все~$x_i$ различны между собой, т.~е. построенная нами $g: \omega \rightarrow u$~--- инъекция.

\emph{В обратную сторону.} Пусть множество~$u$ бесконечно. Тогда существует инъекция $f: \omega \rightarrow u$. <<Выбросим>> из~$u$ элемент~$f(0)$ и~построим биекцию $g: f[\omega]\leftrightarrow f[\omega]\setminus \{f(0)\}$ по~условию $g(f(n)) = f(n+1)$.\endproof