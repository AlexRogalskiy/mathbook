\section{Натуральные числа}\label{sec:naturalnumbers}

\p В~этом параграфе мы~применим до~сих пор нигде не~использованную нами аксиому бесконечности для того, чтобы построить терм, который в~дальнейшем будет отождествляться со~множеством натуральных чисел.

\DeclareMathOperator{\Prog}{Prog}

\begin{theorem}\label{th:omegaset}Существует единственное множество~$\omega$, удовлетворяющее следующим условиям:
\begin{enumerate}
	\item $\varnothing \in \omega$,
	\item $\forall x (x \in \omega \imp x \cup \{x\} \in \omega)$,
	\item $\forall x (x \in \omega \imp (x \neq \varnothing \imp \exists y (y\in \omega \& x = y \cup \{y\})))$.
\end{enumerate}
\end{theorem}

\beginproof Назовём множества, удовлетворяющие условиям 1 и~2, \emph{прогрессивными} и~обозначим формулу $\varnothing \in u \& \forall x ({x\in u} \imp x \cup \{x\} \in u)$ через~$\Prog (u)$. Аксиома бесконечности, будучи переписана с~использованием доступных нам теперь сокращающих обозначений, гласит, что
$\exists u \Prog (u)$. В~качестве~$\omega$ мы~хотим взять такое множество, каждый элемент которого входит во~все другие прогрессивные множества. Комбинируя аксиомы бесконечности и~ограниченного выделения, имеем \[\mathrm{ZF}\vdash \exists x (\Prog (x) \& \exists \omega \forall z (z \in \omega \lequals z \in x \& \forall y (\Prog (y) \imp z \in y))).\] Но~$\forall y (\Prog (y) \imp z \in y) \imp (\Prog(x) \imp z\in x)$, в~результате чего получаем возможность убрать ограничивающее условие~$z \in x$ и~прийти~к \[\mathrm{ZF}\vdash \exists \omega \forall z (z \in \omega \lequals \forall y (\Prog (y) \imp z \in y)).\]

В силу леммы~\ref{lemma:uniqueselect} знак $\exists \omega$ в~этом случае можно заменить на~$\exists! \omega$, т.~е. $\omega$ существует и~единственно\footnote{\,Заметим, что для доказательства этого утверждения не~понадобились свойства формулы~$\Prog(x)$, что позволяет для любой зависящей от~$x$ формулы~$A$ утверждать существование множества $\{z \mid \forall x (A \imp z \in x)\}$ в~случае, когда $\exists x A$.}.

Осталось показать, что~$\omega$ прогрессивно и~удовлетворяет условию~3.

Используя теорему~\ref{th:substcollect}, имеем \[\begin{array}{l}\Prog (\omega) \sim \varnothing \in \omega \& \forall t (t \in \omega \imp t \cup \{t\} \in \omega) \sim \\ \quad \sim\forall y (\Prog(y) \imp \varnothing \in y)\& \\ \quad \quad \& \forall t (\forall y (\Prog(y) \imp t \in y) \imp \forall y (\Prog(y) \imp t \cup \{t\} \in y)). \end{array}\]

Первая часть конъюнкции прямо выводима из~$\Prog (y)$. Выведем вторую часть.

В силу тавтологии, получаемой из~второй схемы аксиом исчисления высказываний, \[\begin{array}{l}\vdash (\Prog(y) \imp (t \in y \imp t \cup \{t\} \in y)) \imp\\ \quad \imp ((\Prog(y) \imp t \in y) \imp (\Prog(y) \imp t \cup \{t\} \in y)), \end{array}\] откуда последовательно получаем \[\vdash (\Prog(y) \imp t \in y) \imp (\Prog(y) \imp t \cup \{t\} \in y)\] и~\[\vdash \forall y (\Prog(y) \imp t \in y) \imp \forall y (\Prog(y) \imp t \cup \{t\} \in y),\] в~силу чего окончательно $\vdash \Prog (\omega).$

Докажем, что~$\omega$ удовлетворяет условию 3.

Выделим множество \[\omega' = \{x \in \omega \mid x \neq \varnothing \imp \exists y (y\in \omega \& x = y \cup \{y\})\}.\] Ясно, что $\omega' \subseteq \omega$. Докажем $\Prog (\omega')$ таким же~образом, как мы~только что проделали это для~$\omega$: \[\begin{array}{l}\Prog (\omega') \sim \varnothing \in \omega' \& \forall t (t \in \omega' \imp t \cup \{t\} \in \omega') \sim\\ \quad \sim (\varnothing \neq \varnothing \imp \exists y (y\in \omega \& \varnothing = y \cup \{y\}))\& \\ \quad \& \forall t ((t \neq \varnothing \imp \exists y (y\in \omega \& t = y \cup \{y\})) \imp \\ \quad\quad \imp (t \cup \{t\} \neq \varnothing \imp \exists y (y\in \omega \& t \cup \{t\} = y \cup \{y\}))). \end{array}\]

В силу того, что $\neg \varnothing \neq \varnothing$, $t \cup \{t\} \neq \varnothing$, $\exists y (y \in \omega \& t \cup \{t\} = y \cup \{y\}) \sim t\in \omega$ (см. упр.~\ref{ex:progr}), \[\Prog (\omega') \sim \forall t ((t\neq \varnothing \imp \exists y ( y \in \omega \& t = y \cup \{y\})) \imp t \in \omega).\]

В силу тавтологии $(A \imp B) \imp C \sim (A \imp (B \imp C)) \& (\neg A \imp C)$ выражение, замкнутое квантором~$\forall t$, эквивалентно $(t\neq \varnothing \imp (\exists y ( y \in \omega \& t = y \cup \{y\} ) \imp t \in \omega))\& (t = \varnothing \imp t \in \omega)$.

Но $\exists y ( y \in \omega \& t = y \cup \{y\} ) \imp \exists y ( y \cup \{y\} \in \omega \& t = y \cup \{y\} )$, откуда $\exists y ( y \in \omega \& t = y \cup \{y\} ) \imp t\in \omega$, а~вторая часть конъюнкции (утверждение $t = \varnothing \imp t \in \omega$) следует из~$\varnothing \in \omega$.

Таким образом, $\vdash \Prog(\omega')$. Но~$\vdash \Prog(\omega') \imp \omega \subseteq \omega'$, т.~к. $\omega$ по~определению~--- <<минимальное>> прогрессивное множество. Значит, $\omega' \subseteq \omega$ и~$\omega \subseteq \omega'$, откуда $\omega = \omega'$ и~условие 3 выполняется для всех элементов~$\omega$.\endproof

\p Множество~$\omega$ мы~будем называть множеством натуральных чисел (по~фон Нейману). Примем, кроме того, следующие обозначения для термов, являющихся элементами~$\omega$:
\[\begin{array}{l}
\varnothing \rightleftharpoons 0,\\
\{\varnothing\} = \{0\} \rightleftharpoons 1,\\
\{\varnothing, \{\varnothing\}\} = \{0, 1\} \rightleftharpoons 2,\\
\{\varnothing, \{\varnothing\}, \{\varnothing, \{\varnothing\}\}\} = \{0, 1, 2\} \rightleftharpoons 3,\\
.\quad.\quad.\\
x\cup \{x\} \rightleftharpoons x + 1.
\end{array}\]

\begin{theorem}\label{th:Peano}Множество~$\omega$ удовлетворяет аксиомам Пеано для натуральных чисел:
\begin{enumerate}
	\item $0 \in \omega$~--- нуль является натуральным числом,
	\item $x \in \omega \imp x + 1 \in \omega$~--- число, следующее за~натуральным, также является натуральным числом,
	\item $\neg \exists x (x \in \omega \& x + 1 = 0)$~--- нуль не~следует ни~за~каким натуральным числом,
	\item $\forall x \forall y (x + 1 = y + 1 \imp x = y)$~--- всякое натуральное число следует только за~одним натуральным числом,
	\item $(0\mid x)A \& \forall x (x \in \omega \imp (A \imp (x + 1\mid x)A)) \imp \forall x (x \in \omega \imp A)$~--- аксиома индукции: если зависящая от~натурального числа формула истинна для нуля, а~также для всякого числа, следующего за~тем, для которого эта формула истинна, то~формула истинна для всех натуральных чисел.
\end{enumerate}
\end{theorem}

\beginproof Утверждения 1--3 тривиально следуют из~определений и~уже доказанных теоремой~\ref{th:omegaset} свойств, утверждение 4 есть следствие упражнения~\ref{ex:progr}. Для доказательства утверждения 5 достаточно построить терм $\{x \in \omega \mid A\}$ и~убедиться в~том, что он~является прогрессивным множеством в~предположении \[(0\mid x)A \& \forall x (x \in \omega \imp (A \imp (x + 1\mid x)A)).\endproof\]

Если~$x$ и~$y$~--- элементы множества~$\omega$ (т.~е., иначе говоря, натуральные числа), то~вместо~$x \in y$ пишут~$x < y$, вместо $x \in y + 1$~--- $x \le y$.

Если $u \subseteq \omega$, то~элемент~$x$ называется \emph{наибольшим в~$u$} (и~пишется $x = \sup(u)$), если $x\in u \& \forall y (y\in u \imp y \le x)$, и~\emph{наименьшим в~$u$} (и~пишется $x = \inf(u)$), если $x\in u \& \forall y (y\in u \imp x \le y)$.

В общем случае при рассмотрении подмножеств упорядоченных множеств~$\sup(u)$ и~$\inf(u)$ не~есть наибольший и~наименьший элементы (см. далее определения, даваемые в~\S\,\ref{sec:order}). Применительно к~натуральным числам, однако, понятия <<$x$ есть~$\sup(u)$>> и~<<$x$ есть наибольший элемент~$u$>> совпадают (аналогично~$\inf$ и~<<наименьший элемент>>), поэтому при рассмотрении подмножеств натуральных чисел удобные обозначения~$\sup$ и~$\inf$ будут часто использоваться.

\begin{exercise}\label{ex:naturalnum}Докажите, что для любых натуральных чисел~$m$ и~$n$ выполняется $m < n \imp m \subset n$. Указание: воспользуйтесь аксиомой индукции, доказанной в~теореме~\ref{th:Peano}. \end{exercise}

\begin{exercise}\label{ex:fundomega}Докажите, что любое непустое подмножество~$\omega$ содержит единственный наименьший элемент.

Частичное решение. Предположим, что наименьшего элемента не~существует, т.~е. $\neg \exists x (x \in u \& \forall n (n \in u \imp x \le n)),$ что эквивалентно \[\forall x (x \notin u \vee \neg \forall n (n \in u \imp x \le n)).\]

Но $\forall n\ 0 \le n$, откуда \[0 \notin u \& \forall n (n \in u \imp 0 \le n).\]

Пусть для некоторого~$m$ выполняется $m \notin u \& \forall n (n \in u \imp m \le n)$. Тогда $\forall n (n \in u \imp m < n)$, и~\[\begin{array}{l} m + 1 \notin u \vee \neg \forall n (n \in u \imp m+1 \le n)\sim \\ \quad \sim m + 1 \notin u \vee \neg \forall n (n \in u \imp m < n),\end{array}\] из~чего следует $m+1 \notin u$. Но~тогда, в~силу аксиомы индукции, $\forall n (n \in \omega \imp n \notin u)$, что противоречит исходному предположению о~том, что~$u$~--- непустое.

Заметим также, что этот же~результат мы~могли бы~получить напрямую из~аксиомы фундирования.\end{exercise}

\begin{exercise}Докажите, что любое непустое ограниченное сверху подмножество натуральных чисел (т.~е. такое~$u$, что $u\subseteq \omega \& \exists m \forall n (n\in u \imp n < m)$) имеет наибольший элемент. \end{exercise}

\begin{exercise}\label{ex:infu}Пусть $u \subseteq \omega$. Докажите, что если~$u$~--- непустое множество, то~терм~$\bigcap u$ есть его наименьший элемент.

Частичное решение. Пусть $u_\le (t) = \{x \in u \mid x \le t\}$, $u_> (t) = \{x \in u \mid t < x\}$. Тогда \[\forall n ( n \in u_\le (t) \imp \forall m (m \in u_> (t) \imp n \in m)),\] откуда \[\bigcap u = \bigcap (u_\le (t) \cup u_> (t)) = \bigcap u_\le (t)\] для любого~$t \in u$.

По доказанному в~упр.~\ref{ex:fundomega} и~только что,
\[\begin{array}{l}\exists t (t = \inf (u) \& \bigcap u = \bigcap u_\le(t)) \sim\\ \quad \sim \exists t (t = \inf (u) \& \bigcap u = \{x \in \omega \mid \forall n (n \in u_\le(t) \imp x \in n)\}).\end{array}\]

Но $n \in u_\le(t) \sim n\in u \& n \le t$, а~в~силу $t = \inf (u)$, $n \in u_\le(t) \imp n = t$ и

\[\begin{array}{l}\exists t (t = \inf (u) \& \bigcap u = \{x \in \omega \mid x \in t\}).\end{array}\]

По доказанному в~упр.~\ref{ex:naturalnum}, $\{x \in \omega \mid x \in t\} = t$, откуда $\inf (u) = \bigcap u$.

\end{exercise}

\begin{exercise}Пусть $u \subseteq \omega$. Докажите, что если наибольший элемент в~$u$ существует, то~он~равен~$\bigcup u$.\end{exercise}

\p Множество натуральных чисел, индукция и~схема аксиом подстановки позволяют доказывать существование множеств, удовлетворяющих некоторым рекурсивным условиям на~свои элементы, чем мы~в~дальнейшем намерены активно пользоваться.

Наметим идею в~общих чертах. Предположим, что даны терм~$x_0$ и~способ, позволяющий из~произвольного терма~$x_n$ однозначным образом получать терм~$x_{n+1}$ (один такой способ нам уже хорошо известен~--- это $x_n\cup \{x_n\}$). Тогда существует единственное множество вида \[\{x_0, x_1,\ldots x_n,\ldots\},\] каждый последующий элемент которого рекурсивно получается из~предыдущего. Формальное определение и~доказательство этого факта устанавливает следующая теорема.

\begin{theorem}[о рекурсии]\label{th:recurs}Пусть даны терм~$x_0$ и~формула~$A$, такая, что $\forall x \exists!y A$. Тогда существует единственное~$f$, такое, что
\begin{enumerate}
 \item $\forall p (p \in f \imp \exists n \exists x (n \in \omega \& (n, x) = p ))$~--- $f$ является множеством пар, первая компонента каждой из~которых~--- натуральное число,
 \item $\forall n (n\in \omega \imp \exists! x_n (n, x_n) \in f)$~--- для каждого натурального числа определён единственный элемент, входящий с~ним в~пару,
 \item $(0, x_0) \in f \& \forall n \forall x ((n, x) \in f \imp \exists ! y (A\& (n+1, y)\in f))$~--- первый элемент последовательности задан явно, а~каждый следующий может быть рекурсивным образом получен из~предыдущего.
\end{enumerate}
\end{theorem}

\beginproof Построим формулу~$F$ со~свободными переменными~$n$ и~$f_n$, выражающую тот факт, что множество~$f_n$ является начальным отрезком рекурсивно построенной последовательности, получающимся после~$n$ шагов рекурсии:

\[\begin{array}{l}
F(n, f_n) \rightleftharpoons \forall p (p \in f_n \imp \exists k \exists x (k\le n \& (k, x) = p)) \& \\
\quad \& \forall k (k \le n \imp \exists! x_k (k, x_k) \in f_n)\&\\
\quad \& (0, x_0) \in f_n \& \forall k \forall x (k \le n \& (k, x) \in f_n \imp\\\quad \quad \imp \exists ! y (A\& (k+1, y)\in f_n)). \end{array}\]

Единственное множество $f_0 = \{(0, x_0)\}$ удовлетворяет этой формуле при~$n = 0$, единственное множество $f_1 = \{(0, x_0), (1, x_1)\}$, где $(x_0\mid x)(x_1\mid y)A$, удовлетворяет этой формуле при~$n = 1$ и~т.~д.

Таким образом, для всякого \emph{заранее заданного} $n$ мы~можем вывести существование и~единственность терма~$f_n$, повторив процесс доказательства нужное количество шагов. Существование бесконечного количества термов~$f_n$ само по~себе не~даёт нам права объединить их~\emph{все} в~одно множество. Однако индукция и~схема аксиом подстановки позволят нам это сделать.

Можно проверить, что условие~$F(n, f_n)$ обладает следующими свойствами: \[\begin{array}{l}\exists!f_0 F(0, f_0),\\\exists!f_n F(n, f_n) \imp \exists! f_{n+1} F(n+1, f_{n+1}),\end{array}\] откуда по~индукции имеем \[\forall n (n \in \omega\imp \exists!f_n F(n, f_n)).\]

Напомним, что схема аксиом подстановки формулируется следующим образом: \[\forall v \exists! u \forall z (z \in u \lequals \exists x (x \in v \& A \& \exists !z A)).\]

Подставив в~качестве~$v$ множество~$\omega$, а~в~качестве~$A$~--- формулу~$F(n, f_n)$, имеем существование терма

\[u = \{ f_n \mid \exists n (n \in \omega \& F(n, f_n))\}.\]

Терм~$\bigcup u$, как нетрудно проверить, удовлетворяет всем трём условиям теоремы.

Докажем единственность. Пусть~$f'$ также удовлетворяет условиям теоремы. Тогда $(0, x_0) \in f'$ и~$({(n, x_n) \in f} \imp {(n, x_n) \in f'}) \imp ({(n +1, x_{n+1}) \in f} \imp {(n+1, x_{n+1}) \in f'})$, откуда $f \subseteq f'$. Если~$f' \neq f$, то~$f'$ может быть только надмножеством~$f$~--- но~последнее невозможно в~силу однозначности~$x_n$, входящего в~пару с~каждым~$n$.\endproof

Использование рекурсии открывает новые возможности для построения операций над термами. Возьмём, например, в~качестве~$x_0$ некоторое~$v$, а~в~качестве формулы~$A$~--- условие $y = x \times v$. Пусть~$f$~--- множество, существование и~единственность которого обеспечивается в~этом случае теоремой~\ref{th:recurs}. Множество $\Pr_2(f) \cup \{\varnothing\}$ называется \emph{звёздочкой Клини}\label{KleeneStar} для~$v$ и~обозначается~$v^*$. Можно сказать, что $v^* = \{\varnothing\} \cup v \cup (v\times v) \cup (v\times v \times v) \cup \ldots $ и~представляет собой множество всех конечных упорядоченных наборов элементов~$v$. Если интерпретировать~$v$ как множество символов какого-либо алфавита (включая пробелы и~знаки препинания), то~$v^*$ есть множество всех возможных строк конечной длины в~этом алфавите. Если имеется язык, использующий~$v$ в~качестве алфавита, то~$v^*$ будет являться надмножеством множества всех мыслимых текстов на~этом языке.

\p С~использованием рекурсии можно ввести операции над натуральными числами. Например, рассмотрим множество, элементы которого определены по~следующему рекурсивному правилу: \[\begin{array}{l}x_0 = \{(x, y, z) \in \omega \times \omega \times \omega \mid x = z \& y =0 \},\\ x_{n+1} = \{(x, y, z) \in \omega \times \omega \times \omega \mid \exists x' \exists y' \exists z' ((x', y', z') \in x_n \& \\ \quad \& x = x' \& y = y' + 1\& z = z' +1)\}.\end{array}\]

Интуитивно понятно, что для каждого~$x_i$, $(x, y, z) \in x_i$ эквивалентно условию~$x + y = z$~--- но~в~нашей формальной системе ещё не~определена операция сложения натуральных чисел. Рассмотрим множество $s = \bigcup \{x_1, x_2, \ldots x_n, \ldots\}$ и~будем говорить, что \[x + y = z \rightleftharpoons (x, y, z) \in s.\]

Далее рассмотрим множество, элементы которого удовлетворяют условиям \[\begin{array}{l}x_0 = \{(x, y, z) \in \omega \times \omega \times \omega \mid y=0\& z =0 \},\\ x_{n+1} = \{(x, y, z) \in \omega \times \omega \times \omega \mid \exists x' \exists y' \exists z' ((x', y', z') \in x_n \& \\ \quad \& x = x' \& y = y' + 1\& z = z' + x')\}.\end{array}\]

Пусть $p = \bigcup \{x_1, x_2, \ldots x_n, \ldots\}$. Ясно, что $xy = z \rightleftharpoons (x, y, z) \in p$.

Аналогичным образом можно получить и~другие операции над натуральными числами~--- например, возведение в~степень.

\begin{exercise}Постройте множество~$f$, такое, что $(x, y)\in f$ равносильно~$x! = y$. \end{exercise}

Только что полученные нами термы~$s$, $p$ удовлетворяют по~построению аксиомам
	\[\begin{array}{l}x + 0 = x,\\x + (y + 1) = (x + y) + 1,\\ x0 = 0,\\ x (y +1) = xy + x.\end{array}
\]

Система из~этих четырёх аксиом вкупе с~аксиомами Пеано для натурального ряда, перечисленными в~теореме~\ref{th:Peano}, называется системой аксиом \emph{формальной арифметики}.

\p Как будет показано далее, натуральные числа и множество~$\omega$ являются представителями класса множеств, именуемых \emph{ординалами}. Теоремами~\ref{th:transind} и~\ref{th:transrec} о~трансфинитной индукции и~трансфинитной рекурсии математическая индукция и~обычная рекурсия будут обобщены для произвольных представителей этого класса.


\endinput
\p Система аксиом Ar сама по~себе играет важную роль в~математической логике и~основаниях математики. Оказывается, основываясь на~константе~$0$, операции прибавления единицы и~предикатов~$s$, $p$, $=$

\p Можно показать, что построенные нами операции сложения и~умножения отвечают аксиомам формальной арифметики:

\p Операции над натуральными числами, которые можно построить, исходя из~рекурсии, терма 0 и~операции прибавления единицы, называются \emph{$\mu$-рекурсивными функциями} и~исследуются в~теории алгоритмов и~вычислимых функций. Вопросы этих теорий выходят за~рамки настоящего руководства, но~один из~результатов должен быть упомянут в~силу важности для понимания ограничений формальных систем вообще и~аксиоматической теории множеств в~частности.

\texttt{Теорема Гёделя о~неполноте и~её следствия}

\begin{follow}Непротиворечивость теории ZF не~может быть доказана средствами этой теории.\end{follow}
\beginproof \endproof

Не составляет труда установить (путём предъявления модели) непротиворечивость системы аксиом ZFC с~\emph{отрицанием} аксиомы бесконечности. В~самом деле: в~такой системе возможны только построенные из~пустого множества с~помощью операций образования неупорядоченных~$n$-ок множества с~конечным числом элементов. Эти множества могут соответствовать, например, строкам простого формального языка над алфавитом из~трёх символов: $\{$, $\}$ и~символа запятой (тогда терм $\varnothing$ будет соответствовать строке~$\{\}$, терм~$1$~-- строке~$\{\{\}\}$, 2 -- строке $\{\{\}, \{\{\}\}\}$ и~т.~д.). Предикат~<<$\in$>> вводится естественным образом ($a \in b$, если среди перечисленных через запятую в~строке, соответствующей~$b$ множеств имеется множество, соответствующее~$a$, причём порядок перечисления не~играет роли). Можно проверить, что данная модель удовлетворяет всем аксиомам ZFC, кроме одной: в~силу конечности изображающих множества строк в~этой модели отсутствуют прогрессивные множества. Итак, система аксиом ZFC \emph{с отрицанием} аксиомы бесконечности непротиворечива, но~и~неинтересна: в~ней нельзя получить терм~$\omega$ и~другие бесконечные термы, её нельзя использовать в~качестве основания математики, как это сейчас имеет место для системы ZFC. <<Платой>> за~аксиому бесконечности является невыводимость непротиворечивости ZFC средствами самой ZFC, а~также неизбежная неполнота ZFC в~случае её непротиворечивости. Всё, что нам остаётся на~сегодняшний день~--- это убеждённость в~том, что если противоречие не~было найдено за~десятилетия скрупулёзного изучения, то~оно не~будет и~найдено в~будущем. Следствием непротиворечивости ZFC должно быть и~существование модели этой теории, но~наше представление об~этой модели по~необходимости может носить разве что философский характер.