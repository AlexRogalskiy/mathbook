\section[Определение и~примеры]{Определение и~примеры}

\p Чтобы заранее представлять себе назначение всех составляющих вводимого ниже понятия <<род структуры>>, рассмотрим предварительные примеры.

Из \S\,\ref{sec:setpower} известно, что для того, чтобы задать \emph{отображение} из~одного множества в~другое, необходимо располагать множествами~$x$, $y$ и~$f$, такими, что $f \subseteq x \times y$ (или, что то~же, $f \in \parts (x\times y)$), а~также

$\forall u \in x, \exists v \in y ((u, v) \in f),$

$\forall t_1\in f, \forall t_2 \in f (\pr_1(t_1) = \pr_1(t_2) \imp t_1 = t_2).$

При этом не~важен характер множеств~$x$ и~$y$. Например, это могут быть некоторые числовые множества. Может быть и~так, что одно из~них или оба сами являются отображениями (напомним, что отображение из~множества функций в~множество функций называется \emph{оператором}, отображение множества функций в~множество действительных чисел~--- \emph{функционалом}). При этом некоторые общие для всех отображений понятия (такие, например, как \emph{область значений} $f[x]$) и~некоторые свойства (например, $f[a]\setminus f[b] \subseteq f[a\setminus b]$) будут сохраняться вне зависимости от~характера множеств~$x$ и~$y$.

Из \S\,\ref{sec:order} известно, что для того, чтобы задать \emph{частичный порядок} на~множестве~$x$, необходимо задать множество $r \in \parts (x \times x)$ такое, что выполняются условия транзитивности, антисимметричности и~рефлексивности:

$\forall a \in x, \forall b \in x, \forall c \in x ((a, b) \in r \& (b, c)\in r \imp (a, c) \in r)$,

$\forall a \in x, \forall b \in x ((a, b) \in r \& (b, a) \in r \imp a = b )$,

$\forall a \in x (a, a) \in r$.

Наконец, чтобы задать \emph{группу} на~множестве~$x$, необходимо задаться отображением из~$x \times x$ в~$x$, таким, что выполняются условия ассоциативности, существования левого нейтрального и~левого обратного элемента. В~формальной записи,

$g \in \parts ((x\times x)\times x),$

$\forall u \in x\times x, \exists v \in x ((u, v) \in g),$

$\forall t_1\in g, \forall t_2 \in g (\pr_1(t_1) = \pr_1(t_2) \imp t_1 = t_2), $

$\forall a \in x, \forall b \in x, \forall c \in x ((a \cdot b) \cdot c = a \cdot (b \cdot c)), $

$\exists e \in x, \forall a \in x (e\cdot a = a),$

$\forall a \in x, \exists a' \in x, \forall b ( (a'\cdot a) \cdot b = b).$

Здесь~$a\cdot b$ всюду обозначает терм $\bigcup \{u \in x \mid ((a, b), u) \in g\}$.

Можно доказать, что вне зависимости от~того, что представляет из~себя множество~$x$, в~группе существует единственный \emph{нейтральный элемент}~--- терм~$1$, такой, что $a\cdot 1= 1\cdot a = a$; кроме того, для всякого~$a$ существует единственный \emph{обратный элемент} $a^{-1}$, такой, что $a \cdot a^{-1} = a^{-1} \cdot a = 1$, и~т.~д.

Во всех рассмотренных случаях для построения математического объекта мы~использовали одно или несколько исходных (базисных) множеств (в~примерах~--- $x$ и~$y$), на~которых при помощи соотношения типизации вводились \emph{отношения} (в~примерах~--- $f$, $r$ и~$g$), и~на~эти отношения затем накладывались необходимые требования в~виде логических условий, зависящих от~базисных множеств и~отношений. Заметим также, что во~всех случаях нам не~составило труда записать эти требования в~виде биективно переносимых формул.

\p Пусть зафиксирована некоторая теория множеств~$\mathcal T$. \emph{Род структуры} (\cite{Bourbaki1}, \cite{Pavlovsk98}) представляет собой текст из~следующих составляющих (конституэнт):

\begin{enumerate}
	\item переменных $x_1, \ldots x_n$, называемых \emph{основными базисными множествами};
	\item термов $\theta_1, \ldots \theta_m$ теории~$\mathcal T$, называемых \emph{вспомогательными базисными множествами};
 \item формулы~$T$ вида $d \in S[x_1, \ldots x_n, \theta_1, \ldots \theta_m]$ (где $S[x_1, \ldots x_n, \theta_1, \ldots \theta_m]$~--- ступень над~$n + m$ множествами), являющейся соотношением типизации и~называемой \emph{т\'иповой характеристикой рода структуры}, буква~$d$ при этом называется \emph{родовой константой};
 \item формулы~$R$, биективно переносимой при типизации~$T$, называемой \emph{аксиомой рода структуры}.
\end{enumerate}

Если т\'иповая характеристика имеет вид $d \in S_1[\ldots] \times \ldots \times S_k[\ldots]$, то~мы~можем эквивалентным образом говорить не~об~одной, а~о~$k$ родовых константах $d_1, \ldots d_k$, таких, что ${d_1 \in S_1[\ldots]}$,\ldots ${d_k \in S_k[\ldots]}$, полагая $d = (d_1, \ldots d_k)$ и~используя буквы~$d_k$ в~аксиоме~$R$ вместо соответствующих проекций~$d$, что бывает удобнее в~плане экономии места.

Если аксиома~$R$ рода структуры имеет вид $R_1 \& \ldots \& R_l$, где каждая~$R_i$~--- биективно переносимая формула, то~мы~можем эквивалентным образом говорить не~об~одной, а~об~$l$ аксиомах~$R_1$,\ldots $R_l$.

\p Пусть даны некоторый род структуры~$\Sigma$ (в~теории~$\mathcal T$, с~типовой характеристикой~$T$ и~аксиомой~$R$) и~теория $\mathcal T'$, более сильная, чем~$\mathcal T$. Тогда терм теории $\mathcal T'$ вида $(\xi_1,\ldots \xi_n, \delta)$ называется \emph{$\Sigma$-объектом\footnote{\,Термин Ю.",Н.~Павловского~\cite{Pavlovsk98, Pavlovsk03}.}} (или \emph{теоретико-множественной интерпретацией} $\Sigma$), если \[\mathcal T' \vdash (\xi_1\mid x_1)\ldots (\xi_n\mid x_n)(\delta \mid d) (T\&R).\]

Иначе говоря, упорядоченный набор термов теории $\mathcal T'$ называется~$\Sigma$-объектом, если подстановка этих термов на~место соответствующих базисных множеств и~родовой константы в~типизирующую формулу и~аксиому рода структуры приводит к~выводимости этих формул в~теории $\mathcal T'$. При этом про каждое из~множеств~$\xi_i$, $\delta$, входящих в~$\Sigma$-объект, мы~будем говорить, что они \emph{интерпретируют} соответствующие буквы~$x_i$, $d$ рода структуры~$\Sigma$. Разумеется, вспомогательные базисные множества в~интерпретации не~нуждаются: являясь по~определению термами~$\mathcal T$, они останутся таковыми и~в~$\mathcal T'$.

Иногда бывает удобно говорить о~классе (понятие класса, напоминаем, было введено на~с.~\pageref{def:class}) всех~$\Sigma$-объектов в~теории $\mathcal T'$: \[\mathcal K_\Sigma = \{(\vect xn, d)\mid T\&R\}.\]

Т. к. соотношение~$T\&R$ не~обязательно является коллективизирующим в~$\mathcal T'$ по~$\vect xn, d$ (а~чаще всего именно так и~есть), то~класс $\mathcal K_\Sigma$ может и~не~являться множеством. Если $\sigma = (\xi_1,\ldots \xi_n, \delta)$, то~условия $\sigma \in K_\Sigma$, <<$\sigma$ есть~$\Sigma$-объект>>, <<$\sigma$ есть теоретико-множественная интерпретация~$\Sigma$>> эквивалентны.

\p Если $\mathcal T \vdash T\&R \imp B$, то~$B$ называется \emph{теоремой~$\Sigma$}.

\begin{theorem}
Пусть~$(\xi_1,\ldots \xi_n, \delta)$~--- $\Sigma$-объект в~$\mathcal T'$. Если формула~$B$~--- теорема~$\Sigma$, то~\[\mathcal T' \vdash (\xi_1\mid x_1)\ldots (\xi_n\mid x_n)(\delta \mid d)B.\]
\end{theorem}

\beginproof Т.~к. $\mathcal T'$ сильнее~$\mathcal T$, то~$T\&R \imp B$ выводится также в~$\mathcal T'$. По~правилу обобщения, $\mathcal T' \vdash \forall x_1 \ldots \forall x_n\forall d (T\&R \imp B) $. По~$\forall$-схеме, $\mathcal T' \vdash (\xi_1\mid x_1)\ldots (\xi_n\mid x_n)(\delta \mid d) (T\&R \imp B) $. Но~т.~к. $(\xi_1, \ldots \xi_n, \delta)$~--- $\Sigma$-объект, левая часть импликации выводится в~$\mathcal T'$ и~по~modus ponens имеем $(\xi_1\mid x_1)\ldots (\xi_n\mid x_n)(\delta \mid d)B,$ что и~требовалось.\endproof

Таким образом, роды структур позволяют давать доказательства некоторым общим, родоструктурным теоремам, справедливым для любых представителей класса~$\Sigma$-объектов, причём делать это средствами теории более слабой, чем та, которая требуется для построения~$\Sigma$-объектов.

Будем называть род структуры \emph{противоречивым}, если имеется такая формула~$C$, что $\mathcal T \vdash T\&R \imp C$ и~$\mathcal T \vdash T\&R \imp \neg C$. В~этом и~только этом случае $\mathcal T \vdash \neg (T\&R)$ (в~силу схемы reductio ad absurdum), а~также $\mathcal T \vdash T\&R \imp A$, где~$A$~--- произвольная формула.

В самом деле: $\mathcal T \vdash \neg (T\&R) \imp (\neg A \imp \neg (T\&R))$~--- по~первой схеме исчисления высказываний, $\mathcal T \vdash \neg A \imp \neg (T\&R)$~--- modus ponens, $\mathcal T \vdash T\&R \imp A$~--- закон контрапозиции.

\begin{theorem}
Пусть~$\Sigma$~--- род структуры, $\mathcal K_\Sigma$~--- класс всех~$\Sigma$-объектов в~$\mathcal T'$. $\mathcal K_\Sigma = \varnothing$ тогда и~только тогда, когда~$\Sigma$ противоречив.
\end{theorem}

\beginproof В~одну сторону. Пусть~$\Sigma$ противоречив. Как мы только что выяснили, это означает $\mathcal T \vdash \neg (T\&R)$, или, по правилу обобщения, $\mathcal T \vdash \forall x_1 \ldots \forall x_n \forall d \neg (T \& R)$. 

Т.~к. всякое утверждение, выводимое в~$\mathcal T$, выводимо и~в~более сильной теории $\mathcal T'$, имеем $\mathcal T' \vdash \neg \exists x_1 \ldots \exists x_n \exists d (T \& R),$ из чего и~следует, что класс $\mathcal K_\Sigma$ не может содержать элементов.

В обратную сторону: пусть $\mathcal K_\Sigma = \varnothing$, т.~е. $\mathcal T' \vdash \forall x_1 \ldots \forall x_n \forall d \neg (T \& R)$, т.~е.~$\mathcal T' \vdash \neg (T\&R)$. Если при этом предположить, что $\Sigma$~непротиворечив, т.~е.~$\mathcal T \vdash (T\&R)$ и $\mathcal T' \vdash (T\&R)$, то получится, что из теории $\mathcal T'$ следуют взаимоисключающие утверждения. Однако мы полагаем теорию $\mathcal T'$ непротиворечивой, и,~следовательно, противоречивым должен быть~$\Sigma$.\endproof

Таким образом, все противоречивые роды структур эквивалентны между собой (класс их~теоретико-множественных интерпретаций пуст, в~их~теориях доказуемо всё, что угодно) и~не~представляют ни~теоретического, ни~прикладного интереса.

\p \emph{Изоморфизмом} $\Sigma$-объекта $(\vect \xi n, \delta)$ в~$\Sigma$-объект $(\xi'_1,\ldots \xi'_n, \delta')$ называется терм $(\vect \varphi n)$ теории $\mathcal T'$, такой, что \[\begin{array}{l}\mathcal T' \vdash \varphi_1: \xi_1 \leftrightarrow \xi'_1 \&\ldots \& \varphi_n: \xi_n \leftrightarrow \xi'_n \& \\ \quad \quad \quad \& \langle \vect \varphi n, \id_{\theta_1},\ldots \id_{\theta_n}\rangle^S(\delta) = \delta'.\end{array}\]

Для каждого~$\Sigma$-объекта $\sigma = (\vect \xi n, \delta)$ и~набора биекций $(\vect \varphi n)$ существует единственный~$\Sigma$-объект $\sigma' = (\xi'_1,\ldots \xi'_n, \delta')$, такой, что $(\vect \varphi n)$ есть изоморфизм~$\sigma$ в~$\sigma'$. Действительно, по~определению $\sigma'$ не~может не~совпадать с~термом \[(\varphi_1[\xi_1],\ldots \varphi_n[\xi_n], \langle \vect \varphi n, \id_{\theta_1},\ldots \id_{\theta_n} \rangle^S(\delta)).\] Но~этот терм обязан быть~$\Sigma$-объектом, т.~к. является результатом биективного переноса множества~$\delta$ с~помощью биекций $\vect \varphi n$, а~аксиома~$R$ любого рода структуры биективно переносима по~определению рода структуры.

Следствием теоремы~\ref{th:extentions} и~общих свойств отображений являются следующие свойства изоморфизмов:
\begin{enumerate}
	\item если $\tilde \varphi = (\vect \varphi n)$ и~$\tilde \varphi' = (\varphi'_1,\ldots \varphi'_n)$ есть изоморфизмы соответственно $\sigma$ в~$\sigma'$ и~$\sigma'$ в~$\sigma''$, то~$\tilde \varphi' \circ \tilde \varphi = (\varphi'_1 \circ \varphi_1,\ldots \varphi'_n \circ \varphi_n)$ есть изоморфизм~$\sigma$ в~$\sigma''$;
	\item $\varphi'' \circ (\varphi' \circ \varphi) = (\varphi'' \circ \varphi') \circ \varphi$;
	\item терм $\Delta = (\id_{x_1},\ldots \id_{x_n})$ является тождественным изоморфизмом любого объекта~$\sigma$ в~самого себя и~обладает свойством $\tilde \varphi \circ \Delta = \Delta \circ \tilde \varphi = \tilde \varphi$;
	\item для каждого изоморфизма $\tilde \varphi$ объекта~$\sigma$ в~$\sigma'$ имеется обратный ему изоморфизм $\tilde \varphi^{-1}$ объекта~$\sigma'$ в~$\sigma$, равный $(\varphi^{-1}_1,\ldots \varphi^{-1}_n)$ и~обладающий свойством $\tilde \varphi \circ \tilde \varphi^{-1} = \tilde \varphi^{-1} \circ \tilde \varphi = \Delta$.
\end{enumerate}

Изоморфизм называется \emph{автоморфизмом}, если переводит множества $\vect \xi n$ в~себя. Суперпозиция автоморфизмов является автоморфизмом, то~же~верно для изоморфизма, обратного автоморфизму. Таким образом, множество автоморфизмов множеств $\vect \xi n$ удовлетворяет аксиомам группы относительно операции суперпозиции.

\vskip 6pt
\newcounter{StdAx}
%1-й аргумент~--- метка, 2-й аргумент~--- выражение, 3-й аргумент~--- название.
\def\Ax#1#2#3{\refstepcounter{StdAx}\label{ax:#1}$R_{\mbox{\footnotesize \arabic{StdAx}}}$: $#2$~--- \emph{#3}}
\def\Axref#1{$R_{\mbox{\footnotesize\ref{ax:#1}}}$}

Далее в~качестве примеров рассматриваются некоторые стандартные роды структур.

\p Родами структур \emph{бинарных отношений} в~общем случае называются роды структур, у~которых фигурирующая в~типовой характеристике схема~$S$ имеет вид $\parts(S_1 \times S_2)$. Родами структур \emph{бинарных отношений на~двух множествах} называются роды структур с~двумя базисными множествами~$x_1$ и~$x_2$ и~типовой характеристикой $d \in \parts(x_1 \times x_2)$. Примерами биективно переносимых соотношений при такой типизации являются следующие:

\Ax{map1}{\forall u \in x_1, \exists v \in x_2 ((u, v) \in d)}{всюдуопределённость,}

\Ax{map2}{\forall t_1\in d, \forall t_2 \in d (\pr_1(t_1) = \pr_1(t_2) \imp t_1 = t_2)}{прямая однозначность,}

\Ax{map3}{\forall v \in x_2, \exists u \in x_1 ((u, v) \in d)}{всюдузначность,}

\Ax{map4}{\forall t_1\in d, \forall t_2 \in d (\pr_2(t_1) = \pr_2(t_2) \imp t_1 = t_2)}{обратная однозначность.}

Бинарное отношение называется родом структуры \emph{функции} (или \emph{отображения}), если содержит аксиомы \Axref{map1}, \Axref{map2}; \emph{сюръекции}, если содержит \Axref{map1}, \Axref{map2}, \Axref{map3}; \emph{инъекции}, если содержит \Axref{map1}, \Axref{map2}, \Axref{map4}; \emph{биекции}, если содержит \Axref{map1}, \Axref{map2}, \Axref{map3}, \Axref{map4}.

Функцией (сюръекцией, инъекцией, биекцией) принято называть как теоретико-множественную интерпретацию $(\xi_1, \xi_2, \psi)$ рода структуры функции (сюръекции, инъекции, биекции), так и~просто терм~$\psi$. Изоморфизм функции~$\psi$ в~функцию~$\psi'$ есть пара биекций $\varphi_1: \xi_1 \leftrightarrow \xi'_1$, $\varphi_2: \xi_2 \leftrightarrow \xi'_2$, таких, что $\psi' = \varphi_1 \hat \times \varphi_2 [\psi]$, что эквивалентно условию $\forall t \in \xi_1 (\psi'(\varphi_1(t)) = \varphi_2(\psi(t)))$ или $\psi'\circ \varphi_1 = \varphi_2 \circ \psi$. Наглядное представление о~последнем утверждении помогает составить следующая диаграмма: \[\xymatrix {\xi_1\ar@{->}[d]^{\varphi_1}\ar@{->}[r]^{\psi} & \xi_2\ar@{->}[d]^{\varphi_2} \\\xi'_1\ar@{->}[r]^{\psi'} & \xi'_2}\]

\p Родами структур \emph{бинарных отношений на~одном множестве} называются роды структур с~одним базисным множеством~$x$ и~типовой характеристикой $d \in \parts(x \times x)$. Соотношения \Axref{map1}--\Axref{map4} остаются применимыми в~качестве аксиом и~для этих родов структур, кроме того, в~качестве аксиом могут быть использованы следующие соотношения:

\Ax{trans}{\forall a \in x, \forall b \in x, \forall c \in x ((a, b) \in d \& (b, c)\in d \imp (a, c) \in d)}{транзитивность,}

\Ax{sym}{\forall a \in x, \forall b \in x ((a, b) \in d \imp (b, a) \in d)}{симметричность,}

\Ax{asym}{\forall a \in x, \forall b \in x ((a, b) \in d \& (b, a) \in d \imp a = b )}{антисимметричность,}

\Ax{ref}{\forall a \in x (a, a) \in d}{рефлексивность,}

\Ax{aref}{\forall a\in x (a, a) \notin d}{антирефлексивность,}

\Ax{full}{\forall a \in x, \forall b \in x (a \neq b \imp (a, b) \in d \vee (b,a) \in d)}{линейность,}

\Ax{fund}{\forall u \subseteq x (u \neq \varnothing \imp \exists m \in u, \forall b \in u ( (m, b) \notin d))}{фундированность,}

\Ax{infp}{\forall a \in x, \forall b \in x, \exists u \in x ((u, a) \in d \& (u, b) \in d \& \forall v \in x ((v, a) \in d \& (v, b) \in d \imp (v,u)\in d))}{существование наибольшей нижней грани (infimum) у~каждого двухэлементного множества,}

\Ax{supp}{\forall a \in x, \forall b \in x, \exists u \in x ((a, u) \in d \& (b, u) \in d \& \forall v \in x ((a, v) \in d \& (b, v) \in d \imp (u,v)\in d))}{существование наименьшей верхней грани (supremum) у~каждого двухэлементного множества.}

Род структуры бинарного отношения называется родом структуры \emph{эквивалентности}, если содержит \Axref{trans}, \Axref{sym}, \Axref{ref}.

Род структуры бинарного отношения называется родом структуры \emph{предпорядка}, если содержит \Axref{trans}, \Axref{ref}; \emph{(частичного) (нестрогого) порядка}, если содержит \Axref{trans}, \Axref{asym}, \Axref{ref}; \emph{(частичного) строгого порядка}, если содержит \Axref{trans}, \Axref{asym}, \Axref{aref}. Добавление к~роду структуры строгого или нестрогого частичного порядка аксиомы \Axref{full} порождает род структуры \emph{линейного} (строгого или нестрогого) порядка.

Род структуры бинарного отношения называется родом структуры \emph{вполне упорядоченного множества}, если содержит \Axref{trans}, \Axref{asym}, \Axref{ref}, \Axref{full}, \Axref{fund}; \emph{решётки}, если содержит \Axref{trans}, \Axref{asym}, \Axref{ref}, \Axref{infp}, \Axref{supp}.
	
Примеры интерпретаций родов структур порядков	и их~изоморфизмов были рассмотрены в~\S\,\ref{sec:order}.

Вот некоторые примеры интерпретаций рода структуры решётки:
\begin{itemize}
	\item Всякое линейно нестрого упорядоченное множество. В~этом случае для любой пары элементов~$a$, $b$ либо~$a \le b$, либо~$b \le a$, и, например, если~$a\le b$, то~$\sup\{a, b\} = b$ и~$\inf \{a, b\} = a$.
	\item Множество всех подмножеств некоторого множества, частично упорядоченное по~включению: при этом $\sup \{a, b\} = a \cup b$, $\inf \{a, b\} = a \cap b$.
	\item Множество натуральных чисел с~частичным порядком, при котором~$a \le b$ значит <<$a$ делит~$b$>>. Тогда $\sup \{a, b\}$ есть наименьшее общее кратное, а~$\inf \{a, b\}$ есть наибольший общий делитель~$a$ и~$b$.
	\item Множество всех действительных функций на~отрезке~$[0, 1]$, частично упорядоченное условием <<$f \le g$, если и~только если $\forall t \in [0, 1] (f(t) \le g(t))$>>. Здесь $\sup \{a, b\}$ есть функция, в~каждой точке~$t$ принимающая значение, равное большему из~значений~$f(t)$, $g(t)$; аналогично определяется $\inf \{a, b\}$.
	\end{itemize}
	
\p Родами структур \emph{тернарных отношений} называются роды структур, у~которых фигурирующая в~типовой характеристике схема~$S$ имеет вид $\parts((S_1 \times S_2) \times S_3)$ (или сокращённо $\parts(S_1 \times S_2 \times S_3)$).

Ниже мы~будем рассматривать примеры родов структур тернарных отношений на~одном множестве, типовая характеристика которых есть $d \in \parts((x \times x) \times x)$, причём род структуры включает в~себя аксиомы \Axref{map1}, \Axref{map2} для~$d$, $x\times x$ и~$x$ (т.~е. $d$ является отображением из~$x\times x$ в~$x$). Введём, кроме того, сокращающее обозначение $a\cdot b \rightleftharpoons \bigcup \{u \in x \mid ((a, b), u) \in d\}$. В~силу принятых аксиом, для каждой пары~$(a, b)$ существует один и~только один~$u$ такой, что $((a, b), u) \in d$, поэтому множество $\{u \in x \mid ((a, b), u) \in d\}$ состоит всего из~одного элемента, и в~силу теоремы~\ref{th:debool} терм~$a\cdot b$, равный этому самому элементу, биективно переносим. Роды структур, обладающие указанными свойствами, называются \emph{группоидами}.

Изоморфизмом объекта-группоида $\{\xi, \delta\}$ в~$\{\xi', \delta'\}$ является такая биекция $\varphi: \xi \leftrightarrow \xi'$, что в~наших обозначениях $\varphi (a \cdot b) = \varphi (a) \cdot \varphi (b)$.

В качестве аксиом для тернарных отношений с~указанными свойствами могут быть использованы следующие:

\Ax{assoc}{\forall a \in x, \forall b \in x, \forall c \in x ((a \cdot b) \cdot c = a \cdot (b \cdot c))}{ассоциативность,}

\Ax{leftn}{\exists e \in x, \forall a \in x (e\cdot a = a)}{существование левого нейтрального элемента,}

\Ax{lefti}{\forall a \in x, \exists a' \in x, \forall b ( (a'\cdot a) \cdot b = b)}{существование левого обратного элемента,}

\Ax{comm}{\forall a \in x, \forall b \in x (a\cdot b = b \cdot a)}{коммутативность.}

%\Ax{idem}{\forall a \in x (a\cdot a = a)}{идемпотентность.}

Род структуры тернарного отношения называется родом структуры \emph{полугруппы}, если содержит \Axref{map1}, \Axref{map2}, \Axref{assoc}; \emph{моноида}, если содержит \Axref{map1}, \Axref{map2}, \Axref{assoc}, \Axref{leftn}; \emph{группы}, если содержит \Axref{map1}, \Axref{map2}, \Axref{assoc}, \Axref{leftn}, \Axref{lefti}; \emph{коммутативной}, или \emph{абелевой, группы}, если содержит \Axref{map1}, \Axref{map2}, \Axref{assoc}, \Axref{leftn}, \Axref{lefti}, \Axref{comm}. Из~определений следует, что любая интерпретация рода структуры абелевой группы является также интерпретацией рода структуры группы, любая интерпретация рода структуры группы является интерпретацией рода структуры моноида, любая интерпретация рода структуры моноида является интерпретацией рода структуры полугруппы.

Род структуры группы имеет множество интерпретаций, значимых не~только в~математике, но~и~в~прикладных областях~--- механике, кристаллографии, криптографии и~т.~д. Рассмотрим лишь некоторые примеры.

\begin{itemize}
	\item Множества~$\mathbb Z$, $\mathbb Q$, $\mathbb R$, $\mathbb C$, $\mathbb K$ целых, рациональных, действительных, комплексных чисел и~кватернионов с~операцией сложения образуют абелевы группы с~нейтральным элементом~$0$ и~обратным для~$a$ элементом~$-a$. Эти же~множества с~операцией умножения образуют моноиды (нейтральный элемент~--- единица), но~не~группы, т.~к. у~нуля не~существует обратного элемента по~умножению. Множества $\mathbb Q \setminus \{0\}$, $\mathbb R \setminus \{0\}$, $\mathbb C \setminus \{0\}$ с~операцией умножения образуют абелевы группы с~нейтральным элементом~$1$ и~обратным элементом~$1/a$, множество $\mathbb K \setminus \{0\}$ образует группу, не~являющуюся абелевой, т.~к. умножение кватернионов некоммутативно.
 \item Множество обратимых матриц размерности~$n \times n$ образует группу относительно умножения (нейтральный элемент~--- единичная матрица, обратный элемент~--- обратная матрица).
	\item Множество $\{0, 1,\ldots n - 1\}$ натуральных чисел, меньших~$n$, с~операцией сложения по~модулю~$n$ образует абелеву группу с~нейтральным элементом~$0$ и~обратным элементом~$n - a$. Это же~множество с~операцией умножения по~модулю~$n$ образует моноид (нейтральный элемент~--- единица), но~не~группу, т.~к. по~крайней мере у~нуля не~существует обратного элемента. Множество $\mathbb Z^*_n$ натуральных чисел, меньших~$n$ и~\emph{взаимно простых с~$n$}, с~операцией умножения по~модулю~$n$ образует абелеву группу с~нейтральным элементом 1 и~существующим для любого $a \in \mathbb Z^*_n$ обратным элементом~$a'$, таким, что $a'a\ \mathrm{mod}\ n = 1$. (Доказательство последнего утверждения, хотя в~целом и~несложное, требует некоторого углубления в~модулярную арифметику.)	
	\item Пусть~$x$~--- произвольное множество. Множество всех биекций из~$x$ в~$x$ с~операцией суперпозиции образует группу (нейтральный элемент~--- тождественное отображение~$\id_x$, обратный элемент~--- обратная функция). Множество~$x^x$ всех отображений из~$x$ в~$x$ с~операцией суперпозиции образует моноид (нейтральный элемент~--- $\id_x$).
	\item Пусть~$u$~--- множество множеств, такое, что $\forall a \in u, \forall b \in u (a \bigtriangleup b \in u)$ (в~частности, этому условию удовлетворяют множества~$\parts(x)$ и~$\{\varnothing, x\}$ для произвольного~$x$). Множество~$u$ с~операцией $\bigtriangleup$ образует абелеву группу с~нейтральным элементом~$\varnothing$, обратным элементом к~любому~$a$ в~этой группе является само~$a$ (т.~к. $a \bigtriangleup a = \varnothing$).
\end{itemize}

\p \emph{Комплексными} будем называть роды структур, у~которых фигурирующая в~типовой характеристике схема~$S$ имеет вид $S_1 \times \ldots \times S_n$ при~$n \ge 2$, что позволяет эквивалентным образом говорить об~$n$ родовых константах.

Рассмотрим роды структур с~типовой характеристикой $d \in \parts ((x \times x)\times x) \times \parts ((x \times x)\times x)$, что позволяет эквивалентным образом говорить о~двух родовых константах $d_1\in \parts ((x \times x)\times x)$ и~$d_2\in \parts ((x \times x)\times x)$. Пусть эти роды структур включают в~себя аксиомы \Axref{map1} и~\Axref{map2} для обеих констант~$d_1$ и~$d_2$ (т.~е. $d_1$ и~$d_2$ являются отображениями из~$x\times x$ в~$x$). Введём, кроме того, сокращающие обозначения $a + b \rightleftharpoons \bigcup \{u \in x \mid ((a, b), u) \in d_1\}$, $a \cdot b \rightleftharpoons \bigcup \{u \in x \mid ((a, b), u) \in d_2\}$ (знак~$+$ для~$d_1$, знак~$\cdot$ для~$d_2$). Эти термы будут биективно переносимы по~той же~причине, что и~терм~$a \cdot b$ для рода структуры полугруппы. Примем, кроме того, традиционное соглашение о~том, что операция~$\cdot$ имеет более высокий приоритет, чем операции~$+$, т.~е. выражение $a + b\cdot c$ следует читать как $a + (b\cdot c)$.

В качестве аксиом могут быть использованы следующие:

\Ax{leftdistr}{\forall a\in x, \forall b \in x, \forall c \in x ( a\cdot (b +c) = a\cdot b + a\cdot c)}{дистрибутивность сложения слева,}

\Ax{rightdistr}{\forall a\in x, \forall b \in x, \forall c \in x ( (a +b )\cdot c = a\cdot c + b\cdot c)}{дистрибутивность сложения справа,}

\Ax{leftdistrdot}{\forall a\in x, \forall b \in x, \forall c \in x ( a+ b \cdot c = (a+ b) \cdot (a +c))}{дистрибутивность умножения слева,}

\Ax{rightdistrdot}{\forall a\in x, \forall b \in x, \forall c \in x ( a \cdot b + c = (a + c) \cdot (b + c))}{дистрибутивность умножения справа,}

\Ax{absorb1}{\forall a \in x, \forall b \in x (a \cdot (a + b) = a)}{первый закон поглощения,}

\Ax{absorb2}{\forall a \in x, \forall b \in x (a + a \cdot b = a )}{второй закон поглощения.}

Комплексный род структуры с~двумя тернарными отношениями называется \emph{полукольцом}, если содержит аксиомы моноида и~коммутативности для~$d_1$ (сложения), полугруппы для~$d_2$ (умножения), а~также аксиомы дистрибутивности через сложение \Axref{leftdistr}, \Axref{rightdistr}.

Комплексный род структуры с~двумя тернарными отношениями называется \emph{кольцом}, если содержит аксиомы абелевой группы для~$d_1$ (сложения), полугруппы для~$d_2$ (умножения), а~также аксиомы дистрибутивности через сложение \Axref{leftdistr}, \Axref{rightdistr}.

Пусть дан род структуры кольца. Обозначим символом~$0$ терм, выражающий в~этом роде структуры нейтральный элемент операции сложения. Кольцо называется \emph{телом}, если элементы множества $x \setminus \{0\}$ образуют группу на~$d_2$ (группу умножения). Тело называют \emph{полем}, если данная группа является абелевой.

Рассмотрим некоторые интерпретации этих родов структур.

\begin{itemize}
	\item Множества~$\mathbb Q$, $\mathbb R$, $\mathbb C$ рациональных, действительных и~комплексных чисел с~операциями сложения и~умножения образуют поля. Множество вида $\{0, 1,\ldots p-1\}$, где~$p$~--- простое число, с~операциями сложения и~умножения по~модулю~$p$, образует поле.
	\item Множество~$\mathbb K$ кватернионов с~операциями сложения и~умножения образует тело, не~являющееся полем, т.~к. умножение кватернионов не~коммутативно.
 \item Множество~$\mathbb Z$ целых чисел с~операциями сложения и~умножения образует кольцо. Множество вида $\{0, 1,\ldots n - 1\}$ натуральных чисел, меньших~$n$, с~операциями сложения и~умножения по~модулю~$n$, в~общем случае образует кольцо.
 \item Множество~$u$, такое, что $\forall a \in u, \forall b \in u (a \bigtriangleup b \in u \& a\cap b \in u) \& \exists e \in u, \forall a \in u (a \subseteq e)$ с~операцией $\bigtriangleup$, трактуемой как сложение, и~$\cap$, трактуемой как умножение с~нейтральным элементом~$e$ и~без обратного элемента, образует кольцо. В~частности, указанным условиям удовлетворяют множества~$\parts(x)$ и~$\{\varnothing, x\}$ для произвольного~$x$.
 \item Множество натуральных чисел с~обычными операциями сложения и~умножения образует полукольцо.
% \item Множество кардинальных чисел, меньших заданного бесконечного кардинала, с~операциями сложения и~умножения для кардинальных чисел, образует полукольцо.
\end{itemize}


Комплексный род структуры с~двумя тернарными отношениями называется \emph{алгебраической решёткой}, если содержит аксиомы полугруппы для сложения и~умножения, сложение и~умножение коммутативны, а~также введены аксиомы поглощения \Axref{absorb1}, \Axref{absorb2}.

\p Дополним род структуры алгебраической решётки ещё тремя родовыми константами: $d_3 \in \parts(x\times x)$, $d_4 \in x$, $d_5 \in x$. Добавим аксиомы всюдуопределённости и~прямой однозначности (\Axref{map1} и~\Axref{map2}) для~$d_3$, так что~$d_3$ будет отображением~$x$ в~$x$ и~введём сокращающее обозначение биективно переносимого терма $\bar a \rightleftharpoons \bigcup \{u \in x \mid (a, u) \in d_3\}$.

С операциями~$a+b$ и~$a\cdot b$ операцию~$\bar a$ могут связывать следующие соотношения:

\Ax{complem1}{\forall a \in x (a \cdot \bar a = d_4)}{первый закон дополнительности,}

\Ax{complem2}{\forall a \in x (a + \bar a = d_5)}{второй закон дополнительности.}

Добавив к~аксиомам алгебраической решётки все четыре аксиомы дистрибутивности \Axref{leftdistr}, \Axref{rightdistr}, \Axref{leftdistrdot}, \Axref{rightdistrdot} и~аксиомы дополнительности \Axref{complem1}, \Axref{complem2}, получим род структуры \emph{булевой алгебры}.

Рассмотрим две интерпретации рода структуры булевой алгебры.

\begin{itemize}
	\item Пусть $\false = \varnothing$, $\true = \{\varnothing\}$, множество~$x$ интерпретируется термом $\{\false, \true\}$, $d_4$ и~$d_5$~--- термами~$\false$ и~$\true$ соответственно. Коль скоро элементы~$x$~--- истинностные значения, то~входящие в~род структуры отображения можно проинтерпретировать следующим образом: $a\cdot b$ как~$a\&b$, $a + b$ как~$a \vee b$, $\bar a$ как~$\neg a$. Легко проверить, что аксиомы рода структуры булевой алгебры (которые состоят, напомним, из~аксиом алгебраической решётки, дистрибутивности и~дополнительности) при этом выполняются.

 \item Пусть теперь~$v$~--- произвольное множество, $x$ интерпретируется как~$\parts (v)$ (множество всех подмножеств~$v$), $d_4$ и~$d_5$~--- термами $\varnothing$ и~$v$ соответственно. Пусть $a\cdot b = a \cap b$, $a + b = a \cup b$, $\bar a = v \setminus a$. Легко проверить, что и~в~этом случае все аксиомы рода структуры булевой алгебры выполняются, а~предыдущий пример является частным случаем для $v = \{\varnothing\}$.
\end{itemize}

Все роды структур, базирующиеся на~отображениях из~декартова произведения элементов~$x$ в~$x$ (в~частности, все рассмотренные нами тернарные отношения и~комплексные роды структур), называются \emph{алгебраическими структурами} и~являются предметом изучения в~абстрактной алгебре. Здесь упомянуты только самые базовые алгебраические структуры, в~действительности их~гораздо больше.

\p Рассмотрим роды структур с~типовой характеристикой $d \in \parts \parts(x)$.

\Ax{quot1}{\forall a\in x,\exists g\in d (a\in g)}{элементы~$d$ полностью покрывают множество~$x$,}

\Ax{quot2}{\forall g_1\in d,\forall g_2\in d ((g_1\cap g_2 = \varnothing ) \vee (g_1=g_2))}{любые два элемента из~$d$ либо не~пересекаются, либо совпадают,}

\Ax{top1}{\forall g \subseteq d (\bigcup g \in d)}{множество-объединение любого подмножества~$d$ принадлежит~$d$,}

\Ax{top2}{\forall a \in d, \forall b \in d (a\cap b \in d)}{пересечение пары любых элементов~$d$ принадлежит~$d$,}

\Ax{xind}{x \in d}{$x$ принадлежит~$d$,}

\Ax{esnotind}{\varnothing \notin d}{пустое множество не~принадлежит~$d$,}

\Ax{filter}{\forall a \in d, \forall b \subseteq x (a\subseteq b \imp b \in d)}{надмножество любого элемента~$d$ является элементом~$d$,}

\Ax{ultrafilter}{\forall g \subseteq x (g \in d \vee x\setminus g \in d)}{для любого подмножества~$x$ либо оно само, либо его дополнение до~$x$ принадлежит~$d$.}

Род структуры с~рассматриваемой типовой характеристикой называется \emph{фактормножеством}, или \emph{разбиением множества}, если содержит аксиомы \Axref{quot1} и~\Axref{quot2}; \emph{топологическим пространством}, если содержит аксиомы \Axref{top1}, \Axref{top2}, \Axref{xind} (множество~$d$ при этом интерпретируется как множество всех открытых множеств); \emph{фильтром на~множестве}, если содержит аксиомы \Axref{top2}, \Axref{xind}, \Axref{esnotind}, \Axref{filter}; \emph{ультрафильтром на~множестве}, если содержит аксиомы \Axref{top2}, \Axref{xind}, \Axref{esnotind}, \Axref{filter}, \Axref{ultrafilter}.

\p Другой способ задать топологическое пространство~--- использовать типовую характеристику $d \in \parts (\parts(x) \times \parts(x))$, где~$d$ интерпретируется как функция, ставящая в~соответствие множеству точек топологического пространства его замыкание. Таким образом, род структуры топологии на~базе типизации $d \in \parts (\parts(x) \times \parts(x))$ должен содержать аксиомы \Axref{map1}, \Axref{map2} для~$d$ и~$\parts(x)$. Определим сокращающее обозначение $[a] \rightleftharpoons \bigcup \{u \in \parts(x) \mid (a, u) \in d\}$ для терма, обозначающего замыкание множества~$a$. Род структуры топологии в~этом случае должен содержать также аксиомы

\Ax{top21}{\forall a \in \parts(x)(a \subseteq [a])}{замыкание множества есть надмножество исходного множества,}

\Ax{top22}{\forall a \in \parts(x)([[a]]=[a])}{идемпотентность замыкания,}

\Ax{top23}{\forall a \in \parts(x), \forall b \in \parts(x)([a\cup b]=[a]\cup[b])}{замыкание объединения пары множеств есть объединение замыканий данных множеств,}

\Ax{top24}{[\varnothing]=\varnothing}{замыкание пустого множества есть пустое множество.}

\p Рассмотрим род структуры \emph{линейного векторного пространства над полем~$\mathbb R$ действительных чисел}. Он~содержит две родовых константы: $d_1\in \parts ((x \times x)\times x)$, задающую операцию сложения векторов, и~$d_2\in \parts ((\mathbb R \times x)\times x)$, задающую умножение вектора на~скаляр. Соответствующие варианты аксиом всюдуопределённости и~прямой однозначности (\Axref{map1} и~\Axref{map2}) вводятся для~$d_1$ и~$d_2$, что позволяет воспользоваться стандартными знаками~$+$ и~$\cdot$. Относительно операции сложения векторов вводятся аксиомы абелевой группы. Относительно операции умножения вектора на~скаляр должны быть введены следующие аксиомы (по~традиции и~для удобства будем выделять жирным шрифтом переменные, типизированные как элементы множества~$x$):

\Ax{assocsc}{\forall a \in \mathbb R, \forall b \in \mathbb R, \forall \mathbf c \in x ((a\cdot b)\cdot \mathbf c = a\cdot (b\cdot \mathbf c))}{ассоциативность умножения на~скаляр.} Заметим, что здесь выражение~$a\cdot b$ должно пониматься как произведение действительных чисел, во~всех же~остальных случаях знак~$\cdot$ трактуется как операция, задаваемая константой~$d_2$.

\Ax{distrsc}{\forall a \in \mathbb R, \forall b \in \mathbb R, \forall \mathbf c \in x ((a + b)\cdot \mathbf c = a \cdot \mathbf c + b \cdot \mathbf c)}{дистрибутивность скалярной суммы.} Заметим, что в~левой части равенства выражение~$a + b$ должно пониматься как сумма действительных чисел, в~правой же~части равенства знак~$+$ трактуется как операция, задаваемая константой~$d_1$.

\Ax{distrve}{\forall a \in \mathbb R, \forall \mathbf b \in x, \forall \mathbf c \in x (a \cdot(\mathbf b + \mathbf c) = a \cdot \mathbf b + a \cdot \mathbf c)}{дистрибутивность векторной суммы.}

\Ax{vect1}{\forall \mathbf c \in x (1\cdot \mathbf c = \mathbf c)}{единица служит нейтральным элементом умножения на~скаляр.} В~этом случае знак~$1$ указывает на~нейтральный элемент операции умножения поля~$\mathbb R$, т.~е. на~действительное число~$1$.

Род структуры линейного пространства над полем~$\mathbb C$ комплексных чисел строится аналогичным образом.

%\p Наконец, рассмотрим два простых прикладных примера, демонстрирующих применение родов структур в~концептуальном моделировании. X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X
\p \textbf{Вывод структур.} Пусть дан род структуры~$\Sigma$ на~$n$ базисных множествах~$\vect xn$ с~типовой характеристикой~$T_\Sigma$ вида $d_\Sigma \in S_\Sigma[x_1,\ldots x_n]$ и~аксиомой~$R_\Sigma$. Пусть также дан род структуры~$\Theta$, который построен на~базисных множествах~$x_{n+1}$,\ldots $x_{n+m}$, с~типовой характеристикой~$T_\Theta$ вида $d_\Theta \in S_\Theta[x_{n+1},\ldots x_{n+m}]$ и~аксиомой~$R_\Theta$.

Терм $(\psi_1,\ldots \psi_m, \zeta)$ называется \emph{способом вывода структуры рода~$\Theta$ из~структуры рода~$\Sigma$}, если он

\begin{enumerate}
	\item биективно переносим при типизации~$T_\Sigma$;
	\item не~содержит никаких параметров, кроме, возможно, $\vect xn, d_\Sigma$;
	\item соотношение $(\psi_1\mid x_{n+1})\ldots(\psi_m\mid x_{n+m})(\zeta \mid d_\Theta)(T_\Theta \& R_\Theta)$ является теоремой~$\Sigma$.
\end{enumerate}

Всякий терм, удовлетворяющий первым двум из~перечисленных условий, называется \emph{внутренним термом} $\Sigma$.

Если дан~$\Sigma$-объект $(\xi_1,\ldots \xi_n, \delta)$ и~способ вывода $(\psi_1,\ldots \psi_m, \zeta)$ структуры рода~$\Theta$ из~структуры рода~$\Sigma$, то, очевидно, терм \[(\xi_1\mid x_1)\ldots(\xi_n\mid x_n)(\delta\mid d_\Sigma) (\psi_1,\ldots \psi_m, \zeta)\] будет являться~$\Theta$-объектом. Мы~будем говорить, что~$\Theta$-объект рассматриваемого вида является \emph{подчинённым~$\Sigma$-объекту $(\xi_1,\ldots \xi_n, \delta)$ посредством способа вывода $(\psi_1,\ldots \psi_m, \zeta)$}.

 Если имеется способ вывода~$\Theta$ из~$\Sigma$, то~для всякой теоремы~$B$ рода структуры~$\Theta$ формула $(\psi_1\mid x_{n+1})\ldots(\psi_m\mid x_{n+m})(\zeta \mid d_\Theta)B$ будет, как легко убедиться, теоремой рода структуры~$\Sigma$.

Часто имеет место случай, когда удаётся построить такой способ вывода, что термы $\psi_1,\ldots \psi_m$ совпадают с~некоторыми из~базисных множеств~$\Sigma$ $\vect xn$. В~этом случае подчинённый~$\Theta$-объект называют \emph{нижележащим} по~отношению к~$\Sigma$-объекту $(\xi_1,\ldots \xi_n, \delta)$.

Наконец, если~$T_\Theta$ совпадает с~$T_\Sigma$ и~аксиома~$R_\Theta$ отсутствует либо имеет место $\mathcal T \vdash R_\Sigma \imp R_\Theta$, то~способ вывода~$\Theta$ из~$\Sigma$ особенно прост и~представляет собой терм \[(x_1,\ldots x_n, d_\Sigma).\]

Иначе говоря, в~этом случае любой~$\Sigma$-объект является также и~$\Theta$-объектом. В~этом случае говорят, что род структуры~$\Sigma$ \emph{богаче} рода структуры~$\Theta$.

Рассмотрим примеры.

\begin{itemize}
	\item Род структуры биекции богаче родов структур инъекции и~сюръекции, т.~к. отличается от~инъекции наличием аксиомы \Axref{map3} и~от~сюръекции наличием аксиомы \Axref{map4}. Вследствие этого каждая биекция является также и~инъекцией, и~сюръекцией, способ вывода тривиален: $(x_1, x_2, d)$.

 \item Род структуры абелевой группы богаче рода структуры группы, род структуры группы богаче рода структуры моноида, род структуры моноида богаче рода структуры полугруппы. Род структуры поля богаче рода структуры тела, род структуры тела богаче рода структуры кольца, род структуры кольца богаче рода структуры полукольца.

 \item Род структуры нестрогого линейного порядка богаче рода структуры решётки, т.~к. всякий объект, удовлетворяющий аксиомам нестрогого линейного порядка, удовлетворяет также и~аксиомам решётки.

 \item Пусть дан род структуры булевой алгебры, построенный на~базисном множестве~$x$ и~родовых константах~$d_1$,\ldots $d_5$. Тогда $(x, d_1, d_2)$ является способом вывода рода структуры алгебраической решётки из~рода структуры булевой алгебры. Решётка $(x, d_1, d_2)$ при этом является нижележащей по~отношению к~булевой алгебре $(x, d_1, \ldots d_5)$.

 \item Пусть дан некоторый произвольный род структуры, содержащий базисное множество~$x$. Терм $(x^x, \{((u, v), w) \in (\parts (x \times x) \times \parts (x \times x))\times \parts (x \times x) \mid u \in x^x \& v \in x^x \& w = u\circ v\})$ есть способ вывода рода структуры моноида из~произвольного рода структуры. Напомним, что~$x^x$ обозначает множество всех отображений~$x$ на~себя, $u \circ v$~--- суперпозицию отображений, множество всех отображений множества на~себя образует моноид по~операции суперпозиции с~нейтральным элементом~$\id_x$.
\end{itemize}

\begin{exercise}Пусть~$\Sigma$ представляет собой род структуры топологии с~типовой характеристикой $d_1 \in \parts\parts(x)$, интерпретируемой как множество всех открытых подмножеств~$x$. Дополним также~$\Sigma$ родовой константой~$d_2\in x$, выделяющей в~$x$ некоторую точку. 1\rp\ Постройте терм~$\zeta$, являющийся внутренним термом~$\Sigma$, равный множеству всех открытых окрестностей точки~$d_2$. 2\rp\ Покажите, что~$(x, \zeta)$ есть способ вывода рода структуры фильтра из~рода структуры~$\Sigma$.\end{exercise}

\begin{exercise}Постройте способ вывода рода структуры разбиения из~рода структуры функции из~$x_1$ в~$x_2$. Указание: разбиение строится на~множестве~$x_1$.\end{exercise}

\p[Эквивалентные роды структур.] Пусть~$\Sigma$ и~$\Theta$~--- два рода структуры с~родовыми константами~$d_\Sigma$ и~$d_\Theta$, удовлетворяющие следующим условиям:

\begin{enumerate}
	\item $\Sigma$ и~$\Theta$ имеют одни и~те~же~базисные множества~$\vect xn$;
 \item имеются способ вывода $(\vect xn, \zeta)$ $\Theta$ из~$\Sigma$ и~способ вывода $(\vect xn, \omega)$ $\Sigma$ из~$\Theta$;
 \item соотношение $(\zeta \mid d_\Theta)\omega = d_\Sigma$ является теоремой~$\Sigma$ и~соотношение $(\omega \mid d_\Sigma)\zeta = d_\Theta$ является теоремой~$\Theta$.
\end{enumerate}

В этом случае говорят, что роды структур~$\Sigma$ и~$\Theta$ эквивалентны посредством способов вывода $(\vect xn, \zeta)$ и~$(\vect xn, \omega)$.

Третье условие обеспечивает взаимную однозначность соответствия между~$\Sigma$ и~$\Theta$-объектами через термы~$\zeta$ и~$\omega$. Если $(\vect {\xi}n, \delta_\Sigma)$ и~$(\vect {\xi}n, \delta_\Theta)$ есть соответственно $\Sigma$ и~$\Theta$-объекты, такие, что $\mathcal T'\vdash (\delta_\Sigma\mid d_\Sigma)\zeta = \delta_\Theta$ (в~силу условия 3 это имеет место тогда и~только тогда, когда $\mathcal T'\vdash (\delta_\Theta \mid d_\Theta)\omega = \delta_\Sigma$~--- проверьте самостоятельно), то~объекты $(\vect {\xi}n, \delta_\Sigma)$ и~$(\vect {\xi}n, \delta_\Theta)$ называют \emph{эквивалентными}.

Наконец, эквивалентные роды структур обладают тем свойством, что для всякой теоремы~$B$ рода структуры~$\Theta$ формула $(\zeta \mid d_\Theta)B$ будет теоремой рода структуры~$\Sigma$ и~для всякой теоремы~$C$ рода структуры~$\Sigma$ формула $(\omega \mid d_\Sigma)C$ будет теоремой рода структуры~$\Theta$.

Рассмотрим примеры.

\begin{itemize}
	\item Род структуры отношения эквивалентности эквивалентен роду структуры разбиения множества. Действительно: пусть~$d_\Sigma$ задаёт отношение эквивалентности,~$d_\Theta$~--- разбиение на~базисном множестве~$x$. В~этом случае фактормножество $x / d_\Sigma = \{u \in \parts (x) \mid \exists a \in x (u = \{t \in x \mid (t, a) \in d_\Sigma\})\}$ есть способ~$\zeta$ вывода разбиения из~отношения эквивалентности, а~терм $\{t \in x \times x \mid {\exists v \in d_\Theta} ({\pr_1(t) \in v} \& {\pr_2(t) \in v}) \}$ есть способ~$\omega$ вывода отношения эквивалентности из~разбиения, как показано в~теореме~\ref{th:factorset}. Убедимся, что $(\zeta \mid d_\Theta)\omega = d_\Sigma$ в~$\Sigma$. В~самом деле: $\{t \in x \times x \mid \exists v \in \parts (x), \exists a \in x (v = \{g \in x \mid (g, a) \in d_\Sigma\} \& \pr_1(t) \in v \& \pr_2(t) \in v )\} = \{t \in x \times x \mid \exists a \in x (\pr_1(t) \in x \& (\pr_1(t), a)\in d_\Sigma\& \pr_2(t) \in x \& (\pr_2(t), a) \in d_\Sigma)\} = \{t \in x \times x \mid (\pr_1(t), \pr_2(t)) \in d_\Sigma\} = d_\Sigma$. Аналогичным образом можно проверить, что $(\omega \mid d_\Sigma)\zeta = d_\Theta$ в~$\Theta$.
	\item Род структуры решётки эквивалентен роду структуры алгебраической решётки.
	
	Действительно, пусть~$d_\Sigma$ задаёт род структуры решётки, $d_\Theta = (d_\Theta^1, d_\Theta^2)$~--- род структуры алгебраической решётки. Обозначим для любой пары элементов~$a$, $b$ через $\inf \{a, b\}$~--- их~точную нижнюю грань, через $\sup \{a, b\}$ их~точную верхнюю грань. В~силу аксиом решётки точная верхняя и~точная нижняя грани существуют у~любой пары элементов. Тогда терм $(\{(a, b, c) \in x \times x \times x \mid c = \sup\{a, b\}\},\{(a, b, c) \in x \times x \times x \mid c = \inf\{a, b\}\})$ есть способ вывода рода структуры алгебраической решётки из~рода структуры решётки. Иначе говоря, мы~отождествляем значение $\sup \{a, b\}$ со~значением~$a + b$, $\inf \{a, b\}$~--- с~$a \cdot b$. Легко проверить, что так введённые операции~$+$ и~$\cdot$ коммутативны, ассоциативны и~удовлетворяют аксиомам поглощения.	
	
	С другой стороны, рассмотрим терм $\{t \in x \times x \mid (\pr_1(t), \pr_2(t), \pr_2(t)) \in d_\Theta^1 \& (\pr_1(t), \pr_2(t), \pr_1(t)) \in d_\Theta^2\}$. Иначе говоря, мы~считаем, что~$a \le b$ тогда и~только тогда, когда
	$a \cdot b = a$ и~$a + b = b$. Нетрудно проверить, что данный терм является способом вывода рода структуры решётки из~рода структуры алгебраической решётки, а~также что $(\zeta \mid d_\Theta)\omega = d_\Sigma$ в~$\Sigma$ и~$(\omega \mid d_\Sigma)\zeta = d_\Theta$ в~$\Theta$.
	
	\item Два указанных выше способа определения топологических пространств (путём задания множества открытых множеств и~операции замыкания множества) эквивалентны. Пусть~$d_\Sigma$ задаёт множество открытых множеств топологического пространства, $d_\Theta$~--- операцию замыкания.
	
	Исходя из~множества открытых множеств~$d_\Sigma$, определим понятие \emph{точки прикосновения к~множеству} следующим образом: $a$ есть точка прикосновения к~множеству~$u$, если любое открытое множество, содержащее~$a$, содержит также хотя бы~одну точку~$u$. Терм, задающий множество всевозможных пар <<$u \subseteq x$, совокупность всех точек прикосновения к~$u$>> является способом вывода рода структуры~$\Theta$ из~$\Sigma$: можно проверить, что если действие этого терма на~множество $u \subseteq x$ обозначить как~$[u]$, то~при этом выполняются свойства $u \subseteq [u]$, $[[u]] = [u]$, $[u \cup v] = [u] \cup [v]$, $[\varnothing] = \varnothing$.
	
С другой стороны, исходя из~операции замыкания, заданной с~помощью~$d_\Theta$, можно определить множество всех замкнутых множеств пространства как множество множеств~$u$, таких, что~$[u] = u$, и~множество всех открытых множеств пространства как множество множеств~$u$, таких, что $x \setminus u$ есть замкнутое множество. Так определённое множество всех открытых множеств пространства является способом вывода рода структуры~$\Sigma$ из~$\Theta$, и~можно проверить, что аксиомы топологического пространства и~требования $(\zeta \mid d_\Theta)\omega = d_\Sigma$ и~$(\omega \mid d_\Sigma)\zeta = d_\Theta$ выполняются.\end{itemize}

\begin{exercise}Докажите, что род структуры частичного нестрогого порядка эквивалентен роду структуры частичного строгого порядка.\end{exercise}

Рассмотренные примеры показывают, что в~определённом смысле одна и~та~же~математическая конструкция может быть определена в~родах структур внешне совершенно разными способами.