\section{Упорядоченные множества}\label{sec:order}

\p \emph{Бинарным отношением на~множестве~$x$} называется такое~$r$, что $r \subseteq x \times x$. Помимо уже рассмотренных в~\S\,\ref{sec:setpower} четырёх стандартных свойств бинарного отношения на~множествах~$x$ и~$y$, для отношения на~одном множестве рассматривают, в~частности, следующие:

\begin{enumerate}
	\item \emph{транзитивность}: $\forall a \forall b \forall c ( (a,b)\in r \& (b,c)\in r \imp (a,c) \in r)$ (если пары~$(a, b)$ и~$(b, c)$ входят в~отношение~$r$, то~пара~$(a, c)$ также входит в~отношение~$r$);
	\item \emph{симметричность}: $\forall a \forall b ((a,b) \in r \imp (b, a) \in r)$ (если пара~$(a, b)$ входит в~отношение~$r$, то~пара~$(b, a)$ тоже обязана входить в~отношение~$r$);
	\item \emph{антисимметричность}: $\forall a \forall b ((a,b) \in r \& (b, a) \in r \imp a = b),$ или, что эквивалентно, $\forall a \forall b (a \neq b \& (a, b) \in r \imp (b, a) \notin r) $ (если~$a \neq b$ и~в~$r$ имеется пара~$(a, b)$, то~в~$r$ не~может быть пары~$(b, a)$);
	\item \emph{рефлексивность}: $\forall a (a\in x \imp (a, a) \in r)$ (для любого элемента~$a$ из~$x$ пара~$(a, a)$ должна входить в~$r$);
	\item \emph{антирефлексивность}: $\forall a (a, a) \notin r$ (в~$r$ не~существует пар вида~$(a, a)$);
	\item \emph{линейность}: $\forall a \forall b (a \in x \& b \in x \& a \neq b \imp (a, b) \in r \vee (b,a) \in r)$ (любая пара нетождественных элементов~$a$ и~$b$ из~множества~$x$ должна входить в~отношение~--- либо как~$(a, b)$, либо как~$(b, a)$).
\end{enumerate}

\p Бинарное отношение, удовлетворяющее условиям рефлексивности, симметричности и~транзитивности, называется \emph{отношением эквивалентности}. Если~$r$~--- отношение эквивалентности, то~часто вместо $(a, b) \in r$ пишут~$\displaystyle{ a \mathrel{\mathop{\simeq}_{r}} b}$ или просто~$a \simeq b$, полагая множество~$r$ заданным. \emph{Классом эквивалентности} $[a]_r$ (или просто~$[a]$) элемента~$a$ по~отношению эквивалентности~$r$ называют множество, состоящее из~тех и~только тех элементов, которые входят с~$a$ в~отношение эквивалентности, т.~е. \[[a]_r \rightleftharpoons \{b \in x \mid (b, a) \in r\}.\] Таким образом, формулы~$b \simeq a$ и~$b \in [a]$ эквивалентны.

Пусть дано множество~$x$ с~введённым на~нём отношением эквивалентности~$r$. \emph{Фактормножеством} для~$x$ по~отношению~$r$ (обозначается~$x / r$) называется множество всех классов эквивалентности на~$x$, т.~е. \[x / r \rightleftharpoons \{u \in \parts (x) \mid \exists a (a \in x \& u = [a]_r)\}.\]

\begin{theorem}\label{th:factorset}Справедливы следующие утверждения:
\begin{enumerate}
	\item Если множество~$x$ разбито в~объединение непересекающихся множеств, т.~е. если дано множество $u \subseteq \parts (x)$, такое, что а\rp\ $\bigcup u = x$ и~б\rp\ $\forall a \forall b (a \in u \& b \in u \imp a \cap b = \varnothing \vee a = b)$, то~отношение <<лежать в~одном множестве>> $\exists v (v\in u \& a \in v \& b \in v)$ является отношением эквивалентности.
	\item Если дано отношение эквивалентности~$r$ на~множестве~$x$, то~фактормножество~$x /r$ является разбиением множества~$x$ (т.~е. удовлетворяет условиям а\rp\ и~б\rp).
\end{enumerate}
 \end{theorem}

\beginproof Первое утверждение доказывается тривиально. Например, если дано разбиение~$u$ и~$\exists v (v \in u \& (a\in v \& b \in v) \& (b \in v \& c \in v))$, то~из~этого сразу следует $\exists v (v \in u \& a\in v \& c \in v)$, что доказывает выполнение условия транзитивности. Рефлексивность и~симметричность доказываются аналогично.

Докажем второе утверждение теоремы.

Условие а\rp\ $\bigcup (x / r) = x$ эквивалентно утверждению $\forall a (a \in x \imp \exists e (e \in x /r \& a \in e))$, которое мы~и~будем доказывать. В~силу рефлексивности $\forall a (a \in x \imp (a \in [a]))$, откуда \[\forall a (a \in x \imp \exists e (e = [a] \& e \in x / r \& a \in e)),\] откуда следует требуемое.

Условие б\rp\ эквивалентно утверждению \[\forall a \forall b (a \in x \& b \in x \imp [a] \cap [b] = \varnothing \vee [a] = [b]),\] что в~свою очередь эквивалентно \[\forall a \forall b (a \in x \& b \in x \& [a] \cap [b] \neq \varnothing \imp [a] = [b]).\]

Докажем последнее утверждение. $[a] \cap [b] \neq \varnothing \sim \exists z (z \simeq a \& z \simeq b)$. В~силу симметричности и~транзитивности имеем $[a] \cap [b] \neq \varnothing \imp a \simeq b$. Отсюда $\forall t (t \in [a] \imp t \in [b])$ (в~силу $t \simeq a \& a \simeq b \imp t \simeq b$), и~наоборот, $\forall t (t \in [b] \imp t \in [a])$, откуда~$[a] = [b]$.\endproof

\begin{exercise}\cite{VereShen1}. Пусть~$r_1$ и~$r_2$ задают на~множестве~$x$ отношение эквивалентности. Будут ли~множества 1\rp\ $r_1\cup r_2$, 2\rp\ $r_1 \cap r_2$, 3\rp\ $r_1 \setminus r_2$ задавать отношения эквивалентности на~множестве~$x$?\end{exercise}

\p Множество называется \emph{(частично) (нестрого) упорядоченным}, если для его элементов введено бинарное отношение, обладающее свойствами транзитивности, рефлексивности и~антисимметричности. Слова <<частично>> и~<<нестрого>> часто для краткости опускают. Само бинарное отношение при этом называют \emph{(частичным) (нестрогим) порядком}. Если вместо свойства рефлексивности бинарное отношение обладает свойством антирефлексивности, то~говорят, что оно задаёт \emph{(частичный) строгий} порядок. Если бинарное отношение строгого или нестрогого порядка обладает также свойством линейности, то~такой порядок называют \emph{линейным} (в~отличие от~частичного).

Если~$r$~--- отношение нестрогого порядка, то~часто вместо $(a, b) \in r$ пишут~$a \le b$, полагая множество~$r$ заданным; для строгого порядка применяют обозначение~$a < b$. Записи~$a \ge b$ и~$a > b$ обозначают соответственно случаи~$b \le a$ и~$b < a$. Для всякого отношения нестрогого порядка~$r$ можно построить соответствующее ему отношение строгого порядка $r \setminus \id_x$ (где, напомним, $\id_x = \{(u, v)\in x \times x \mid u = v\}$), такое, что $a < b \sim a \le b \& a \neq b$. Аналогичным образом для всякого строгого порядка~$r'$ можно получить соответствующий ему нестрогий порядок $r' \cup \id_x$, удовлетворяющий условию $a \le b \sim a < b \vee a = b$. По~этой причине не~имеет смысла изучать свойства строгих и~нестрогих порядков по~отдельности: в~дальнейшем все упорядочения будут по~умолчанию считаться нестрогими, и~для порядка, обозначаемого знаком~$\le$, знак~$<$ будет рассматриваться как соответствующий ему строгий порядок (иначе говоря, запись~$a < b$ будет рассматриваться как сокращающее обозначение для $a \le b \& a \neq b$, или, что то~же, $(a, b) \in r \setminus \id_x$).

Когда порядок на~$x$ не~является линейным (не~выполняется условие линейности), в~$x$ не~исключается существование пар \emph{несравнимых} элементов~$a$, $b$, таких, что ни~$a \le b$, ни~$b \le a$ не~имеет места. Заметим, что в~этом случае, хотя $a \le b \imp \neg b < a$ и~$b < a \imp \neg a \le b$, т.~е. из~\emph{утверждения} отношений~$<$, $\le$ следует отрицание отношений~$\ge$, $>$, из~\emph{отрицания} любого из~этих отношений не~следует никакого утверждения. Так, если отрицается~$a < b$, то~может иметь место как случай~$a \ge b$, так и~случай, когда~$a$ и~$b$ несравнимы. Поэтому следует проявлять осторожность и~понимать, что в~случае частичного порядка среди утверждений <<не меньше>>, <<больше или равно>>, <<не меньше или равно>>, <<больше>> \emph{нет эквивалентных по~определению}.

Рассмотрим примеры.

\begin{itemize}
	\item Всякое множество~$x$ можно частично упорядочить отношением~$\id_x$: бинарное отношение тождества представляет собой частичный порядок, в~котором любые два неравных элемента несравнимы.
 \item Множества натуральных, целых, рациональных, действительных чисел линейно упорядочены обычным отношением~$\le$.
 \item На~множестве функций с~действительными аргументами и~значениями, определённых на~$v \subseteq \mathbb R$, можно ввести частичный (не~линейный) порядок условием <<$f \le g$, если и~только если $\forall x (x \in v \imp f(x) \le g(x))$>>.
 \item На~множестве натуральных чисел можно ввести частичный порядок по~условию <<$a\le b$, если и~только если~$b$ делится без остатка на~$a$>> (проверьте транзитивность, антисимметричность и~рефлексивность).
 \item Множество~$\parts (x)$ всех подмножеств некоторого данного множества может быть частично упорядочено по~условию <<$a \le b$ тогда и~только тогда, когда $a \subseteq b$>> (соответствующий строгий порядок задаётся соотношением $a \subset b$).
 \item Если на~множестве~$x$ определён порядок~$r$ и~$s \subseteq x$, то~множество $(s \times s) \cap r$ будет порядком на~$s$ (будем называть этот порядок \emph{индуцированным}).
 \item Если на~непересекающихся множествах~$x$ и~$y$ определены частичные порядки, то~на~множестве~$x \cup y$ частичный порядок может быть введён, например, следующими способами:
\begin{itemize}
	\item элементы внутри множеств~$x$ и~$y$ сравниваются как раньше, любой элемент множества~$x$ не~сравним с~любым элементом множества~$y$ (такой порядок, если множества~$x$ и~$y$ непустые, будет необходимо частичным);
	\item элементы внутри множеств~$x$ и~$y$ сравниваются как раньше, любой элемент множества~$x$ считается меньшим любого из~элементов множества~$y$. Если на~$x$ и~$y$ введены линейные порядки, то~такой порядок также будет линейным. Множество~$x \cup y$, упорядоченное таким образом, будет называться \emph{суммой упорядоченных множеств~$x$ и~$y$} (заметим, что эта сумма некоммутативна: $x + y \neq y + x$).
\end{itemize}
	\item Если на~множествах~$x$ и~$y$ определены частичные порядки, то~на~множестве~$x \times y$ частичный порядок может быть введён, например, следующими способами:
\begin{itemize}
	\item $(a, b)\le (c, d)$ тогда и~только тогда, когда $a \le c \& b \le d$, такой порядок называется \emph{покоординатным сравнением} и, если множества~$x$ и~$y$ непустые, является необходимо частичным;
 \item $(a, b) \le (c, d)$ тогда и~только тогда, когда $b \le d \vee (b = d \& a \le c)$. Иначе говоря, сначала сравниваются вторые компоненты пар, и, если, например, $b \le d$, то~считается $(a, b) \le (c, d)$. Если же~вторые компоненты пар совпадают, то~сравниваются первые компоненты. Если на~$x$ и~$y$ введены линейные порядки, то~такой порядок также будет линейным. Множество~$x \times y$, упорядоченное таким образом, будет называться \emph{произведением упорядоченных множеств~$x$ и~$y$}.
\end{itemize}
 \item Пусть~$x$~--- непустое множество с~линейным порядком. Назовём это множество \emph{алфавитом}, его элементы~--- \emph{символами}, а~линейный порядок на~этих элементах~--- \emph{алфавитным порядком} (например, на~буквах русского алфавита установлен порядок а~$\le$ б~$\le$ в~$\le$\ \ldots $\le$ я). Тогда элементами терма~$x^*$ (звёздочки Клини, см. определение на~с.~\pageref{KleeneStar}) являются упорядоченные наборы символов (строки). Для любого линейно упорядоченного множества~$x$ множество~$x^*$ может быть линейно упорядочено, например, такими способами:
 \begin{itemize}
	\item 1\rp\ Если строка~$a$ является началом строки~$b$, считаем~$a \le b$ (например, если~$x$~--- кириллический алфавит, то \hbox{абажур $\le$ абажуродержатель}). 2\rp\ Если ни~одна из~строк не~является началом другой, то~отношение между строками определяется первой буквой, в~которой строки различаются (ракета $\le$ рама, т.~к. к $\le$ м). Этот (разумеется, знакомый читателю) линейный порядок на~множестве~$x^*$ называется \emph{словарным}, или \emph{лексикографическим}.
 \item Если множество~$x$~--- конечное и~содержит~$p$ элементов, то~можно интерпретировать строки из~$x^*$ как натуральные числа в~$p$-ичной системе счисления, с~обычным для натуральных чисел линейным порядком.
\end{itemize}
\end{itemize}

\p Пусть~$x$~--- частично упорядоченное множество с~отношением порядка~$\le$. Тогда элемент~$a \in x$ называется
\begin{itemize}
	\item минимальным, если $\forall b (b \in x \imp \neg a > b)$;
	\item наименьшим, если $\forall b (b \in x \imp a \le b)$;
	\item максимальным, если $\forall b (b \in x \imp \neg b > a)$;
	\item наибольшим, если $\forall b (b \in x \imp b \le a)$.
\end{itemize}

Сказанное выше о~разнице между утверждениями~$a \le b$ и~$\neg a > b$ поясняет различие между понятиями минимального и~наименьшего, максимального и~наибольшего элементов. Следующее упражнение предлагает доказать несколько простых утверждений, связанных с~этими понятиями.

\begin{exercise}Докажите следующие утверждения: 1\rp\ всякий наименьший элемент является минимальным, а~наибольший~--- максимальным; 2\rp\ если в~множестве существует наименьший элемент, то~он~единствен, то~же~справедливо для наибольшего элемента; 3\rp\ не~исключается случай, когда множество имеет несколько минимальных и/или несколько максимальных элементов; 4\rp\ если в~множестве имеется несколько минимальных элементов, то~в~нём не~существует наименьшего элемента, если несколько максимальных~--- не~существует наибольшего; 5\rp\ любые два минимальных элемента несравнимы, и~то~же~справедливо для двух максимальных элементов; 6\rp\ если порядок на~множестве линеен, то~его минимальный элемент, если существует, является наименьшим, а~максимальный, если существует,~--- наибольшим.\end{exercise}

Рассмотрим примеры.

\begin{itemize}

\item В~полуинтервале~$[0, 1\rp$ минимальный, он~же~наименьший, элемент~--- $0$, максимального элемента не~существует.

\item В~множестве натуральных чисел, больших единицы, упорядоченных отношением делимости, имеется счётно-бесконечное множество минимальных элементов (простые числа) и~нет наименьшего и~максимальных элементов.

\item В~множестве~$\parts (x)$, частично упорядоченном по~включению, не~всякая пара элементов сравнима. Тем не~менее $\varnothing$~--- наименьший, а~$x$~--- наибольший элемент этого множества.

\item Пусть конечное множество~$x$ состоит из~$n$ элементов. Тогда в~множестве $\parts (x) \setminus \{x\} \setminus \{\varnothing\}$, частично упорядоченном по~включению, имеется~$n$ минимальных элементов (все элементы~$\{t\}$, $t \in x$) и~столько же~максимальных (все элементы $x \setminus \{t\}$, где~$t \in x$).
\end{itemize}

\p Пусть~$x$~--- частично упорядоченное множество с~отношением порядка~$\le$, $s$~--- подмножество~$x$ с~индуцированным на~нём порядком, $a$~--- элемент~$x$. Тогда~$a$ называют

\begin{itemize}
	\item \emph{нижней гранью} $s$, если $\forall b (b \in s \imp a \le b)$;

 \item \emph{наибольшей нижней гранью}, или \emph{infimum} $s$, и~пишут $a = \inf(s)$, если~$a$ есть наибольший элемент множества нижних граней~$s$;

 \item \emph{максимальной нижней гранью} $s$, если~$a$ есть максимальный элемент множества нижних граней~$s$.
\end{itemize}

Аналогичным образом определяются понятия \emph{верхней грани}, \emph{наименьшей верхней грани} (\emph{supremum}, $\sup (s)$) и~\emph{минимальной верхней грани} множества.

\begin{itemize}
	\item Наименьшей верхней гранью (supremum) полуинтервала~$[0, 1\rp$ в~множестве~$\mathbb R$ является~$1$.
	\item Рассмотрим множество конечных подмножеств натуральных чисел, к~элементам которого добавлено также множество целых чисел~$\mathbb Z$ и~множество положительных действительных чисел $\mathbb R_+$. Упорядочим это множество по~включению. В~этом множестве как~$\mathbb Z$, так и~$\mathbb R_+$ являются минимальными верхними гранями множества конечных подмножеств натуральных чисел, но~ни~одно из~них не~является наименьшей верхней гранью, т.~к. $\mathbb Z$ и~$\mathbb R_+$ не~сравнимы по~включению.
\end{itemize}

\p[Изоморфизмы порядков.] Два частично упорядоченных множества~$x$ и~$y$ называются \emph{изоморфными}, если существует такая биекция $f: x \leftrightarrow y$, что \[f(a) < f(b) \lequals a < b.\]

Разумеется, для того чтобы множества~$x$ и~$y$ были изоморфными, необходимо (но~не~достаточно), чтобы их~мощности были равны.

Приведём несколько примеров.

\begin{itemize}
 \item Множества всех действительных чисел и~действительных чисел на~интервале~$(0, 1)$ изоморфны. Изоморфизм $f: (0, 1) \leftrightarrow \mathbb R$ задаёт, например, отображение \[f(x) = \left\{\begin{array}{l}1 - \frac{1}{2x}\mbox{, если $0 < x \le \frac{1}{2}$,} \\ \frac{1}{2(1-x)} - 1\mbox{, если $\frac{1}{2} \le x < 1$.}\end{array} \right.\]
Эта же~функция задаёт изоморфизм между рациональными числами интервала~$(0, 1)$ и~множеством~$\mathbb Q$ всех рациональных чисел (т.~к. переводит рациональные числа в~рациональные).
 \item Отрезок~$[0, 1]$ не~изоморфен числовой прямой, т.~к. у~отрезка есть наибольший и~наименьший элементы, а~у~числовой прямой они отсутствуют (изоморфизм должен переводить наибольшие элементы в~наибольшие).
 \item Счётные множества~$\omega$, $\mathbb Z$ и~$\mathbb Q$ (порядки обычные) попарно неизоморфны. Действительно, у~$\omega$ есть наименьший элемент, а~у~$\mathbb Z$ и~$\mathbb Q$ его нет. Предположим, что имеется изоморфизм~$f$ между~$\mathbb Z$ и~$\mathbb Q$. Рассмотрим два соседних целых числа~$n$ и~${n + 1}$, которые переводятся с~помощью~$f$ в~рациональные $f(n) < f(n+1)$. Тогда любому рациональному числу между~$f(n)$ и~$f(n+1)$ должно соответствовать целое число $n < z < n + 1$, но~таких нет.
	\item Конечные линейно упорядоченные множества из~одинакового числа элементов изоморфны. Действительно, последовательно выбирая по~минимальному элементу из~этих множеств, с~помощью рекурсии можно установить изоморфизм между каждым из~них и~множеством $n = \{0, 1,\ldots n-1\}$, где~$n$~--- количество элементов в~каждом из~множеств.
\end{itemize}

Функция~$f$ называется \emph{монотонной}, если удовлетворяет свойству $a \le b \imp f(a) \le f(b)$. Если~$x$ и~$y$~--- частично упорядоченные множества, то~наличие монотонной биекции $f: x \leftrightarrow y$ ещё не~означает изоморфизма~$x$ и~$y$. Пусть~$x$~--- множество натуральных чисел, упорядоченное отношением делимости, $y$~--- множество натуральных чисел с~обычным отношением порядка, $f = \id_x$. Если~$a$ делит~$b$, то~$a \le b$, но~не~обязательно наоборот, и~множества~$x$ и~$y$ действительно неизоморфны: множество элементов~$x$, непосредственно следующих за~единицей, бесконечно и~равно множеству простых чисел, в~то~время как в~$y$ непосредственно за~единицей следует только двойка.

Однако если~$x$~--- линейно упорядоченное множество, то~наличия монотонной биекции $f: x \leftrightarrow y$ достаточно для установления изоморфизма между~$x$ и~$y$.

\begin{exercise}Проверьте последнее утверждение.\end{exercise}

\begin{exercise}Назовём  множество $x$ \emph{плотным}, если для любых его элементов $a$, $b$, $a < b$, существует элемент $c \in x$, такой, что $a < c < b$. Докажите, что любые два счётных плотных линейно упорядоченных множества без наибольшего и наименьшего элементов изоморфны. Указание: постройте изоморфизм с помощью рекурсии.\end{exercise}

Легко видеть, что отношение изоморфизма транзитивно, рефлексивно и~симметрично. Таким образом, всякое множество упорядоченных множеств разбивается отношением изоморфизма на~классы эквивалентности. Про множества, лежащие в~одном классе эквивалентности по~изоморфизму, говорят, что они имеют одинаковый порядковый тип (разумеется, это лишь ещё один способ сказать, что множества изоморфны).

\p Частично упорядоченное множество называется \emph{фундированным}, если любое его непустое подмножество имеет минимальный элемент. Формально $x$~--- фундированное множество, если и~только если \[\forall u (u \subseteq x \& u \neq \varnothing \imp \exists m (m \in u \& \forall b (b \in u \imp \neg m > b))).\]

Фундированное линейно упорядоченное множество называется \emph{вполне упорядоченным}, а~соответствующий порядок~--- \emph{полным}. Примеры:

\begin{itemize}
	\item множество натуральных чисел вполне упорядочено (см.~упр.~\ref{ex:fundomega});
	\item множество натуральных чисел, упорядоченное отношением делимости, является фундированным, но~не~вполне упорядоченным (т.~к. оно не~упорядочено линейно);
	\item множество целых чисел, упорядоченное обычным отношением~$\le$, не~является фундированным (например, у~множества всех отрицательных целых чисел нет минимального элемента), также и~множество неотрицательных действительных чисел, упорядоченное обычным отношением~$\le$, не~является фундированным (например, у~подмножества~$(0,1)$ нет минимального элемента);
	\item множество действительных чисел $\{x \in \mathbb R \mid x = 1 \vee \exists n( n\in \omega \& x = 1 - 2^{-n})\}$, упорядоченное обычным отношением~$<$, является вполне упорядоченным (проверьте).
\end{itemize}

Следующее упражнение определяет некоторые способы конструирования новых вполне упорядоченных множеств из~уже имеющихся.

\begin{exercise}Докажите, что если~$x$ и~$y$~--- вполне упорядоченные множества, то~их~сумма и~произведение (в~смысле, определённом выше) являются вполне упорядоченными множествами.\end{exercise}

\begin{exercise}Используя аксиому выбора, докажите, что линейно упорядоченное множество~$x$ является вполне упорядоченным тогда и~только тогда, когда в~нём нельзя построить бесконечной убывающей последовательности элементов (т.~е. такой инъекции $h: \omega \rightarrow x$, что $h(n + 1) < h(n)$ для любого натурального~$n$).\end{exercise}

Вполне упорядоченные множества обладают многими интересными свойствами и~играют важную роль в~доказательстве ряда фундаментальных теорем. Несколько удобнее, однако, изучать свойства не~упорядоченных множеств вообще, а~некоторых <<канонических представителей>> класса упорядоченных множеств, именуемых \emph{ординалами}.

\p[Ординалы.] Назовём множество \emph{транзитивным}, если каждый его элемент является также и~его подмножеством: \[\mathrm{Trans}(x) \rightleftharpoons \forall t (t \in x \imp t \subseteq x).\]

\emph{Ординалом} (или \emph{трансфинитным числом}, или \emph{порядковым числом}) называется такое множество, что оно само и~все его элементы транзитивны: \[\Ord(x) \rightleftharpoons \mathrm{Trans}(x) \& \forall t (t \in x \imp \mathrm{Trans}(t)).\] Свойства, непосредственно вытекающие из~этого определения, сформулированы в~следующей теореме.

\begin{theorem}\label{th:simpleord}Справедливы следующие утверждения:
\begin{enumerate}
	\item $\varnothing$~--- ординал;
	\item если~$x$~--- ординал, то~$x + 1$~--- ординал\footnote{\,Напомним, что $x + 1 \rightleftharpoons x \cup \{x\}$.};
	\item $\vdash \Ord(x) \imp \forall t (t \in x \imp \Ord(t))$~--- все элементы ординала являются ординалами;
	\item если~$u$~--- множество ординалов, т.~е. $\forall t (t \in u \imp \Ord(t))$, то~$\bigcup u$~--- ординал.
\end{enumerate}
\end{theorem}
\beginproof Первые два утверждения теоремы тривиальны. Третье тоже доказывается просто: всякий элемент ординала~$x$~--- транзитивен и~является подмножеством~$x$, значит, элементы элементов ординала~$x$ сами являются элементами~$x$ и~транзитивны.

Докажем четвёртое утверждение. Докажем, что~$\bigcup x$~--- транзитивно, что эквивалентно $z \in \bigcup x \imp \forall y (y \in z \imp y \in \bigcup x)$. Имея в~виду~$\forall$-правило вывода, достаточно доказать, что \[z \in \bigcup x \imp (y \in z \imp y \in \bigcup x),\] что эквивалентно \[y \in z \& z \in \bigcup x \imp y \in \bigcup x.\]
	
	Но $y \in z \& z \in \bigcup x \imp y \in z \& \exists t (t \in x \& z \in t)$, откуда в~силу транзитивности каждого~$t \in x$, $y \in z \& z \in \bigcup x \imp y \in z \& \exists t (t \in x \& z \subseteq t)$, из~чего окончательно следует $y \in z \& z \in \bigcup x \imp \exists t (t \in x \& y \in t)$, что и~будет эквивалентно требуемому $y \in z \& z \in \bigcup x \imp y \in \bigcup x$.
	
	Докажем, что каждый элемент~$\bigcup x$ транзитивен. Напомним, что каждый элемент~$x$~--- ординал, а~значит, $z \in \bigcup x \imp \exists t (t \in x \& \Ord(t) \& z \in t)$. Т.~к. каждый элемент ординала является ординалом, то~$\Ord(t) \& z \in t \imp \Ord(z)$, откуда $z \in \bigcup x \imp \Ord(z)$, и~все элементы~$\bigcup x$ являются ординалами (а~значит, транзитивны).\endproof

Чтобы лучше понять, что собой представляют ординалы, рассмотрим некоторые примеры, учитывая, что только что доказанная теорема позволяет двумя способами конструировать новые ординалы из~уже имеющихся: добавлением единицы и~суммированием произвольного множества ординалов.

Прежде всего заметим, что нуль и~все натуральные числа~$1$, $2$, $3$\ldots~--- ординалы, что легко доказывается на~основе первых двух утверждений теоремы по~математической индукции. Множество всех натуральных чисел~$\omega$~--- ординал. Действительно, все его элементы~--- ординалы, а~значит, транзитивны, кроме того, любое натуральное число есть множество чисел, строго меньших~$n$ (см. упр.~\ref{ex:naturalnum}), следовательно, ${n \in \omega} \imp {n \subseteq \omega}$. Но~коль скоро~$\omega$~--- ординал, то~$\omega \cup \{\omega\} = \omega + 1$~--- ординал, и~то~же~справедливо для $\omega + 1 + 1 = \omega + 2$, $\omega + 3$ и~т.~д. (Свойства ординалов позволяют, образно говоря, <<продолжать счёт за~пределами бесконечности>>~--- поэтому они и~называются также \emph{трансфинитными числами}).

Объединение множества ординалов вида~$\omega + n$, где~$n$~--- натуральное число, даёт ординал $\omega + \omega = \omega \cdot 2$, за~которым можно построить $\omega \cdot 2 + 1$, $\omega \cdot 2 + 2$,\ldots и~т.~д., а~затем $\omega \cdot 3$, $\omega \cdot 4$...

Объединение множества ординалов вида $\omega \cdot k$ само является ординалом, обозначим его как~$\omega^2$. За~ним следуют $\omega^2 + 1$, $\omega^2 + 2$,\ldots $\omega^2 + \omega$, $\omega^2 + \omega + 1$,\ldots $\omega^2 + \omega\cdot 2$,\ldots $\omega^2\cdot 2$,\ldots, $\omega^3$,\ldots $\omega^4$ и~т.~д., объединение ординалов вида~$\omega^n$ даёт $\omega^\omega$. Далее возможно определить $\omega^{(\omega^2)}$ и~т.~д., в~какой-то момент получим $\varepsilon_0 = \bigcup\{\omega, \omega^\omega, \omega^{(\omega^\omega)},\ldots\}$\ldots Процесс конструирования новых ординалов можно продолжать сколько угодно, но~всё б\'ольшие ординалы становится всё труднее описать. %Можно попытаться придумать какую-нибудь систему для их~конструирования, но~следует учесть, что сумма всех ординалов, даваемых этой системой, тоже будет ординалом, за~которым пойдёт последующий и~т.~д.

\p Пусть~$x$~--- некоторое множество ординалов, т.~е. $\forall t (t \in x \imp \Ord(t))$. Нетрудно установить следующие два свойства такого множества.

\begin{enumerate}
	\item $x$ строго упорядочено отношением~$\in$. Антирефлексивность и~антисимметричность отношения~$\in$ следуют из~аксиомы фундирования (см. теорему~\ref{th:regularity} на~с.~\pageref{th:regularity}). Докажем транзитивность. Пусть~$a \in b$ и~$b \in c$. Т.~к. $c$~--- транзитивное множество, то~$b \subseteq c$, откуда~$a \in c$.
	\item Если~$x$~--- непустое множество ординалов, строго упорядоченное отношением~$\in$, то~для любого~$a \in x$ имеется~$b \le a$, минимальное в~$x$. Предположим, что это не~так, т.~е. $\forall y (y \in x \imp \exists u (u \in y))$. В~силу транзитивности каждого элемента~$x$ следствием этого предположения должно быть $\forall y (y \in x \imp \exists u (u \in y \& u \in x))$, т.~е. для любого~$y \in x$ имеется элемент, общий с~$x$ и~$y$. Но~это~--- прямое отрицание аксиомы фундирования.
\end{enumerate}

Таким образом, всякое множество ординалов является фундированным упорядоченным множеством (далее будет показано, что любые два ординала сравнимы и~всякое множество ординалов является вполне упорядоченным множеством).

Фундированность любого множества ординалов позволяет без труда доказать теорему, являющуюся сильным обобщением принципа математической индукции, доказанного в~\S\,\ref{sec:naturalnumbers}, со~множества натуральных чисел на~произвольное множество ординалов (мы~не~говорим <<множество всех ординалов>> по~причине, которая вскоре станет ясна). С~этого момента будем считать, что обозначения~$x < y$ и~$x \in y$, когда речь идёт об~ординалах, взаимозаменяемы.

\begin{theorem}[о трансфинитной индукции]\label{th:transind} Если имеется такое соотношение~$A$ со~свободной переменной~$x$, что \[\forall x (\forall x' (\Ord(x) \& x' < x \imp (x'\mid x)A) \imp A),\] то~$\forall x (\Ord(x) \imp A)$. Иначе говоря, если для произвольного ординала~$x$ установлено, что из~того факта, что если формула~$A$ истинна на~любом ординале, меньшем~$x$, следует, что формула~$A$ истинна на~$x$, то~формула~$A$ должна быть истинна на~любом ординале~$x$.\end{theorem}
\beginproof Предположим, что $\exists x (\Ord(x) \& \neg A)$. Рассмотрим множество ординалов меньших~$x$ и~таких, что~$\neg A$: $\{u \in x \mid \neg (u\mid x)A\}$. Если это множество пусто, то~$\forall x' (x' \in x \imp (x'\mid x)A)$, из~чего должно следовать~$A$ на~$x$, но~мы~предположили обратное~--- противоречие. Следовательно, это множество не~должно быть пусто и~у~него должен иметься минимальный элемент~$u_0$, такой, что любой элемент множества $\{u \in x \mid \neg (u\mid x) A\}$ не~будет меньше этого минимального элемента. Сам минимальный элемент~$u_0$ принадлежит этому множеству, поэтому $\neg(u_0\mid x)A$~--- на~$u_0$ формула ложна. Но~для всех ординалов, меньших~$u_0$, формула истинна. Следовательно, она должна быть истинна и~на~$u_0$~--- противоречие. Следовательно, такого~$x$, что $\Ord(x) \& \neg A$, не~существует.\endproof

\begin{exercise}\label{ex:ind2vars}Пусть~$A$ зависит от~$x$ и~$y$. Докажите, что если \[\begin{array}{l}\forall x \forall y (\forall x' \forall y (x' < x \& \Ord(x) \& \Ord(y) \imp (x' \mid x)A) \& \\  \qquad \& \forall y'(y' < y\& \Ord(x) \& \Ord(y) \imp (y' \mid y)A)\imp A),\end{array}\] то~$\forall x \forall y (\Ord(x) \& \Ord(y) \imp A)$. (Указание. Предположим, что~$A$ ложна для каких-то~$x$ и~$y$. Построим множество $\{(u, v) \in x \times y \mid \neg (u\mid x)(v \mid y) A\}$. Должен существовать минимальный~$u_0$, такой, что при любом~$u < u_0$ и~любом~$v$ $A$ выполняется. Должен далее существовать минимальный~$v_0$, что для всех~$v < v_0$ формула $(u_0\mid x)A$ выполняется, и~т.~д.)\end{exercise}

\begin{theorem}\label{th:ordtrichotomy}Любые два ординала сравнимы по~$\in$. Иначе говоря, $\Ord(x) \& \Ord(y) \imp x < y \vee x = y \vee y < x$.\end{theorem}
\beginproof Обозначим через~$A$ формулу $x < y \vee x = y \vee y < x$. Чтобы доказать $\Ord(x) \& \Ord(y) \imp A$, воспользуемся обобщением трансфинитной индукции на~случай двух переменных (см. упр.~\ref{ex:ind2vars}). Для этого достаточно доказать \[\begin{array}{l}\forall x \forall y (\forall x' \forall y (x' \in x \& \Ord(x) \& \Ord(y) \imp (x' \mid x)A) \& \\ \qquad \& \forall y'(y' \in y\& \Ord(x) \& \Ord(y) \imp (y' \mid y)A)\imp A),\end{array}\] что содержательно означает: если для ординала~$x$ истинно, что каждый его элемент~$x'$ сравним с~любым ординалом~$y$ и~он~сам сравним с~любым~элементом~$y'$ ординала~$y$, то~ординал~$x$ сравним с~ординалом~$y$.

Докажем это утверждение разбором случаев. Для произвольных~$x$, $y$ выполняется по~крайней мере один из~трёх случаев: $x = y$, $x \setminus y \neq \varnothing$, $y \setminus x \neq \varnothing$.

Если~$x = y$, ординалы сравнимы (и~равны).

Пусть $x \setminus y \neq \varnothing$. Тогда имеется элемент~$u$, такой, что $u \in x \& u \notin y$, сравнимый с~$y$. Если~$u = y$, то~$y \in x$, и~ординалы сравнимы. Если~$y \in u$, то, т.~к. $u \subseteq x$ в~силу транзитивности~$x$, имеет место~$y \in x$, и~ординалы сравнимы. Случай~$u \in y$ исключается выбором~$u$.

Пусть, наконец, $y \setminus x \neq \varnothing$. Тогда имеется элемент~$u$, такой, что $u \in y \& u \notin x$, сравнимый с~$x$. Если~$u = x$, то~$x \in y$, и~ординалы сравнимы. Если~$x \in u$, то, т.~к. $u \subseteq y$ в~силу транзитивности~$y$, имеет место~$x \in y$, и~ординалы сравнимы. Случай~$u \in x$ исключается выбором~$u$.\endproof

Из этой теоремы сразу выводятся следующие важные следствия:

\begin{enumerate}
	\item если~$x$ и~$y$~--- ординалы, то~$\neg (x < y) \imp x \ge y$;

 \item если~$x$ и~$y$~--- ординалы, то~$x \subset y \vee x = y \vee y \subset x$, причём $x \subset y$ тогда и~только тогда, когда~$x \in y$;

 \item любое множество ординалов строго линейно вполне упорядочено отношением~$\in$ (и~отношением~$\subset$).
\end{enumerate}

Следующая теорема показывает, что всякий ординал задаёт отношением~$\in$ уникальный (с~точностью до~изоморфизма) полный порядок.

\begin{theorem}\label{th:ordisom} Два ординала изоморфны тогда и~только тогда, когда они равны.\end{theorem}

\beginproof Пусть~$a$, $b$~--- ординалы. Если они равны, то~они изоморфны. Пусть они не~равны. В~силу следствий из~теоремы~\ref{th:ordtrichotomy} без ограничения общности можно считать, что $a \subset b$. Предположим, что изоморфизм $f: a\leftrightarrow b$ существует. В~силу критерия Дедекинда (см.~теорему~\ref{th:Dedekind}) такая биекция может существовать, только если~$b$~--- бесконечное множество. Будем рассуждать так же, как при доказательстве теоремы~\ref{th:Dedekind}. По~условию $\exists x_0 (x_0 \in b \setminus f[b])$. Определим рекурсией $g: \omega \rightarrow b$ на~основе условий \[\begin{array}{l}g(0) = x_0,\\g(n+1) = f(g(n)).\end{array}\]

Индукцией можно показать, что в~силу биективности функции~$f$ \[b \supset f[b] \supset f[f[b]] \supset f[f[f[b]]] \supset \ldots,\] \[g(0) \ni g(1) \ni g(2)\ni \ldots,\] из~чего следует, что~$g[\omega]$~--- множество ординалов без минимального элемента. Но~таких множеств не~существует~--- противоречие. Следовательно, $a$ и~$b$ не~изоморфны.\endproof

Заметим, что бесконечные ординалы могут быть равномощны, но~не~изоморфны: таковы, например, счётные ординалы~$\omega$ и~$\omega + 1$.

\begin{theorem}[<<парадокс Бурали--Форти>>]\label{th:bf} Не~существует множества всех ординалов. Иначе говоря, формула~$\Ord(x)$ не~является коллективизирующей по~$x$.\end{theorem}

\beginproof Пусть~$\Omega=\{x \mid \Ord(x)\}$~--- множество всех ординалов. Оно должно быть транзитивно: по~теореме~\ref{th:simpleord} элементы любого ординала являются ординалами, а значит, элементами~$\Omega$. Каждый элемент $\Omega$~--- ординал, а значит, транзитивен. Отсюда следует, что~$\Omega$ само должно быть ординалом и $\Omega \in \Omega$, что запрещено аксиомой фундирования.\endproof

%\beginproof Пусть~$\Omega$~--- множество всех ординалов. Тогда в~силу теоремы~\ref{th:simpleord}, $\bigcup \Omega$~--- тоже ординал, причём такой, что $\forall t (t \in \Omega \imp \neg t > \bigcup \Omega)$ (из~$\exists t (t \in \Omega \& \bigcup \Omega \in t)$ выводится $\bigcup \Omega \in \bigcup \Omega$, чего быть не~может). В~силу следствия теоремы~\ref{th:ordtrichotomy} имеем $\forall t (t \in \Omega \imp t \le \bigcup \Omega)$, т.~е. $\bigcup \Omega$~--- ординал, больший или равный любому элементу множества~$\Omega$.

%Но тогда и~$\bigcup \Omega + 1$~--- ординал. Т.~к. $x \le y \imp x < y + 1$, то~$\forall t (t \in \Omega \imp t < \bigcup \Omega + 1)$~--- т.~е. ординал $\bigcup \Omega + 1$ строго больше всех ординалов, входящих в~$\Omega$, а~значит, не~равен ни~одному из~них. Но~это противоречит тому, что~$\Omega$~--- множество \emph{всех} ординалов.\endproof

Утверждение только что доказанной теоремы, разумеется, противоречит схеме аксиом неограниченного выделения наивной теории множеств, в~соответствии с~которой при помощи любой формулы~$A$ со~свободной переменной~$x$ можно образовать множество всех~$x$, таких, что~$A$. Более простые примеры противоречий, выводимых из~принципа $\exists y \forall z (z \in y \lequals A)$, уже были рассмотрены ранее: это парадоксы Рассела и~Кантора, связанные с~тем, что формулы~$x \notin x$ и~$x = x$ не~являются коллективизирующими. Интересно, что, несмотря на~свою относительную сложность, факт несуществования множества всех ординалов исторически был установлен ранее и~носит название \emph{парадокса Бурали--Форти}\label{def:bfparadox} по~фамилии открывшего его математика.

\p Ординал~$x$ называется \emph{последующим}, если имеется ординал~$x'$, такой, что~$x = x' + 1$. Не~равный пустому множеству не~последующий ординал называется \emph{предельным}. Нетрудно проверить, что если~$x'$, фигурирующее в~определении последующего ординала, существует, то~оно единственно (см. упр.~\ref{ex:progr}). Следующая теорема устанавливает критерий, определяющий тип произвольного ординала.

\begin{theorem}\label{th:ordtypecrit}Для любого ординала $x \neq \varnothing$ имеет место один и~только один из~следующих случаев:
\begin{enumerate}
	\item $\bigcup x + 1 = x$, и~$x$~--- последующий ординал;
	\item $\bigcup x = x$, и~$x$~--- предельный ординал.
\end{enumerate}
\end{theorem}

\beginproof Из~транзитивности нетрудно установить, что для любого ординала~$x$ имеет место $\bigcup x \subseteq x$, а~значит, $\bigcup x \le x$.

Докажем, что утверждения~$A$: <<$x$~--- последующий ординал>>, $B$: $\bigcup x \subset x$ и~$C$: $x = \bigcup x + 1$ эквивалентны.

$A \imp B$. Пусть~$x$~--- последующий ординал, т.~е. $x = x' \cup \{x'\}$. Тогда $\bigcup x = \left(\bigcup x'\right) \cup \left(\bigcup\{x'\}\right) = x'$ (на~последнем шаге использован тот факт, что $\bigcup x' \subseteq x'$). Но~тогда $\bigcup x = x' < x$.

$B \imp C$. Пусть $\bigcup x \subset x$, а~значит, $\bigcup x < x$. Сравним ординалы $\bigcup x + 1$ и~$x$. $\bigcup x + 1$ не~может быть строго меньше~$x$, т.~к. это означало бы~существование такого~$t$, что $\bigcup x < t < x$, однако $\forall t (t \in x \imp t \le \bigcup x)$ (предположив обратное, выводим $\bigcup x < \bigcup x$). С~другой стороны, $\bigcup x + 1$ не~может быть строго больше~$x$, т.~к. это означало бы~$x + 1 \le \bigcup x + 1$ и~$x \subseteq \bigcup x$, а~мы~предполагаем $\bigcup x \subset x$. В~силу теоремы~\ref{th:ordtrichotomy} остаётся единственный вариант~--- $x = \bigcup x + 1$.

$C \imp A$. Если $x = \bigcup x + 1$, то~ясно, что он~последующий.

Если ординал не~равен $\varnothing$ и~не~последующий, то~он~предельный. С~учётом того, что $\bigcup x \subseteq x$ для любых ординалов, для предельных остаётся случай $\bigcup x = x$.\endproof

\begin{theorem}\label{th:sumord}Любой ординал~$x > \omega$ однозначным образом представим в~виде суммы~$z + n$, где~$z$~--- предельный ординал, $n$~--- натуральное число, сумма~$z + n$ понимается в~смысле $z + \underbrace{1 + 1 +\ldots + 1}_{\mbox{$n$ раз}}$.\end{theorem}

\beginproof Определим рекурсивно функцию $f: \omega \rightarrow x + 1$, такую, что \[\begin{array}{l}f(0) = x,\\ f(n+1) = \left\{ \begin{array}{l}\mbox{$\bigcup f(n)$, если~$f(n)$~--- последующий,} \\ \mbox{$\varnothing$, если~$f(n)$~--- предельный или $\varnothing$.}\end{array}\right.\end{array}\] Начиная с~какого-то момента все элементы~$f(n)$ должны обратиться в~$\varnothing$, иначе получим убывающую последовательность ординалов без минимального элемента (а~у~всякого множества ординалов, напомним, имеется минимальный элемент). Если~$n_0$~--- минимальное число, при котором $f(n_0 + 1) = \varnothing$, то~$f(n_0)$~--- предельный ординал, из~которого можно получить~$x$ путём~$n_0$-кратного прибавления единицы. Однозначность разложения следует из~однозначности на~каждом шаге.\endproof

\p Вслед за~математической индукцией (и~с~её помощью) в~\S\,\ref{sec:naturalnumbers} была доказана теорема~\ref{th:recurs} о~рекурсивных определениях, позволяющая построить функцию на~множестве~$\omega$, располагая только значением этой функции в~точке~$0$ и~способом получения значения~$f(n+1)$ на~основе значения~$f(n)$. Рекурсивные построения использовались далее при доказательстве многих теорем, включая доказанную только что теорему~\ref{th:sumord}. И~подобно тому, как теорема о~трансфинитной индукции расширяет принцип математической индукции, распространяя его со~множества~$\omega$ на~произвольные ординалы, теорема о~трансфинитной рекурсии, которая сейчас будет доказана, позволит рекурсивно строить функции, определённые на~любом ординале, из~которых~$\omega$ является только лишь частным случаем.

В обычной рекурсии (на~множестве~$\omega$) значение функции определяется на~основе её предыдущего значения. Но~если функция определена на~некотором ординале~$x$, какой-то из~$x'< x$ может оказаться предельным и~не~иметь непосредственного предшественника. Поэтому при определении функции по~трансфинитной рекурсии её значение для текущего аргумента определяется на~основе множества сразу всех её предыдущих значений.

\begin{theorem}[о трансфинитной рекурсии]\label{th:transrec} Пусть~$\xi(u)$~--- произвольное выражение терма со~свободной переменной~$u$. Тогда справедливо \[\forall x (\Ord(x) \imp \exists! h (\exists y (h: x \rightarrow y) \& \forall x' (x' < x \imp h(x') = \xi(h[x'])))).\]\end{theorem}

Иначе говоря, для любого ординала~$x$ может быть определена единственная функция~$h$, действующая на~всём~$x$ и~такая, что при любом аргументе~$x' \in x$ её значение определяется с~помощью терма~$\xi$ от~множества значений~$h$ от~всех предыдущих аргументов: $h(x') = \xi(h[x'])$~--- здесь используется тот факт, что любой ординал~$x'$ есть множество ординалов, меньших себя.

\beginproof Естественно при доказательстве этого утверждения прибегнуть к~трансфинитной индукции. Для краткости обозначим через~$A(x, h)$ условие \[\exists y (h: x \rightarrow y) \& \forall x' (x' < x \imp h(x') = \xi(h[x'])),\] и~пусть~$F$ означает формулу \[\forall t (t < x \& \Ord (x) \imp \exists! h A(t, h)).\]

Для трансфинитной индукции достаточно доказать, что $F \imp \exists! h A(x, h)$.

Заметим, что~$A(x, h)$ истинна при

\begin{itemize}
	\item $x = \varnothing$, $h = \varnothing$;
 \item $x = \{\varnothing\}$, $h = \{(\varnothing, \xi(\varnothing))\}$;
 \item $x = \{\varnothing, \{\varnothing\}\}$, $h = \{(\varnothing, \xi(\varnothing)), (\{\varnothing\}, \xi(\{\xi(\varnothing)\}))\}$ и~т.~д.
\end{itemize}

В силу аксиомы подстановки для любого ординала~$x$ \[\exists e (e = \{h \mid \exists t (t < x \& \Ord(x) \& A(t, h) \& \exists! h A(t, h)) \}),\] откуда выводим \[F \imp \exists e (e = \{h \mid \exists t (t < x \& \Ord(x) \& A(t, h))\}).\]

Фигурирующее здесь множество~$e$ есть множество всех тех~$h$, существование и~единственность которых предполагается для каждого~$t \in x$.

Рассмотрим терм~$\bigcup e$ и~убедимся, что $F \imp A(\bigcup x, \bigcup e)$.

Докажем, что~$\bigcup e$~--- функция на~$\bigcup x$. Для любого $z \in \bigcup x$ существует ординал~$t$, такой, что~$z < t < x$, а~ему по~предположению индукции~$F$ соответствует функция~$h_t \in e$, определённая на~всём~$t$ (а~значит, и~в~точке~$z$), такая, что~$A(t, h_t)$. Поэтому для любого $z \in \bigcup x$ в~$\bigcup e$ найдётся элемент, первая проекция которого равна~$z$. Но~он~же~будет и~единственным: покажем, что для любых~$t$, таких, что~$z < t < x$, значения всех~$h_t$ в~точке~$z$ совпадают. В~самом деле: $x' < x \imp (A(x, h) \imp A(x', h))$, и~если предположить, что имеются~$t$ и~$t'$ такие, что~$t' < t$ и~$h_t(z) \neq h_{t'}(z)$, то~это нарушит заложенное в~$F$ условие на~единственность~$h_{t'}$ для ординала~$t'$ (так как выполняются $A(t', h_{t'})$ и~$A(t', h_{t})$).

Проверим теперь, что $\forall x' (x' \in \bigcup x \imp \bigcup e (x') = \xi (\bigcup e [x']))$. Действительно: для каждого $x' < \bigcup x$ имеются ординал~$t$ такой, что~$x' < t < x$ и~функция~$h_t \in e$, для которой данное условие выполняется. Значит, оно выполняется и~для~$\bigcup e$.

Мы только что доказали $F \imp \exists h A(\bigcup x, h)$. Докажем, что $F \imp \exists! h A(\bigcup x, h)$. Пусть~$F$ и~для некоторого~$x$ существуют~$h$, $h'$ такие, что $A(\bigcup x, h)$ и~$A(\bigcup x, h')$. Найдём минимальный аргумент $t \in \bigcup x$, на~котором $h'(t) \neq h(t)$, а~на~всех предыдущих аргументах их~значения совпадают. Но~тогда $h'(t) = \xi(h'[t]) = \xi(h[t]) = h(t)$~--- противоречие.

Итак, $F \imp \exists! h A(\bigcup x, h)$. Если~$x$~--- предельный ординал или $\varnothing$, то~это эквивалентно $F \imp \exists! h A(x, h)$. Если~$x$~--- последующий ординал, то~$x = \bigcup x \cup \{\bigcup x\}$. Доопределим функцию~$h$ <<в точке>>~$\bigcup x$ единственным возможным способом: $h(\bigcup x) = \xi(h[\bigcup x])$.\endproof

Трансфинитную рекурсию мы~будем всегда использовать в~паре со~следующей леммой, выводимой из~парадокса Бурали--Форти.

\begin{lemma}\label{th:exhaust}Пусть даны множество~$x$, терм~$\xi(u)$ такой, что его значением может быть только $\varnothing$ или одноэлементное множество $\{e\} \subseteq x$ и~для любого ординала~$t$ трансфинитной рекурсией определена единственная функция $h_t: t \rightarrow \parts(x)$ такая, что

\[\forall t'\left(t' < t \imp h_t(t') = \left(\bigcup h_t[t']\right) \cup \xi(h_t[t'])\right).\]

Тогда имеется ординал~$t_0$ такой, что для любого~$t' > t_0$ $h_{t'}(t_0) = \bigcup h_{t'}[t_0]$.
\end{lemma}

Иначе говоря, если определённые по~трансфинитной рекурсии функции задают расширяющиеся последовательности подмножеств~$x$, к~которым на~каждом шаге добавляется не~более одного элемента, то~обязательно существует такой ординал~$t_0$, на~котором расширения не~будет.

\beginproof Определённые по~трансфинитной рекурсии функции обладают тем свойством, что если~$t < t'$, то~значения функции~$h_{t}$ совпадают со~значениями~$h_{t'}$ для всех ординалов, меньших~$t$. Рассмотрим следующее логическое условие, которое для краткости обозначим как~$A(t, a)$: \[\exists t' \left(t < t' \& a \in h_{t'}(t) \setminus \bigcup h_{t'}[t]\right).\]

Иначе говоря, $A(t, a)$, если~$a$ есть в~точности элемент~$x$, добавляемый на~ординале~$t$. В~силу того, что на~каждом шаге рекурсии добавляется не~более одного элемента, имеем $\forall t (\Ord(t) \& \exists a A(t, a) \imp \exists!a A(t, a))$, откуда, в~силу аксиомы подстановки, существует множество ординалов \[\{t \mid \exists a (a \in x \& \Ord(t) \& A(t, a))\}\] таких, что на~каждом из~них добавляется некоторый элемент из~$x$.

В силу теоремы~\ref{th:bf}, это множество не~может быть множеством всех ординалов, откуда $\exists t_0 \forall a (a \in x \& \Ord(t_0) \imp \neg A(t_0, a))$. \endproof

\begin{theorem}Любое вполне упорядоченное множество~$x$ изоморфно единственному ординалу.\end{theorem}
\beginproof Определим для всякого $u \subseteq x$ терм~$\eta(u)$ следующим образом: $\{y\in u\mid \forall y' (y' \in u \imp y \le y')\}$. В~силу того, что~$x$ вполне упорядочено, $\eta(u)$ является либо одноэлементным множеством, содержащим наименьший элемент~$u$, либо пустым множеством, если $u = \varnothing$.

В силу теоремы о~трансфинитной рекурсии, для любого ординала~$t$ существует единственная функция $h_t: t \rightarrow \parts(x)$ такая, что \[\forall t'\left(t' < t \imp h_t(t') = \left(\bigcup h_t[t']\right) \cup \eta\left(x \setminus \bigcup h_t[t'] \right)\right).\]

Иначе говоря, каждая из~функций~$h_t$ на~каждом <<шаге>> трансфинитной рекурсии равна множеству выбранных ранее из~$x$ элементов плюс минимальный элемент~$x$ из~числа оставшихся, если элементы остались.

В силу леммы~\ref{th:exhaust}, существует по~крайней мере один (а~значит, существует и~наименьший) ординал~$t'$ такой, что $h_t(t') = \bigcup h_t[t']$. Но~это возможно только если $x = \bigcup h_t[t']$ (иначе $\eta(x \setminus \bigcup h_t[t']) \neq \varnothing$). Нетрудно проверить, что функция $f(t) = \bigcup(h_{t'}(t) \setminus \bigcup h_{t'}[t])$, равная элементу~$x$, выбираемому на~шаге~$t$, сюръективна и~обратнооднозначна, т.~е. является биекцией между ординалом~$t'$ и~$x$.

Но эта биекция монотонна. На~любом <<шаге>>~$t_1$ выбирается наименьший из~оставшихся элементов~$x$, а~на~любом <<шаге>>~$t_2 > t_1$ будет выбираться один из~элементов, остававшихся к~<<шагу>>~$t_1$, кроме наименьшего, т.~е. $t_2 > t_1 \imp f(t_2) > f(t_1)$. В~силу линейной упорядоченности~$t'$ существования монотонной биекции между множествами~$t'$ и~$x$ достаточно для установления изоморфизма между этими множествами.

Таким образом, мы~доказали, что любое вполне упорядоченное множество изоморфно некоторому ординалу. Но~в~силу транзитивности изоморфизма и~теоремы~\ref{th:ordisom} этот ординал~--- единственный.\endproof

\p Использование трансфинитной рекурсии совместно с~аксиомой выбора позволяет доказать ряд важных результатов, к~которым относится теорема Цермело (из~которой сразу следует вывод о~сравнимости любых двух множеств по~мощности) и~лемма Цорна.

\begin{theoremAC}[Цермело]\label{th:Zermelo}Любое множество~$x$ может быть вполне упорядочено.\end{theoremAC}

\beginproof Достаточно доказать, что можно установить биекцию между~$x$ и~некоторым ординалом. Общий подход к~установлению этого факта подобен тому, что применялся в~доказательстве теоремы~\ref{th:preZermelo} на~с.~\pageref{th:preZermelo}.

Прежде всего с~помощью аксиомы выбора обеспечим себя функцией выбора $f_c: \parts(x) \rightarrow \parts(x)$, такой, что $f_c(\varnothing) = \varnothing$ и~$u \neq \varnothing \& u \subseteq x \imp \exists t (\{t\} = f_c(u) \& t \in u)$, т.~е. если аргумент этой функции есть непустое подмножество~$u$, то~результат~--- одноэлементное множество из~одного из~элементов~$u$.

Далее в~доказательстве теоремы~\ref{th:preZermelo} с~помощью обычной рекурсии определялась счётная последовательность сжимающихся множеств, получающаяся <<отбрасыванием>> из~$x$ по~одному элементу, так что если какой-то из~членов этой последовательности обращается в~$\varnothing$, то~все следующие также должны были быть пустыми. Потом выводилось, что такой член обязан существовать, иначе имелась бы~инъекция из~$x$ в~$\omega$, наличие которой отрицается по~условию теоремы~\ref{th:preZermelo}.

Примерно то~же~самое мы~проделаем и~теперь, но~вместо обычной рекурсии для получения последовательности сжимающихся множеств применим трансфинитную, после чего необходимо будет доказать, что в~какой-то момент процедура <<трансфинитного выбора>> исчерпает все элементы произвольного множества~$x$.

В силу теоремы о~трансфинитной рекурсии для любого ординала~$t$ существует единственная функция $h_t: t \rightarrow \parts(x)$, такая, что \[\forall t'\left(t' < t \imp h_t(t') = \left(\bigcup h_t[t']\right) \cup f_c\left(x \setminus \bigcup h_t[t'] \right)\right).\]

Иначе говоря, каждая из~функций~$h_t$ на~каждом <<шаге>> трансфинитной рекурсии равна множеству выбранных ранее из~$x$ элементов плюс ещё один элемент~$x$ из~числа оставшихся, если элементы остались.

В силу леммы~\ref{th:exhaust} существует по~крайней мере один (а~значит, существует и~наименьший) ординал~$t'$, такой, что $h_t(t') = \bigcup h_t[t']$. Но~это возможно, только если $x = \bigcup h_t[t']$ (иначе $f_c(x \setminus \bigcup h_t[t']) \neq \varnothing$). Нетрудно проверить, что функция $f(t) = \bigcup(h_{t'}(t) \setminus \bigcup h_{t'}[t])$, равная элементу~$x$, выбираемому на~шаге~$t$, сюръективна и~обратнооднозначна, т.~е. является биекцией между ординалом~$t'$ и~$x$. Полный порядок на~$x$ переносится с~ординала~$t'$.\endproof

\begin{theoremAC}\label{th:trichotomy}В ZFC любые два множества~$x$, $y$ сравнимы по~мощности.\end{theoremAC}

\beginproof В~силу теоремы Цермело~\ref{th:Zermelo} существуют ординалы~$u$ и~$v$, такие, что существуют биекции $f_x: x \leftrightarrow u$ и~$f_y: y \leftrightarrow v$. Но~в~силу следствия теоремы~\ref{th:ordtrichotomy} для любых ординалов~$u$ и~$v$ должно быть $u \subseteq v$ или $v \subseteq u$. В~первом случае $f_y^{-1} \circ f_x$ есть инъекция из~$x$ в~$y$ и~$|x|\le |y|$, во~втором~--- $f_x^{-1} \circ f_y$ есть инъекция из~$y$ в~$x$ и~$|y| \le |x|$. Таким образом случай, когда не~существует инъекций ни~из~$x$ в~$y$, ни~из~$y$ в~$x$, не~может иметь места.\endproof

Пусть~$x$~--- частично упорядоченное множество. Подмножество $u \subseteq x$ называется \emph{цепью}, если индуцированный на~$u$ порядок линеен.

\begin{lemmaAC}[Цорна]\label{th:Zornlemma}Если~$x$~--- частично упорядоченное множество, в~котором каждая цепь имеет верхнюю грань, то~для любого элемента~$x_0 \in x$ существует $x_0' \ge x_0$, являющийся максимальным в~$x$.\end{lemmaAC}

\beginproof Обозначим для краткости через~$C(u)$ условие <<$u$ есть цепь в~$x$>>, формально записываемое как \[u \subseteq x \& \forall a \forall b (a \in u \& b \in u \& a \neq b \imp a < b \vee b < a).\]

Определим далее терм~$\eta(u)$, задающий множество верхних граней для всякого $u \subseteq x$. Формально, \[\eta(u) = \{y \in x \mid \forall t (t \in u \imp t \le y)\}.\]

Если $t \in u \cap \eta(u)$, то~$t$~--- максимальный (и~даже наибольший) элемент в~$u$. Пусть теперь $\eta'(u) = \eta (u) \setminus u$~--- множество верхних граней $u$, не~являющихся элементами~$u$. 

Пусть $f_c: \parts(x) \rightarrow \parts(x)$~--- функция выбора, как в~доказательствах теорем~\ref{th:preZermelo} и~\ref{th:Zermelo}. Переопределим её так, чтобы $f_c(x) = \{x_0\}$, т.~е. при подстановке в~неё всего~$x$ в~качестве выбираемого элемента выступал заданный в~условии теоремы начальный~$x_0$. В~силу теоремы о~трансфинитной рекурсии для любого ординала~$t$ существует единственная функция $h_t: t \rightarrow \parts(x)$, такая, что \[\forall t'\left(t' < t \imp h_t(t') = \left(\bigcup h_t[t']\right) \cup f_c\left(\eta'\left(\bigcup h_t[t'] \right)\right)\right).\]

Как видим, ситуация почти такая же, как в~доказательстве теоремы Цермело. Каждая из~функций~$h_t$ на~каждом <<шаге>> трансфинитной рекурсии равна множеству выбранных ранее из~$x$ элементов плюс ещё один элемент~$x$~--- но~не~просто из~числа оставшихся, как мы~брали в~теореме Цермело, а~из~числа верхних граней уже выбранного множества элементов, не~входящих в~множество уже выбранных элементов (если такие верхние грани имеются).

В силу леммы~\ref{th:exhaust} существует по~крайней мере один (а~значит, существует и~наименьший) ординал~$t$, такой, что $h_k(t) = \bigcup h_k[t]$ для $k > t$. Но~тогда множество $\bigcup h_k[t] \subseteq x$~--- цепь. Действительно, пусть ${t' < t}$~--- минимальный ординал такой, что во~множестве~$h_k(t')$ имеются несравнимые элементы. Но~$h_k(t')$ есть объединение всех выбранных ранее (сравнимых) элементов и~одноэлементного множества, состоящего из~какой-то верхней грани (сравнимой со~всеми элементами)~--- противоречие, множество $\bigcup h_k[t]$~--- действительно цепь.

Но если $\bigcup h_k[t]$~--- цепь, то у~неё, по условию, существует верхняя грань $b$. Раз все лежащие вне этой цепи верхние грани <<исчерпаны>> на ординале $t$, то $b$ должен лежать внутри цепи и быть её максимальным, и даже наибольшим, элементом. Из сравнимых с~$b$ элементов~$x$ нет элементов, больших~$b$, значит, мы имеем дело с максимальным в $x$ элементом.\endproof

Мы не~будем здесь останавливаться на~арифметических операциях, которые можно ввести над ординалами (об~этом можно прочитать, например, в~\citesets{Kurat1970}, \citesets{Haus04}), а~только выведем некоторые важные, на~наш взгляд, следствия, касающиеся операций над мощностями.

\p[Операции над мощностями (дальнейшее развитие).] Теперь с помощью леммы Цорна мы~готовы получить некоторые существенные обобщения формул, выведенных в~\S\,\ref{sec:cardarithm}.

Первое из~них обобщает формулу $|x| + \aleph_0 = \max (|x|, \aleph_0)$.

\begin{theoremAC}\label{th:cardsum}Если хотя бы~одно из~множеств~$x$, $y$ бесконечно, то~\[|x| + |y| = \max(|x|, |y|).\]\end{theoremAC}
\beginproof Первый шаг: докажем сначала, что для бесконечного~$x$ имеет место $|x| + |x| = |2 \times x|= |x|$.

Условие $|x| \ge \aleph_0$ означает, что в~$x$ можно выделить счётное подмножество $d \subseteq x$, для которого существует биекция $f_d: d \leftrightarrow 2 \times d$ (как нам уже известно, $2 \aleph_0 = \aleph_0$).

Пусть~$m$~--- множество пар~$(a, f_a)$, таких, что: 1\rp~$d \subseteq a \subseteq x$~--- $a$ есть надмножество~$d$ и~подмножество~$x$, 2\rp~$f_a: a \leftrightarrow 2 \times a$~--- $f_a$ есть биекция между~$a$ и~$2 \times a$, 3\rp~$f_d \subseteq f_a$~--- значения~$f_a$ на~$d$ совпадают с~$f_d$.

Упорядочим элементы множества~$m$ отношением ${(a, f_a) \le (b, f_b)} \sim {a \subseteq b} \& {f_a \subseteq f_b}$. Тогда любая цепь~$c$ в~множестве~$m$ имеет верхнюю грань~$\bigcup c$, и~в~силу леммы Цорна~\ref{th:Zornlemma} существует элемент $(e, f_e) \ge (d, f_d)$, максимальный в~$m$. Установим, что~$e$ имеет ту~же~мощность, что и~$x$, чем теорема будет доказана (по~построению, существует биекция между~$e$ и~$2 \times e$).

Т.~к. $e \subseteq x$, $|e| \le |x|$, так что могут иметь место всего два случая: $|e| < |x|$ и~$|e| = |x|$. Предположим, что~$|e| < |x|$ и~$y = x \setminus e$. Докажем, что~$y$~--- бесконечное множество.

Если бы~$e$ и~$y$ были конечными, то~их~сумма, равная~$x$, также была бы~конечной, что противоречит тому, что~$x$~--- бесконечное множество. Если же~$e$ бесконечно, а~$y$~--- конечно, то, т.~к. добавление конечного числа элементов к~бесконечному множеству не~меняет его мощности, $|x| = |e + y| = |e| < |x|$~--- вновь противоречие. Отсюда следует, что~$y$~--- бесконечно.

Но это значит, что в~$y$ можно выделить счётное подмножество~$y'$ и~построить биекцию $f_{y'}: y' \leftrightarrow 2 \times y'$. В~таком случае терм $(e\cup y', f_e \cup f_{y'})$ будет, очевидно, элементом~$m$, превышающим~$(e, f_e)$, что противоречит тому, что~$(e, f_e)$~--- максимальный в~$m$ элемент. Значит, исходное предположение о~том, что~$|e| < |x|$, неверно и~$|e| = |x| = |2 \times e| = |2 \times x| = |x| + |x|$.

Второй шаг. В~силу теоремы~\ref{th:trichotomy} возможны только случаи $|x| \le |y|$ и~$|y| \le |x|$. Пусть, например, $|x| \le |y|$. Тогда $|y| \le |x| + |y|$ и~$|x| + |y| \le |y| + |y| \le |y|$, откуда по~теореме Кантора--Шрёдера--Бернштейна имеем $|x| + |y| = |y|$. Аналогичным образом в~предположении $|x| \ge |y|$ доказывается $|x| + |y| = |x|$, откуда $|x| + |y| = \max(|x|, |y|)$, что и~требовалось.\endproof

В~\S\,\ref{sec:cardarithm} было установлено, что $\aleph_0 \aleph_0 = \aleph_0$ и~$\mathfrak c \mathfrak c = \mathfrak c$. Обобщим этот результат на~любую бесконечную мощность.

\begin{theoremAC}[о квадрате]\label{th:square} $\mathrm{ZFC}\vdash|x| \ge \aleph_0 \imp |x|^2 = |x|$. \end{theoremAC}

\beginproof Действуем так же, как и~при доказательстве теоремы~\ref{th:cardsum}. Условие $|x| \ge \aleph_0$ означает, что в~$x$ можно выделить счётное подмножество $d \subseteq x$, для которого, например, нумерующая функция Кантора~$f_d$ устанавливает биекцию между~$d$ и~$d \times d$.

Пусть~$m$~--- множество пар~$(a, f_a)$, таких, что: 1\rp~$d \subseteq a \subseteq x$~--- $a$ есть надмножество~$d$ и~подмножество~$x$, 2\rp~$f_a: a \leftrightarrow a \times a$~--- $f_a$ есть биекция между~$a$ и~$a \times a$, 3\rp~$f_d \subseteq f_a$~--- значения~$f_a$ на~$d$ совпадают с~$f_d$.

Упорядочим элементы множества~$m$ отношением ${(a, f_a) \le (b, f_b)} \sim {a \subseteq b} \& {f_a \subseteq f_b}$. Тогда любая цепь~$c$ в~множестве~$m$ имеет верхнюю грань~$\bigcup c$, и~в~силу леммы Цорна~\ref{th:Zornlemma} существует элемент $(e, f_e) \ge (d, f_d)$, максимальный в~$m$. Установим, что~$e$ имеет ту~же~мощность, что и~$x$, чем теорема будет доказана (по~построению, существует биекция между~$e$ и~$e \times e$).

Т.~к. $e \subseteq x$, $|e| \le |x|$, так что могут иметь место всего два случая: $|e| < |x|$ и~$|e| = |x|$. Предположим, что~$|e| < |x|$ и~$y = x \setminus e$. До~сих пор мы~почти дословно воспроизводили доказательство теоремы~\ref{th:cardsum}, и~в~этом месте выводилось, что~$y$~--- бесконечное множество. Но~теперь можно утверждать большее: т.~к. $x = y \cup e$, $|x| = \max (|e|, |y|)$ и т.~к. $|e| < |x|$ по~предположению, $|y| = |x| > |e|$.

Это значит, что имеется $y' \subseteq x \setminus e$, такой, что~$|y'| = |e|$. Положим $z = e \cup y'$ и~покажем, что существует биекция между~$z$ и~$z \times z$, продолжающая биекцию~$f_e$. Действительно, \[\begin{array}{l}z \times z = (e \cup y')\times (e \cup y') =\\ \quad =(e \times e)\cup (e \times y') \cup (y' \times e) \cup (y' \times y').\end{array}\]

Т. к. $|e| = |y'| = |y'|^2 = |e|^2$ и~четыре множества, входящих в~объединение, не~пересекаются \[|(e \times y') \cup (y' \times e) \cup (y' \times y')| = 3|y'| = |y'|.\]

Отсюда следует, что существует биекция между~$y'$ и~$(e \cup y')\times(e \cup y') \setminus e \times e$, объединив её с~биекцией~$f_e$, получим биекцию между~$e \cup y'$ и~$(e \cup y')\times(e \cup y')$, продолжающую~$f_e$. Но~это значит, что $(e \cup y', f_{e\cup y'})\ge (e, f_e)$, а~это противоречит предположению о~максимальности~$(e, f_e)$.\endproof

Можно доказать, что в~системе ZF аксиома выбора, теорема~\ref{th:Zermelo} Цермело о~вполне упорядочении, лемма~\ref{th:Zornlemma} Цорна и~теорема~\ref{th:square} о~квадрате \emph{эквивалентны}, т.~е. за~аксиому можно принять любое из~этих утверждений, и~остальные будут выводиться из~него.

\begin{exercise}Используя идеи доказательств теорем~\ref{th:cardsum} и~\ref{th:square}, покажите, что из~леммы Цорна в~ZF следует теорема Цермело о~вполне упорядочении.\end{exercise}

\begin{exercise}Докажите, что из~теоремы Цермело о~вполне упорядочении в~ZF следует аксиома выбора. Указание: в~любом подмножестве вполне упорядоченного множества имеется единственный наименьший элемент.\end{exercise}

Результат выполнения двух последних упражнений доказывает эквивалентность в~ZF теоремы Цермело, леммы Цорна и~аксиомы выбора%\footnote{\,В математическом фольклоре бытует шутка: <<аксиома выбора, очевидно, истинна, теорема Цермело, очевидно, ложна, а~за~лемму Цорна никто не~может поручиться>>. Смысл, разумеется, в~том, что, хотя, как только что доказано, все эти утверждения формально эквивалентны в~ZF, их~субъективное восприятие существенно различается: аксиома выбора воспринимается как интуитивно истинная, теорема Цорна~--- как противоречащая интуиции (как представить себе, например, полный порядок на~множестве действительных чисел?), а~формулировка леммы Цорна настолько сложна, что составить интуитивное представление по~её поводу практически невозможно.}
. Сложнее вывести, например, теорему Цермело из~теоремы о~квадрате. Соответствующее доказательство приведено, например, в~\cite{Ersh04}.

\begin{theoremAC}\label{th:cardprod}Если одно из~множеств~$x$, $y$ бесконечно, а~другое~--- непусто, то~\[|x||y|=\max(|x|, |y|).\]\end{theoremAC}

\beginproof Доказательство аналогично доказательству теоремы~\ref{th:cardsum}, только вместо $|x| + |x| = |x|$ используется доказанное в~теореме~\ref{th:square} утверждение $|x|^2 = |x|$.\endproof

Объединив результаты теорем~\ref{th:cardsum} и~\ref{th:cardprod}, получим, что для непустых множеств~$x$ и~$y$, одно из~которых бесконечно, \[|x| + |y| = |x||y| = \max(|x|, |y|).\]

\begin{exercise}Пусть~$x$~--- бесконечно. Докажите, что $|x^*| = |x|$.\end{exercise}

\begin{exercise}Пусть множество~$y$ бесконечно. Докажите, что \[\begin{array}{l}|x|^{|y|} = 2^{|y|}\mbox{, если }2 \le |x| \le 2^{|y|};\\	|x| \le |x|^{|y|} < 2^{|x|}\mbox{, если }|x| > 2^{|y|}.\end{array}\]
\end{exercise}


\p[Понятие класса.]\label{def:class} Напомним, что такие формулы~$A$, что в~теории множеств выводимо $\exists u \forall z (z\in u \lequals A)$, мы~называли \emph{коллективизирующими}. Если рассматриваемая нами теория множеств непротиворечива, то~не~все формулы являются коллективизирующими: так, например, мы~выяснили, что формулы~$z \notin z$, $z = z$, $\Ord (z)$ и~т.~п. не~могут являться коллективизирующими, т.~к. предположение о~существовании соответствующих множеств ведёт к~противоречиям.

Рассмотренные примеры неколлективизирующих формул наводят на~мысль, что, образно говоря, для некоторых формул~$A$ совокупность <<всех~$x$, таких, что~$A$>> оказывается <<слишком велика>> для того, чтобы являться множеством. Тем не~менее представляется удобным рассуждать о~таких совокупностях как о~самостоятельных объектах. Делать это, не~впадая в~противоречия, позволяет концепция \emph{класса}.

Мы будем говорить, что произвольная формула~$A$, возможно, содержащая~$x$ в~качестве параметра, задаёт \emph{класс} $\{x \mid A\}$ множеств, для которых~$A$ истинно. Например, формула~$\Ord(x)$ задаёт класс ординальных чисел, формула~$x=x$~--- класс всех множеств, $x \neq x$~--- пустой класс и~т.~д.

Если $\{x \mid A\}$~--- класс, то~запись $t \in \{x \mid A\}$ означает, по~определению, $(t \mid x) A$. Отношения $t \subseteq \{x \mid A\}$ и~$t = \{x \mid A\}$ вводятся обычным образом.

Всякое множество является классом (если~$A$~--- коллективизирующая формула, то~$\{x \mid A\}$~--- множество), но~не~всякий класс является множеством. Классы, не~являющиеся множествами, мы~назовём \emph{собственно классами}.

Т. к. собственно классы не~есть множества, они находятся вне предметной области теории множеств. Иначе говоря, если мы~рассматриваем некоторую формулу~$A$ со~свободной переменной~$x$, то~для нас~$x$ <<пробегает>> все множества, но~не~собственно классы. Если теперь мы~захотим построить класс $\{x \mid A\}$, то~в~качестве элементов в~него попадут только множества, но~ни~один собственно класс в~него не~попадёт.

Отсюда следует основное свойство собственно классов: \emph{никакой собственно класс не~может являться элементом другого класса} (и, следовательно, другого множества). Говорить о~<<классе всех классов, таких, что\ldots>> попросту синтаксически некорректно: правильно говорить лишь о~<<классе всех множеств, таких, что\ldots>> Образно говоря, собственно класс является <<настолько большой>> совокупностью, что сам уже не~может быть элементом никакой другой совокупности.

Это свойство и~позволяет применять неколлективизирующие формулы в~выражениях вида $\{x \mid A\}$, не~впадая в~противоречия. Так, мы~можем говорить о~классе всех множеств, не~содержащих себя в~качестве элемента, не~впадая при этом в~парадокс Рассела. Т.~к. $x \notin x$~--- неколлективизирующая формула, то~рассматриваемый класс будет собственно классом и~своим элементом не~будет. Это, однако, не~нарушает <<всеобщности>>, поскольку в~логическом условии идёт речь только о~множествах.

Таким образом, понятие класса сохраняет непротиворечивую теорию множеств непротиворечивой: оно добавляет новые возможности формальной записи, но~не~увеличивает количества выводимых формул.


